{"version":3,"file":"script.js","sources":["src/js/editableTitle.js","src/js/leadership.js","src/js/popupHelper.js","src/js/item.js","src/js/itemMarketing.js","src/js/scroller.js","src/js/popupCopilot.js","src/js/grid.js"],"sourcesContent":["import { Tag, Event, Text } from 'main.core';\nimport { EventEmitter } from 'main.core.events';\n\nexport default class EditableTitle {\n\tconstructor(options)\n\t{\n\t\tthis.title = options.title;\n\t\tthis.phone = options.phone;\n\t\tthis.type = options.type;\n\t\tthis.item = options.item;\n\t\tthis.url = options.url;\n\t\tthis.disabled = options.disabled || false;\n\t\tthis.isEditMode = false;\n\n\t\tthis.$container = null;\n\t\tthis.$containerInput = null;\n\t\tthis.$containerTitle = null;\n\t\tthis.$containerEditIcon = null;\n\n\t\tthis.adjustCloseEditByClick = this.adjustCloseEditByClick.bind(this);\n\t\tthis.adjustCloseEditByKeyDown = this.adjustCloseEditByKeyDown.bind(this);\n\t}\n\n\tstatic get getTitle()\n\t{\n\t\treturn this.title;\n\t}\n\n\tgetContainerEdit()\n\t{\n\t\tif(!this.$containerEditIcon)\n\t\t{\n\t\t\tthis.$containerEditIcon = Tag.render`<div class=\"landing-sites__title-edit\"></div>`;\n\t\t\t// Event.bind(this.$containerEditIcon, 'click', this.adjustEditMode.bind(this));\n\t\t}\n\n\t\treturn this.$containerEditIcon;\n\t}\n\n\tadjustEditMode()\n\t{\n\t\tthis.isEditMode\n\t\t\t? this.closeEdit()\n\t\t\t: this.openEdit();\n\t}\n\n\topenEdit()\n\t{\n\t\tthis.isEditMode = true;\n\t\tthis.getContainer().classList.add('--edit');\n\t\tthis.getContainerInput().select();\n\t\tthis.getContainerInput().focus();\n\t\tthis.getContainerInput().value = this.title;\n\t\tEvent.bind(document.body, 'click', this.adjustCloseEditByClick);\n\t\tEvent.bind(document.body, 'keydown', this.adjustCloseEditByKeyDown);\n\t}\n\n\tadjustCloseEditByClick(ev)\n\t{\n\t\tif(ev.type !== 'click')\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tif(\tev.target !== this.getContainerInput()\n\t\t\t&& ev.target !== this.getContainerEdit())\n\t\t{\n\t\t\tthis.closeEdit();\n\t\t}\n\t}\n\n\tadjustCloseEditByKeyDown(ev)\n\t{\n\t\tif(ev.type !== 'keydown')\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tif(ev.keyCode === 27) // close by Escape\n\t\t{\n\t\t\tthis.closeEdit();\n\t\t\treturn;\n\t\t}\n\n\t\tif(ev.keyCode === 13) // close by Enter\n\t\t{\n\t\t\tthis.closeEdit();\n\t\t\tthis.updateTitle(this.getContainerInput().value);\n\t\t}\n\t}\n\n\tcloseEdit()\n\t{\n\t\tthis.isEditMode = false;\n\t\tthis.getContainer().classList.remove('--edit');\n\t\tEvent.unbind(document.body, 'click', this.adjustCloseEditByClick);\n\t\tEvent.unbind(document.body, 'keydown', this.adjustCloseEditByKeyDown);\n\t}\n\n\tupdateTitle(title: string)\n\t{\n\t\tif(\tthis.getContainerInput().value !== this.getContainerTitle().innerText\n\t\t\t&& this.getContainerInput().value !== '')\n\t\t{\n\t\t\tthis.title = title;\n\t\t\tthis.getContainerTitle().innerText = title;\n\t\t\tlet type = this.type[0].toUpperCase() + this.type.slice(1);\n\t\t\tEventEmitter.emit('BX.Landing.SiteTile:update' + type, {\n\t\t\t\titem: this.item,\n\t\t\t\ttitle: this.title\n\t\t\t});\n\t\t}\n\t}\n\n\tgetContainerInput()\n\t{\n\t\tif(!this.$containerInput)\n\t\t{\n\t\t\tthis.$containerInput = Tag.render`<input\n\t\t\t\tvalue=\"${Text.encode(this.title)}\"\n\t\t\t\ttype=\"text\"\n\t\t\t\tclass=\"landing-sites__title-input\">\n\t\t\t`;\n\t\t}\n\n\t\treturn this.$containerInput;\n\t}\n\n\tgetContainerTitle()\n\t{\n\t\tif(!this.$containerTitle)\n\t\t{\n\t\t\tlet value;\n\n\t\t\tif(this.phone)\n\t\t\t{\n\t\t\t\tvalue = this.phone;\n\t\t\t}\n\n\t\t\tif(this.title)\n\t\t\t{\n\t\t\t\tvalue = this.title\n\t\t\t}\n\n\t\t\tthis.$containerTitle = Tag.render`\n\t\t\t\t<div class=\"landing-sites__title-text --sub\">\n\t\t\t\t\t${Text.encode(value)}\n\t\t\t\t</div>`;\n\t\t}\n\n\t\treturn this.$containerTitle;\n\t}\n\n\tgetContainer()\n\t{\n\t\tif(!this.$container)\n\t\t{\n\t\t\tif (this.disabled)\n\t\t\t{\n\t\t\t\tthis.$container = Tag.render`\n\t\t\t\t\t<span class=\"landing-sites__title\">\n\t\t\t\t\t\t${this.getContainerInput()}\n\t\t\t\t\t\t${this.getContainerTitle()}\n\t\t\t\t\t</span>\n\t\t\t\t`;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.$container = Tag.render`\n\t\t\t\t\t<a href=\"${this.url}\" class=\"landing-sites__title\">\n\t\t\t\t\t\t${this.getContainerInput()}\n\t\t\t\t\t\t${this.getContainerTitle()}\n\t\t\t\t\t\t${this.getContainerEdit()}\n\t\t\t\t\t</a>\n\t\t\t\t`;\n\t\t\t}\n\t\t}\n\n\t\treturn this.$container;\n\t}\n}\n","import { Tag, Event, Loc } from 'main.core';\nimport {EventEmitter} from 'main.core.events';\n\nexport default class LeaderShip {\n\tconstructor(options)\n\t{\n\t\tthis.id = options.id;\n\t\tthis.item = options.item;\n\t\tthis.articles = options.articles || [];\n\n\t\tthis.$container = null;\n\t\tthis.$containerClose = null;\n\n\t\tthis.adjustCloseEditByClick = this.adjustCloseEditByClick.bind(this);\n\t\tthis.adjustCloseEditByKeyDown = this.adjustCloseEditByKeyDown.bind(this);\n\t}\n\n\tshow()\n\t{\n\t\tthis.getContainer().classList.add('--show');\n\t\tEvent.bind(document.body, 'click', this.adjustCloseEditByClick);\n\t\tEvent.bind(document.body, 'keydown', this.adjustCloseEditByKeyDown);\n\t\tEventEmitter.emit('BX.Landing.SiteTile:showLeadership', this.item);\n\t}\n\n\thide()\n\t{\n\t\tthis.getContainer().classList.remove('--show');\n\t\tEvent.unbind(document.body, 'click', this.adjustCloseEditByClick);\n\t\tEvent.unbind(document.body, 'keydown', this.adjustCloseEditByKeyDown);\n\t\tEventEmitter.emit('BX.Landing.SiteTile:hideLeadership', this.item);\n\t}\n\n\tadjustCloseEditByClick(ev)\n\t{\n\t\tif(\tev.type !== 'click')\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tif(\t!ev.target.closest('.landing-sites__helper-' + this.id)\n\t\t\t&& ev.target.className !== 'landing-sites__preview-leadership-text')\n\t\t{\n\t\t\tthis.hide();\n\t\t}\n\t}\n\n\tadjustCloseEditByKeyDown(ev)\n\t{\n\t\tif(ev.type !== 'keydown')\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tif(ev.keyCode === 27) // close by Escape\n\t\t{\n\t\t\tthis.hide();\n\t\t}\n\t}\n\n\tgetContainerClose()\n\t{\n\t\tif(!this.$containerClose)\n\t\t{\n\t\t\tthis.$containerClose = Tag.render`\n\t\t\t\t<div class=\"landing-sites__helper-close-toggler\">${Loc.getMessage('LANDING_SITE_TILE_HIDE')}</div>\n\t\t\t`;\n\n\t\t\tEvent.bind(this.$containerClose, 'click', this.hide.bind(this));\n\t\t}\n\n\t\treturn this.$containerClose;\n\t}\n\n\tgetContainer()\n\t{\n\t\tif(!this.$container)\n\t\t{\n\t\t\tlet articlesNode = Tag.render`<div class=\"landing-sites__helper-list\"></div>`;\n\n\t\t\tfor (let i = 0; i < this.articles.length; i++)\n\t\t\t{\n\t\t\t\tlet item = this.articles[i];\n\t\t\t\tarticlesNode.appendChild(Tag.render`\n\t\t\t\t\t<div class=\"landing-sites__helper-item ${item.read ? '--read' : ''}\">\n\t\t\t\t\t\t<div class=\"landing-sites__helper-item-title\">${item.title}</div>\n\t\t\t\t\t\t<div class=\"landing-sites__helper-item-container\">\n\t\t\t\t\t\t\t<div class=\"landing-sites__helper-item-text\">${item.text}</div>\n\t\t\t\t\t\t\t<div class=\"landing-sites__helper-item-button ${item.read ? '--read' : ''}\"\">\n\t\t\t\t\t\t\t\t${item.read \n\t\t\t\t\t\t\t\t\t? Loc.getMessage('LANDING_SITE_TILE_READ')\n\t\t\t\t\t\t\t\t\t: Loc.getMessage('LANDING_SITE_TILE_TO_READ')}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t`);\n\t\t\t}\n\n\t\t\tthis.$container = Tag.render`\n\t\t\t\t<div class=\"landing-sites__helper landing-sites__helper-${this.id}\">\n\t\t\t\t\t<div class=\"landing-sites__helper-title\">\n\t\t\t\t\t\t<div class=\"landing-sites__helper-title-text\">${Loc.getMessage('LANDING_SITE_TILE_LEADERSHIP_TITLE')}</div>\n\t\t\t\t\t\t${this.getContainerClose()}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"landing-sites__helper-container\">\n\t\t\t\t\t\t${articlesNode}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`;\n\t\t}\n\n\t\treturn this.$container;\n\t}\n}","import {Tag, Event, Loc} from 'main.core';\nimport {EventEmitter} from \"main.core.events\";\nimport 'ui.notification';\n\nexport default class PopupHelper\n{\n\tconstructor(options)\n\t{\n\t\tthis.id = options.id;\n\t\tthis.url = options.url;\n\t\tthis.itemObj = options.itemObj;\n\t\tthis.fullUrl = options.fullUrl;\n\t\tthis.ordersUrl = options.ordersUrl;\n\t\tthis.indexEditUrl = options.indexEditUrl;\n\t\tthis.notPublishedText = options.notPublishedText;\n\t\tthis.qr = null;\n\n\t\tthis.$container = null;\n\t\tthis.$containerClose = null;\n\t\tthis.$containerFirstStep = null;\n\t\tthis.$containerSecondStep = null;\n\t\tthis.$containerQr = null;\n\t\tthis.$containerQrimage = null;\n\t\tthis.$containerInputUrl = null;\n\t\tthis.$containerCopyLink = null;\n\t\tthis.$containerTestOrder = null;\n\n\t\tthis.adjustCloseEditByClick = this.adjustCloseEditByClick.bind(this);\n\t\tthis.adjustCloseEditByKeyDown = this.adjustCloseEditByKeyDown.bind(this);\n\t}\n\n\thide()\n\t{\n\t\tthis.getContainer().classList.remove('--show');\n\t\tEvent.unbind(document.body, 'click', this.adjustCloseEditByClick);\n\t\tEvent.unbind(document.body, 'keydown', this.adjustCloseEditByKeyDown);\n\t\tEventEmitter.emit(this, 'BX.Landing.SiteTile.Popup:onHide', this);\n\t}\n\n\tshow(param: string)\n\t{\n\t\tthis.getContainer().classList.add('--show');\n\t\tif (param === 'link')\n\t\t{\n\t\t\tthis.getContainerFirstStep().style.display = 'none';\n\t\t\tthis.getContainerSecondStep().style.display = 'none';\n\t\t\tthis.getContainerNotPublished().style.display = 'none';\n\n\t\t\tthis.getContainerQr().style.display = null;\n\t\t}\n\t\telse if (param === 'notPublished')\n\t\t{\n\t\t\tthis.getContainerFirstStep().style.display = 'none';\n\t\t\tthis.getContainerSecondStep().style.display = 'none';\n\t\t\tthis.getContainerQr().style.display = 'none';\n\n\t\t\tthis.getContainerNotPublished().style.display = null;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.getContainerQr().style.display = 'none';\n\t\t\tthis.getContainerNotPublished().style.display = 'none';\n\n\t\t\tthis.getContainerFirstStep().style.display = null;\n\t\t\tthis.getContainerSecondStep().style.display = null;\n\t\t}\n\n\t\tEvent.bind(document.body, 'click', this.adjustCloseEditByClick);\n\t\tEvent.bind(document.body, 'keydown', this.adjustCloseEditByKeyDown);\n\t\tEventEmitter.emit(this, 'BX.Landing.SiteTile.Popup:onShow', this);\n\t}\n\n\tadjustCloseEditByClick(ev)\n\t{\n\t\tif (ev.type !== 'click')\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tif (\n\t\t\tev.target.closest('.landing-sites__popup')\n\t\t\t|| ev.target.closest('.landing-sites__container-link-' + this.id)\n\t\t\t|| ev.target.closest('.landing-sites__status-' + this.id)\n\t\t)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tthis.hide();\n\t}\n\n\tadjustCloseEditByKeyDown(ev)\n\t{\n\t\tif (ev.type !== 'keydown')\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tif (ev.keyCode === 27) // close by Escape\n\t\t{\n\t\t\tthis.hide();\n\t\t}\n\t}\n\n\tshowSecondStep()\n\t{\n\t\tthis.getContainerFirstStep().classList.add('--hide-right');\n\t\tthis.getContainerSecondStep().classList.remove('--hide-left');\n\t}\n\n\tshowFirstStep()\n\t{\n\t\tthis.getContainerFirstStep().classList.remove('--hide-right');\n\t\tthis.getContainerSecondStep().classList.add('--hide-left');\n\t}\n\n\tgetContainerInputUrl()\n\t{\n\t\tif (!this.$containerInputUrl)\n\t\t{\n\t\t\tthis.$containerInputUrl = Tag.render`\n\t\t\t\t<input \n\t\t\t\t\ttype=\"text\" \n\t\t\t\t\tstyle=\"position: absolute; opacity: 0; pointer-events: none\"\n\t\t\t\t\tvalue=\"${this.fullUrl}\">\n\t\t\t`;\n\t\t}\n\n\t\treturn this.$containerInputUrl;\n\t}\n\n\tgetContainerCopyLink()\n\t{\n\t\tif (!this.$containerCopyLink)\n\t\t{\n\t\t\tthis.$containerCopyLink = Tag.render`\n\t\t\t\t<div class=\"landing-sites__popup-copy\">\n\t\t\t\t\t${Loc.getMessage('LANDING_SITE_TILE_POPUP_COPY_LINK')}\n\t\t\t\t</div>\n\t\t\t`;\n\n\t\t\tEvent.bind(this.$containerCopyLink, 'click', () => {\n\t\t\t\tthis.getContainerInputUrl().select();\n\t\t\t\tdocument.execCommand('copy');\n\t\t\t\tBX.UI.Notification.Center.notify({\n\t\t\t\t\tcontent: Loc.getMessage('LANDING_SITE_TILE_POPUP_COPY_LINK_COMPLETE'),\n\t\t\t\t\tautoHideDelay: 2000,\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\treturn this.$containerCopyLink;\n\t}\n\n\tgetContainerQrImage()\n\t{\n\t\tlet node = Tag.render`\n\t\t\t<div class=\"landing-sites__popup-image\"></div>\n\t\t`;\n\n\t\tnew QRCode(node, {\n\t\t\ttext: this.fullUrl,\n\t\t\twidth: 250,\n\t\t\theight: 250,\n\t\t});\n\n\t\treturn node;\n\t}\n\n\tgetContainerQr()\n\t{\n\t\tif (!this.$containerQr)\n\t\t{\n\t\t\tlet closeIcon = Tag.render`<div class=\"landing-sites__popup-close\"></div>`;\n\t\t\tEvent.bind(closeIcon, 'click', this.hide.bind(this));\n\t\t\tconst isShop = this.indexEditUrl.startsWith('/shop/');\n\t\t\tconst popupText = isShop ? Loc.getMessage('LANDING_SITE_TILE_POPUP_TEST_ORDER_ACTION_3') : Loc.getMessage('LANDING_SITE_TILE_POPUP_SITE_TEXT');\n\t\t\tconst popupButtonText = isShop ? Loc.getMessage('LANDING_SITE_TILE_POPUP_OPEN_SHOP') : Loc.getMessage('LANDING_SITE_TILE_POPUP_OPEN_SITE');\n\n\t\t\tthis.$containerQr = Tag.render`\n\t\t\t\t<div class=\"landing-sites__popup-container --qr\">\n\t\t\t\t\t${closeIcon}\n\t\t\t\t\t<div class=\"landing-sites__popup-wrapper\">\n\t\t\t\t\t\t<div class=\"landing-sites__popup-content\">\n\t\t\t\t\t\t\t<div class=\"landing-sites__popup-text\">\n\t\t\t\t\t\t\t\t${popupText}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t${this.getContainerQrImage()}\n\t\t\t\t\t\t\t<div class=\"landing-sites__popup-buttons\">\n\t\t\t\t\t\t\t\t<a href=\"${this.fullUrl}\" target=\"_blank\" class=\"ui-btn ui-btn-light-border ui-btn-round\">\n\t\t\t\t\t\t\t\t\t${popupButtonText}\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"landing-sites__popup-bottom\">\n\t\t\t\t\t\t\t<a href=\"${this.fullUrl}\" target=\"_blank\" class=\"landing-sites__popup-url\">\n\t\t\t\t\t\t\t\t${this.url}\n\t\t\t\t\t\t\t\t${this.getContainerInputUrl()}\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t${this.getContainerCopyLink()}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`;\n\t\t}\n\n\t\treturn this.$containerQr;\n\t}\n\n\tgetContainerTestOrder()\n\t{\n\t\tif (!this.$containerTestOrder)\n\t\t{\n\t\t\tthis.$containerTestOrder = Tag.render`\n\t\t\t\t<span class=\"ui-btn ui-btn-success ui-btn-round\">\n\t\t\t\t\t${Loc.getMessage('LANDING_SITE_TILE_POPUP_CREATE_TEST_ORDER')}\n\t\t\t\t</span>\t\n\t\t\t`;\n\n\t\t\tEvent.bind(this.$containerTestOrder, 'click', this.showSecondStep.bind(this));\n\t\t}\n\n\t\treturn this.$containerTestOrder;\n\t}\n\n\tgetContainerFirstStep()\n\t{\n\t\tif (!this.$containerFirstStep)\n\t\t{\n\t\t\tlet closeIcon = Tag.render`<div class=\"landing-sites__popup-close\"></div>`;\n\t\t\tEvent.bind(closeIcon, 'click', this.hide.bind(this));\n\n\t\t\tthis.$containerFirstStep = Tag.render`\n\t\t\t\t<div class=\"landing-sites__popup-container\">\n\t\t\t\t\t${closeIcon}\n\t\t\t\t\t<div class=\"landing-sites__popup-wrapper\">\n\t\t\t\t\t\t<div class=\"landing-sites__popup-title\">\n\t\t\t\t\t\t\t<span class=\"landing-sites__popup-title-text\">\n\t\t\t\t\t\t\t\t${Loc.getMessage('LANDING_SITE_TILE_POPUP_CREATE_TEST_ORDER')}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"landing-sites__popup-content\">\n\t\t\t\t\t\t\t<div class=\"landing-sites__popup-text\">\n\t\t\t\t\t\t\t\t${Loc.getMessage('LANDING_SITE_TILE_POPUP_TEST_ORDER_TEXT')}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"landing-sites__popup-image --first-order\"></div>\n\t\t\t\t\t\t\t<div class=\"landing-sites__popup-buttons\">\n\t\t\t\t\t\t\t\t${this.getContainerTestOrder()}\n\t\t\t\t\t\t\t\t<a href=\"${this.ordersUrl}\" class=\"ui-btn ui-btn-light-border ui-btn-round\">\n\t\t\t\t\t\t\t\t\t${Loc.getMessage('LANDING_SITE_TILE_POPUP_OPEN_CRM')}\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`;\n\t\t}\n\n\t\treturn this.$containerFirstStep;\n\t}\n\n\tgetContainerSecondStep()\n\t{\n\t\tif (!this.$containerSecondStep)\n\t\t{\n\t\t\tlet closeIcon = Tag.render`<div class=\"landing-sites__popup-close\"></div>`;\n\t\t\tlet prevIcon = Tag.render`<div class=\"landing-sites__popup-prev\"></div>`;\n\n\t\t\tEvent.bind(closeIcon, 'click', this.hide.bind(this));\n\t\t\tEvent.bind(prevIcon, 'click', this.showFirstStep.bind(this));\n\n\t\t\tthis.$containerSecondStep = Tag.render`\n\t\t\t\t<div class=\"landing-sites__popup-container --hide-left\">\n\t\t\t\t\t${closeIcon}\n\t\t\t\t\t${prevIcon}\n\t\t\t\t\t<div class=\"landing-sites__popup-wrapper\">\n\t\t\t\t\t\t<div class=\"landing-sites__popup-title\">\n\t\t\t\t\t\t\t<span class=\"landing-sites__popup-title-text\">${Loc.getMessage('LANDING_SITE_TILE_POPUP_TEST_ORDER')}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"landing-sites__popup-content\">\n\t\t\t\t\t\t\t<div class=\"landing-sites__popup-text\">\n\t\t\t\t\t\t\t\t<div class=\"landing-sites__popup-text --list\"><span>1</span> ${Loc.getMessage('LANDING_SITE_TILE_POPUP_TEST_ORDER_ACTION_1')}</div>\n\t\t\t\t\t\t\t\t<div class=\"landing-sites__popup-text --list\"><span>2</span> ${Loc.getMessage('LANDING_SITE_TILE_POPUP_TEST_ORDER_ACTION_2')}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t${this.getContainerQrImage()}\n\t\t\t\t\t\t\t<div class=\"landing-sites__popup-buttons\">\n\t\t\t\t\t\t\t\t<a href=\"${this.ordersUrl}\" class=\"ui-btn ui-btn-success ui-btn-round\">\n\t\t\t\t\t\t\t\t\t${Loc.getMessage('LANDING_SITE_TILE_POPUP_OPEN_CRM')}\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`;\n\t\t}\n\n\t\treturn this.$containerSecondStep;\n\t}\n\n\tgetContainerNotPublished()\n\t{\n\t\tif (!this.$containerNotPublished)\n\t\t{\n\t\t\tconst closeIcon = Tag.render`<div class=\"landing-sites__popup-close\"></div>`;\n\t\t\tEvent.bind(closeIcon, 'click', this.hide.bind(this));\n\n\t\t\tlet buttPublish = Tag.render`\n\t\t\t\t<span href=\"${this.ordersUrl}\" class=\"ui-btn ui-btn-success ui-btn-round\">\n\t\t\t\t\t${Loc.getMessage('LANDING_SITE_TILE_NOT_PUBLISHED_BUTTON_PUBLISH')}\n\t\t\t\t</span>\n\t\t\t`;\n\t\t\tif (\n\t\t\t\tthis.itemObj.access.publication === false\n\t\t\t\t&& this.itemObj.error.publication\n\t\t\t)\n\t\t\t{\n\t\t\t\tconst code = this.itemObj.error.publication.code || '';\n\t\t\t\tconst hint = this.itemObj.error.publication.hint || '';\n\t\t\t\tconst url = this.itemObj.error.publication.url || '';\n\t\t\t\tconst link = this.itemObj.error.publication.link || '';\n\t\t\t\tif (code === 'shop1c')\n\t\t\t\t{\n\t\t\t\t\tbuttPublish = Tag.render`\n\t\t\t\t\t<span \n\t\t\t\t\t\tclass=\"ui-btn ui-btn-success ui-btn-round ui-btn-disabled ui-btn-icon-lock\"\n\t\t\t\t\t\tdata-hint=\"${hint}<br><a href='${url}'>${link}</a>\"\n\t\t\t\t\t\tdata-hint-no-icon\n\t\t\t\t\t\tdata-hint-html\n\t\t\t\t\t\tdata-hint-interactivity\n\t\t\t\t\t>\n\t\t\t\t\t\t${Loc.getMessage('LANDING_SITE_TILE_NOT_PUBLISHED_BUTTON_PUBLISH')}\n\t\t\t\t\t</span>\n\t\t\t\t`;\n\t\t\t\t}\n\t\t\t}\n\t\t\tEvent.bind(buttPublish, 'click', () =>\n\t\t\t{\n\t\t\t\tEventEmitter.emit('BX.Landing.SiteTile:publish', this.itemObj);\n\t\t\t\tthis.hide();\n\t\t\t});\n\n\t\t\tconst buttOpen = Tag.render`\n\t\t\t\t<span href=\"${this.ordersUrl}\" class=\"ui-btn ui-btn-light-border ui-btn-round\">\n\t\t\t\t\t${Loc.getMessage('LANDING_SITE_TILE_NOT_PUBLISHED_BUTTON_OPEN')}\n\t\t\t\t</span>\n\t\t\t`;\n\t\t\tEvent.bind(buttOpen, 'click', () =>\n\t\t\t{\n\t\t\t\t// todo: loader?\n\t\t\t\tif (this.indexEditUrl)\n\t\t\t\t{\n\t\t\t\t\twindow.location.href = this.indexEditUrl;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.$containerNotPublished = Tag.render`\n\t\t\t\t<div class=\"landing-sites__popup-container --not-published\">\n\t\t\t\t\t${closeIcon}\n\t\t\t\t\t<div class=\"landing-sites__popup-wrapper\">\n\t\t\t\t\t\t<div class=\"landing-sites__popup-title\">\n\t\t\t\t\t\t\t<span class=\"landing-sites__popup-title-text\">\n\t\t\t\t\t\t\t\t${this.notPublishedText ? this.notPublishedText.title : 'title'}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"landing-sites__popup-content\">\n\t\t\t\t\t\t\t<div class=\"landing-sites__popup-text\">\n\t\t\t\t\t\t\t\t${this.notPublishedText ? this.notPublishedText.message : 'message'}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"landing-sites__popup-buttons\">\n\t\t\t\t\t\t\t\t${buttPublish}\n\t\t\t\t\t\t\t\t${buttOpen}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`;\n\t\t}\n\n\t\treturn this.$containerNotPublished;\n\t}\n\n\tgetContainer()\n\t{\n\t\tif (!this.$container)\n\t\t{\n\t\t\tthis.$container = Tag.render`\n\t\t\t\t<div class=\"landing-sites__popup\">\n\t\t\t\t\t${this.getContainerFirstStep()}\n\t\t\t\t\t${this.getContainerSecondStep()}\n\t\t\t\t\t${this.getContainerQr()}\n\t\t\t\t\t${this.getContainerNotPublished()}\n\t\t\t\t</div>\n\t\t\t`;\n\t\t}\n\n\t\treturn this.$container;\n\t}\n}","import {Tag, Text, Event, Loc, Dom, Type} from 'main.core';\nimport {Menu} from 'main.popup';\nimport {EventEmitter} from 'main.core.events';\nimport {MessageBox} from 'ui.dialogs.messagebox';\n\nimport EditableTitle from './editableTitle';\nimport LeaderShip from './leadership';\nimport PopupHelper from './popupHelper';\n\nexport default class Item\n{\n\tconstructor(options)\n\t{\n\t\tthis.id = options.id;\n\t\tthis.grid = options.grid;\n\t\tthis.title = options.title;\n\t\tthis.url = options.url;\n\t\tthis.fullUrl = options.fullUrl;\n\t\tthis.domainProvider = options.domainProvider;\n\t\tthis.pagesUrl = options.pagesUrl;\n\t\tthis.ordersUrl = options.ordersUrl;\n\t\tthis.domainUrl = options.domainUrl;\n\t\tthis.contactsUrl = options.contactsUrl;\n\t\tthis.indexEditUrl = options.indexEditUrl;\n\t\tthis.ordersCount = options.ordersCount;\n\t\tthis.phone = options.phone;\n\t\tthis.preview = options.preview;\n\t\tthis.cloudPreview = options.cloudPreview;\n\t\tthis.published = options.published;\n\t\tthis.deleted = options.deleted;\n\t\tthis.domainStatus = options.domainStatus;\n\t\tthis.domainStatusMessage = options.domainStatusMessage;\n\t\tthis.menuItems = options.menuItems || [];\n\t\tthis.menuBottomItems = options.menuBottomItems || [];\n\t\tthis.notPublishedText = options.notPublishedText || null;\n\t\tthis.access = options.access || {};\n\t\tthis.error = options.error || {};\n\t\tthis.articles = options.articles || [];\n\t\tthis.editableTitle = null;\n\t\tthis.editableUrl = null;\n\t\tthis.leadership = null;\n\t\tthis.popupHelper = null;\n\t\tthis.popupStatus = null;\n\t\tthis.popupConfig = null;\n\t\tthis.loader = null;\n\t\tthis.copilotProcess = Type.isBoolean(options.copilotProcess) ? options.copilotProcess : null;\n\n\t\tthis.$container = null;\n\t\tthis.$containerWrapper = null;\n\t\tthis.$containerPreviewImage = null;\n\t\tthis.$containerPreviewStatus = null;\n\t\tthis.$containerPreviewShowPages = null;\n\t\tthis.$containerPreviewInstruction = null;\n\t\tthis.$containerInfo = null;\n\t\tthis.$containerPhone = null;\n\t\tthis.$containerTitle = null;\n\t\tthis.$containerDomain = null;\n\t\tthis.$containerDomainLink = null;\n\t\tthis.$containerDomainStatus = null;\n\t\tthis.$containerDomainStatusIcon = null;\n\t\tthis.$containerDomainStatusTitle = null;\n\t\tthis.$containerDomainStatusMessage = null;\n\t\tthis.$containerSiteStatus = null;\n\t\tthis.$containerSiteStatusRound = null;\n\t\tthis.$containerSiteStatusTitle = null;\n\t\tthis.$containerSiteMore = null;\n\t\tthis.$containerLinks = null;\n\n\t\tthis.bindEvents();\n\n\t\tthis.lazyLoadCloudPreview = this.lazyLoadCloudPreview.bind(this);\n\t}\n\n\tbindEvents()\n\t{\n\t\tEventEmitter.subscribe('BX.Landing.SiteTile:showLeadership', options => {\n\t\t\tif (this === options.data)\n\t\t\t{\n\t\t\t\tthis.active();\n\t\t\t\tthis.setContainerPosition();\n\t\t\t}\n\n\t\t\tif (this !== options.data)\n\t\t\t{\n\t\t\t\tthis.fade();\n\t\t\t}\n\t\t});\n\n\t\tEventEmitter.subscribe('BX.Landing.SiteTile:hideLeadership', options => {\n\t\t\tif (this === options.data)\n\t\t\t{\n\t\t\t\tthis.unActive();\n\t\t\t\tthis.unSetContainerPosition();\n\t\t\t}\n\n\t\t\tthis.unFade();\n\t\t});\n\n\t\tEventEmitter.subscribe(this.getPopupHelper(), 'BX.Landing.SiteTile.Popup:onShow', () => {\n\t\t\tthis.getContainerWrapper().classList.add('--fade');\n\t\t});\n\n\t\tEventEmitter.subscribe(this.getPopupHelper(), 'BX.Landing.SiteTile.Popup:onHide', () => {\n\t\t\tthis.getContainerWrapper().classList.remove('--fade');\n\t\t});\n\t}\n\n\tsetContainerPosition()\n\t{\n\t\tlet offsetRight = window.innerWidth - this.getContainer().getBoundingClientRect().right;\n\t\tlet leaderShipWidth = this.getLeadership().getContainer().offsetWidth;\n\t\tlet previousItem = this.getContainer().previousSibling;\n\t\tif (offsetRight > leaderShipWidth)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tthis.getContainer().style.transform = 'translateX(-' + (leaderShipWidth + 40 - offsetRight) + 'px)';\n\n\t\tif (previousItem && (previousItem.offsetTop === this.getContainer().offsetTop))\n\t\t{\n\t\t\tpreviousItem.style.transform = 'translateX(-10px)';\n\t\t}\n\t}\n\n\tunSetContainerPosition()\n\t{\n\t\tthis.getContainer().style.transform = null;\n\n\t\tlet previousItem = this.getContainer().previousSibling;\n\t\tif (previousItem && (previousItem.offsetTop === this.getContainer().offsetTop))\n\t\t{\n\t\t\tpreviousItem.style.transform = null;\n\t\t}\n\t}\n\n\tupdatePublishedStatus(status: boolean)\n\t{\n\t\tif (this.published === status)\n\t\t{\n\t\t\treturn;\n\t\t}\n\t\tif (this.popupStatus)\n\t\t{\n\t\t\tthis.popupStatus.destroy();\n\t\t}\n\t\tthis.popupStatus = null;\n\n\t\tif (status)\n\t\t{\n\t\t\tthis.published = true;\n\t\t\tthis.getContainerSiteStatusRound().className = 'landing-sites__status-round --success';\n\t\t\tthis.getContainerSiteStatusTitle().innerText = Loc.getMessage('LANDING_SITE_TILE_STATUS_PUBLISHED');\n\t\t\tthis.getContainerPreviewImage().classList.remove('--not-published');\n\t\t\tthis.getContainerPreviewStatus().classList.add('--hide');\n\t\t\treturn;\n\t\t}\n\n\t\tthis.published = false;\n\t\tthis.getContainerSiteStatusRound().className = 'landing-sites__status-round --alert';\n\t\tthis.getContainerSiteStatusTitle().innerText = Loc.getMessage('LANDING_SITE_TILE_STATUS_NOT_PUBLISHED');\n\t\tthis.getContainerPreviewImage().classList.add('--not-published');\n\t\tthis.getContainerPreviewStatus().classList.remove('--hide');\n\t}\n\n\tupdateTitle(param: string)\n\t{\n\t\tif (param)\n\t\t{\n\t\t\tthis.title = param;\n\t\t}\n\t}\n\n\tupdateUrl(param: string)\n\t{\n\t\tif (param)\n\t\t{\n\t\t\tthis.url = param;\n\t\t}\n\t}\n\n\tgetContainerTitle()\n\t{\n\t\tif (!this.$containerTitle)\n\t\t{\n\t\t\tthis.$containerTitle = Tag.render`\n\t\t\t\t<div class=\"landing-sites__title\">\n\t\t\t\t\t<div class=\"landing-sites__title-text\">${this.title}</div>\n\t\t\t\t\t<div class=\"landing-sites__title-edit\"></div>\n\t\t\t\t</div>\n\t\t\t`;\n\t\t}\n\n\t\treturn this.$containerTitle;\n\t}\n\n\tmergeMenuItems(items: Array<Object>): Array<Object>\n\t{\n\t\tconst addMenu = [\n\t\t\t{\n\t\t\t\ttext: this.deleted\n\t\t\t\t\t? Loc.getMessage('LANDING_SITE_TILE_RESTORE')\n\t\t\t\t\t: Loc.getMessage('LANDING_SITE_TILE_REMOVE'),\n\t\t\t\taccess: 'delete',\n\t\t\t\tonclick: () => {\n\t\t\t\t\tif (!this.deleted)\n\t\t\t\t\t{\n\t\t\t\t\t\tconst messageBox = new MessageBox({\n\t\t\t\t\t\t\ttitle: Loc.getMessage('LANDING_SITE_TILE_DELETE_ALERT_TITLE'),\n\t\t\t\t\t\t\tmessage: Loc.getMessage('LANDING_SITE_TILE_DELETE_ALERT_MESSAGE'),\n\t\t\t\t\t\t\tbuttons: BX.UI.Dialogs.MessageBoxButtons.OK_CANCEL,\n\t\t\t\t\t\t\tonOk: () => {\n\t\t\t\t\t\t\t\tEventEmitter.emit('BX.Landing.SiteTile:remove', [this, messageBox]);\n\t\t\t\t\t\t\t\tmessageBox.close();\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tpopupOptions: {\n\t\t\t\t\t\t\t\tautoHide: true,\n\t\t\t\t\t\t\t\tcloseByEsc: true,\n\t\t\t\t\t\t\t\tminHeight: false,\n\t\t\t\t\t\t\t\tminWidth: 260,\n\t\t\t\t\t\t\t\tmaxWidth: 300,\n\t\t\t\t\t\t\t\twidth: false,\n\t\t\t\t\t\t\t\tanimation: 'fading-slide',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t});\n\t\t\t\t\t\tmessageBox.show();\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tEventEmitter.emit('BX.Landing.SiteTile:restore', this);\n\t\t\t\t\t\tthis.getPopupConfig().close();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t},\n\t\t];\n\n\t\tlet spliceStart = 0;\n\t\titems.map((item, i) => {\n\t\t\tif (item.delimiter === true)\n\t\t\t{\n\t\t\t\tspliceStart = i;\n\t\t\t}\n\t\t\tif (this.deleted)\n\t\t\t{\n\t\t\t\titem.disabled = true;\n\t\t\t}\n\t\t});\n\t\taddMenu.reverse().map(item => {\n\t\t\titems.push(item);\n\t\t});\n\n\t\treturn items;\n\t}\n\n\tdisableMenuItems(items: Array<Object>): Array<Object>\n\t{\n\t\titems = items.map(item => {\n\t\t\tif (item.access && this.access[item.access] !== true)\n\t\t\t{\n\t\t\t\titem.disabled = true;\n\t\t\t}\n\t\t\treturn item;\n\t\t});\n\n\t\treturn items;\n\t}\n\n\tgetPopupConfig()\n\t{\n\t\tif (!this.popupConfig)\n\t\t{\n\t\t\tthis.popupConfig = new Menu({\n\t\t\t\tclassName: 'landing-sites__status-popup',\n\t\t\t\tbindElement: this.getContainerSiteMore(),\n\t\t\t\toffsetLeft: -61,\n\t\t\t\tminWidth: 220,\n\t\t\t\tcloseByEsc: true,\n\t\t\t\tautoHide: true,\n\t\t\t\tangle: {\n\t\t\t\t\toffset: 97,\n\t\t\t\t},\n\t\t\t\titems: this.disableMenuItems(this.mergeMenuItems(this.menuItems)),\n\t\t\t\tevents: {\n\t\t\t\t\tonPopupClose: () => {\n\t\t\t\t\t\tthis.getContainerSiteMore().classList.remove('--hover');\n\t\t\t\t\t},\n\t\t\t\t\tonPopupShow: () => {\n\t\t\t\t\t\tthis.getContainerSiteMore().classList.add('--hover');\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tanimation: 'fading-slide',\n\t\t\t});\n\t\t}\n\n\t\treturn this.popupConfig;\n\t}\n\n\tgetPopupStatus(): Menu\n\t{\n\t\tif (!this.popupStatus)\n\t\t{\n\t\t\tthis.popupStatus = new Menu({\n\t\t\t\tclassName: 'landing-sites__status-popup',\n\t\t\t\tbindElement: this.getContainerSiteStatus(),\n\t\t\t\tminWidth: 220,\n\t\t\t\tcloseByEsc: true,\n\t\t\t\tautoHide: true,\n\t\t\t\tangle: {\n\t\t\t\t\toffset: 97,\n\t\t\t\t},\n\t\t\t\titems: [\n\t\t\t\t\t{\n\t\t\t\t\t\ttext: this.published\n\t\t\t\t\t\t\t? Loc.getMessage('LANDING_SITE_TILE_UNPUBLISH')\n\t\t\t\t\t\t\t: Loc.getMessage('LANDING_SITE_TILE_PUBLISH'),\n\t\t\t\t\t\tonclick: () => {\n\t\t\t\t\t\t\tthis.popupStatus.close();\n\t\t\t\t\t\t\tthis.published\n\t\t\t\t\t\t\t\t? EventEmitter.emit('BX.Landing.SiteTile:unPublish', this)\n\t\t\t\t\t\t\t\t: EventEmitter.emit('BX.Landing.SiteTile:publish', this);\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t\tevents: {\n\t\t\t\t\tonPopupClose: () => {\n\t\t\t\t\t\tthis.getContainerSiteStatus().classList.remove('--hover');\n\t\t\t\t\t},\n\t\t\t\t\tonPopupShow: () => {\n\t\t\t\t\t\tthis.getContainerSiteStatus().classList.add('--hover');\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tanimation: 'fading-slide',\n\t\t\t});\n\t\t}\n\n\t\treturn this.popupStatus;\n\t}\n\n\tgetContainerSiteStatus()\n\t{\n\t\tif (!this.$containerSiteStatus)\n\t\t{\n\t\t\tif (this.access.publication)\n\t\t\t{\n\t\t\t\tthis.$containerSiteStatus = Tag.render`\n\t\t\t\t\t<div class=\"landing-sites__status\">\n\t\t\t\t\t\t${this.getContainerSiteStatusRound()}\n\t\t\t\t\t\t${this.getContainerSiteStatusTitle()}\n\t\t\t\t\t\t<div class=\"landing-sites__status-arrow\"></div>\n\t\t\t\t\t</div>\n\t\t\t\t`;\n\n\t\t\t\tEvent.bind(this.$containerSiteStatus, 'click', ev => {\n\t\t\t\t\tthis.getPopupStatus().layout.menuContainer.style.left =\n\t\t\t\t\t\tthis.$containerSiteStatus.getBoundingClientRect().left + 'px';\n\t\t\t\t\tthis.getPopupStatus().show();\n\t\t\t\t\tev.stopPropagation();\n\t\t\t\t});\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.$containerSiteStatus = Tag.render`\n\t\t\t\t\t<div class=\"landing-sites__status_disabled\">\n\t\t\t\t\t\t${this.getContainerSiteStatusRound()}\n\t\t\t\t\t\t${this.getContainerSiteStatusTitle()}\n\t\t\t\t\t</div>\n\t\t\t\t`;\n\n\t\t\t\tif (this.error.publication)\n\t\t\t\t{\n\t\t\t\t\tconst code = this.error.publication.code || '';\n\t\t\t\t\tconst hint = this.error.publication.hint || '';\n\t\t\t\t\tconst url = this.error.publication.url || '';\n\t\t\t\t\tconst link = this.error.publication.link || '';\n\t\t\t\t\tif (code === 'shop1c')\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.$containerSiteStatus = Tag.render`\n\t\t\t\t\t\t\t<div \n\t\t\t\t\t\t\t\tclass=\"landing-sites__status_disabled\"\n\t\t\t\t\t\t\t\tdata-hint=\"${hint}<br><a href='${url}'>${link}</a>\"\n\t\t\t\t\t\t\t\tdata-hint-no-icon\n\t\t\t\t\t\t\t\tdata-hint-html\n\t\t\t\t\t\t\t\tdata-hint-interactivity\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t${this.getContainerSiteStatusRound()}\n\t\t\t\t\t\t\t\t${this.getContainerSiteStatusTitle()}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t`;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this.$containerSiteStatus;\n\t}\n\n\tgetContainerSiteMore()\n\t{\n\t\tif (!this.$containerSiteMore)\n\t\t{\n\t\t\tthis.$containerSiteMore = Tag.render`<div class=\"landing-sites__more\"></div>`;\n\n\t\t\tEvent.bind(this.$containerSiteMore, 'click', ev => {\n\t\t\t\tthis.getPopupConfig().show();\n\t\t\t\tev.stopPropagation();\n\t\t\t});\n\t\t}\n\n\t\treturn this.$containerSiteMore;\n\t}\n\n\tgetContainerSiteStatusRound()\n\t{\n\t\tif (!this.$containerSiteStatusRound)\n\t\t{\n\t\t\tlet status = this.published\n\t\t\t\t? '--success'\n\t\t\t\t: '--alert';\n\n\t\t\tthis.$containerSiteStatusRound = Tag.render`<div class=\"landing-sites__status-round ${status}\"></div>`;\n\t\t}\n\n\t\treturn this.$containerSiteStatusRound;\n\t}\n\n\tgetContainerSiteStatusTitle()\n\t{\n\t\tif (!this.$containerSiteStatusTitle)\n\t\t{\n\t\t\tlet title = this.published\n\t\t\t\t? Loc.getMessage('LANDING_SITE_TILE_STATUS_PUBLISHED')\n\t\t\t\t: Loc.getMessage('LANDING_SITE_TILE_STATUS_NOT_PUBLISHED');\n\n\t\t\tthis.$containerSiteStatusTitle = Tag.render`<div class=\"landing-sites__status-title\">${title}</div>`;\n\t\t}\n\n\t\treturn this.$containerSiteStatusTitle;\n\t}\n\n\tpublush()\n\t{\n\t\tthis.published = true;\n\t\tthis.getContainerSiteStatusRound().className = 'landing-sites__status-round --success';\n\t\tthis.getContainerSiteStatusTitle().innerText = Loc.getMessage('LANDING_SITE_TILE_STATUS_PUBLISHED');\n\t\tthis.getContainerPreviewStatus().classList.add('--hide');\n\t}\n\n\tunPublish()\n\t{\n\t\tthis.published = false;\n\t\tthis.getContainerSiteStatusRound().className = 'landing-sites__status-round --alert';\n\t\tthis.getContainerSiteStatusTitle().innerText = Loc.getMessage('LANDING_SITE_TILE_STATUS_NOT_PUBLISHED');\n\t\tthis.getContainerPreviewStatus().classList.remove('--hide');\n\t}\n\n\tgetEditableTitle()\n\t{\n\t\tif (!this.editableTitle)\n\t\t{\n\t\t\tthis.editableTitle = new EditableTitle({\n\t\t\t\tphone: this.phone,\n\t\t\t\ttype: 'title',\n\t\t\t\titem: this,\n\t\t\t\turl: this.contactsUrl,\n\t\t\t\tdisabled: !this.access.settings,\n\t\t\t});\n\t\t}\n\n\t\treturn this.editableTitle;\n\t}\n\n\tgetContainerInfo()\n\t{\n\t\tif (!this.$containerInfo)\n\t\t{\n\t\t\tthis.$containerInfo = Tag.render`\n\t\t\t\t<div class=\"landing-sites__container --white-bg\">\n\t\t\t\t\t<div class=\"landing-sites__container-left\">\n\t\t\t\t\t\t<div class=\"landing-sites__title\">\n\t\t\t\t\t\t\t<div class=\"landing-sites__title-text\" title=\"${Text.encode(this.title)}\">${Text.encode(this.title)}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t${this.phone ? this.getEditableTitle().getContainer() : ''}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"landing-sites__container-right\">\n\t\t\t\t\t\t${this.getContainerSiteStatus()}\n\t\t\t\t\t\t${this.getContainerSiteMore()}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`;\n\t\t}\n\n\t\treturn this.$containerInfo;\n\t}\n\n\tupdateDomainStatus(status: string, statusText: string)\n\t{\n\t\t// success\n\t\t// alert\n\t\t// danger\n\t\t// clock\n\t\t!status ? status = '' : null;\n\t\tthis.getContainerDomainStatus().className = 'landing-sites__container-status --' + status;\n\n\t\t!statusText ? statusText = '' : null;\n\t\tthis.updateDomainStatusMessage(statusText);\n\t}\n\n\tgetContainerDomainStatus()\n\t{\n\t\tif (!this.$containerDomainStatus)\n\t\t{\n\t\t\tthis.$containerDomainStatus = Tag.render`\n\t\t\t\t<div class=\"landing-sites__container-status --${this.domainStatus}\"></div>\n\t\t\t`;\n\t\t}\n\n\t\treturn this.$containerDomainStatus;\n\t}\n\n\tgetEditableUrl()\n\t{\n\t\tif (!this.editableUrl)\n\t\t{\n\t\t\tthis.editableUrl = new EditableTitle({\n\t\t\t\ttitle: this.url,\n\t\t\t\ttype: 'url',\n\t\t\t\titem: this,\n\t\t\t\turl: this.domainUrl,\n\t\t\t\tdisabled: !this.access.settings,\n\t\t\t});\n\t\t}\n\n\t\treturn this.editableUrl;\n\t}\n\n\tgetContainerDomainStatusIcon()\n\t{\n\t\tif (!this.$containerDomainStatusIcon)\n\t\t{\n\t\t\tthis.$containerDomainStatusIcon = Tag.render`\n\t\t\t\t<div class=\"landing-sites__status-icon --${this.domainStatus}\"></div>\n\t\t\t`;\n\t\t}\n\n\t\treturn this.$containerDomainStatusIcon;\n\t}\n\n\tgetContainerDomainStatusTitle()\n\t{\n\t\tif (!this.$containerDomainStatusTitle)\n\t\t{\n\t\t\tlet title = Loc.getMessage('LANDING_SITE_TILE_OPEN');\n\n\t\t\tthis.$containerDomainStatusTitle = Tag.render`\n\t\t\t\t<div class=\"landing-sites__status-title\">\n\t\t\t\t\t${title}\n\t\t\t\t</div>`;\n\t\t}\n\n\t\treturn this.$containerDomainStatusTitle;\n\t}\n\n\tupdateDomainStatusMessage(text: string)\n\t{\n\t\t!text ? text = '' : null;\n\n\t\tthis.getContainerDomainStatusMessage().innerText = text;\n\t\tthis.domainStatusMessage = text;\n\t}\n\n\tgetContainerDomainStatusMessage()\n\t{\n\t\tif (!this.$containerDomainStatusMessage)\n\t\t{\n\t\t\t!this.domainStatusMessage ? this.domainStatusMessage = '' : null;\n\t\t\tthis.$containerDomainStatusMessage = Tag.render`\n\t\t\t\t<div class=\"landing-sites__sub-title\">${this.domainStatusMessage}</div>\n\t\t\t`;\n\t\t}\n\n\t\treturn this.$containerDomainStatusMessage;\n\t}\n\n\tgetContainerDomainLink()\n\t{\n\t\tif (!this.$containerDomainLink)\n\t\t{\n\t\t\tthis.$containerDomainLink = Tag.render`\n\t\t\t\t<div class=\"landing-sites__status landing-sites__status-${this.id}\">\n\t\t\t\t\t${this.getContainerDomainStatusIcon()}\n\t\t\t\t\t${this.getContainerDomainStatusTitle()}\n\t\t\t\t</div>\n\t\t\t`;\n\n\t\t\tEvent.bind(this.$containerDomainLink, 'click', () => {\n\t\t\t\tthis.getPopupHelper().show(this.published ? 'link' : 'notPublished');\n\t\t\t});\n\t\t}\n\n\t\treturn this.$containerDomainLink;\n\t}\n\n\tgetContainerDomain()\n\t{\n\t\tif (!this.$containerDomain)\n\t\t{\n\t\t\tthis.$containerDomain = Tag.render`\n\t\t\t\t<div class=\"landing-sites__container --white-bg --white-bg--alpha --domain\">\n\t\t\t\t\t${this.getContainerDomainStatus()}\n\t\t\t\t\t<div class=\"landing-sites__container-left\">\n\t\t\t\t\t\t${this.getEditableUrl().getContainer()}\n\t\t\t\t\t\t${this.getContainerDomainStatusMessage()}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"landing-sites__container-right\">\n\t\t\t\t\t\t${this.getContainerDomainLink()}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`;\n\t\t}\n\n\t\treturn this.$containerDomain;\n\t}\n\n\tgetContainerPreviewImage()\n\t{\n\t\tif (!this.$containerPreviewImage)\n\t\t{\n\t\t\tthis.$containerPreviewImage = Tag.render`<div class=\"landing-sites__preview-image ${this.published ? '' : '--not-published'}\"></div>`;\n\n\t\t\tthis.$containerPreviewImage.style.backgroundImage = 'url(' + this.preview + ')';\n\t\t\tthis.$containerPreviewImage.style.backgroundSize = 'cover';\n\t\t\tif (this.published && this.cloudPreview && (this.cloudPreview !== this.preview))\n\t\t\t{\n\t\t\t\tthis.lazyLoadCloudPreview();\n\t\t\t}\n\n\t\t\tif (this.copilotProcess === false)\n\t\t\t{\n\t\t\t\tconst copilotLabelText = Loc.getMessage('LANDING_SITE_TILE_COPILOT_LABEL');\n\t\t\t\tconst copilotLabel = Tag.render`\n\t\t\t\t\t<div class=\"landing-sites__preview-copilot-label\">\n\t\t\t\t\t\t<i class=\"ui-icon-set --copilot-ai\"></i>\n\t\t\t\t\t\t<div class=\"\">${copilotLabelText}</div>\n\t\t\t\t\t</i>\n\t\t\t\t`;\n\t\t\t\tthis.$containerPreviewImage.appendChild(copilotLabel);\n\t\t\t}\n\t\t}\n\n\t\treturn this.$containerPreviewImage;\n\t}\n\n\tlazyLoadCloudPreview()\n\t{\n\t\ttry {\n\t\t\tconst previewUrl =\n\t\t\t\tthis.cloudPreview\n\t\t\t\t+ ((this.cloudPreview.indexOf('?') > 0) ? '&' : '?')\n\t\t\t\t+ 'refreshed' + (Date.now()/86400000|0)\n\t\t\t;\n\t\t\tconst xhr = new XMLHttpRequest();\n\t\t\txhr.open(\"HEAD\", previewUrl);\n\t\t\txhr.onload = () => {\n\t\t\t\tconst expires = xhr.getResponseHeader(\"expires\");\n\t\t\t\tif (\n\t\t\t\t\texpires\n\t\t\t\t\t&& (new Date(expires)) <= (new Date())\n\t\t\t\t)\n\t\t\t\t{\n\t\t\t\t\tsetTimeout(this.lazyLoadCloudPreview, 3000);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tthis.$containerPreviewImage.style.backgroundImage = 'url(' + previewUrl + ')';\n\t\t\t\t}\n\t\t\t};\n\t\t\txhr.send();\n\t\t} catch (error) {}\n\t}\n\n\tgetContainerPreviewStatus()\n\t{\n\t\tif (!this.$containerPreviewStatus)\n\t\t{\n\t\t\tthis.$containerPreviewStatus = Tag.render`\n\t\t\t\t<div class=\"landing-sites__preview-status --not-published ${this.published ? '--hide' : ''}\">\n\t\t\t\t\t<div class=\"landing-sites__preview-status-wrapper\">\n\t\t\t\t\t\t<div class=\"landing-sites__preview-status-icon\"></div>\n\t\t\t\t\t\t<div class=\"landing-sites__preview-status-text\">\n\t\t\t\t\t\t\t${Loc.getMessage('LANDING_SITE_TILE_STATUS_NOT_PUBLISHED')}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`;\n\n\t\t\tEvent.bind(this.$containerPreviewStatus, 'mouseenter', () => {\n\t\t\t\tthis.$containerPreviewStatus.style.width = this.$containerPreviewStatus.firstElementChild.offsetWidth + 'px';\n\t\t\t});\n\n\t\t\tEvent.bind(this.$containerPreviewStatus, 'mouseleave', () => {\n\t\t\t\tthis.$containerPreviewStatus.style.width = null;\n\t\t\t});\n\t\t}\n\n\t\treturn this.$containerPreviewStatus;\n\t}\n\n\tgetContainerPreviewShowPages()\n\t{\n\t\tif (!this.$containerPreviewShowPages)\n\t\t{\n\t\t\tthis.$containerPreviewShowPages = Tag.render`\n\t\t\t\t<div class=\"landing-sites__preview-show\">\n\t\t\t\t\t${Loc.getMessage('LANDING_SITE_TILE_SHOW_PAGES')}\n\t\t\t\t</div>\n\t\t\t`;\n\t\t}\n\n\t\treturn this.$containerPreviewShowPages;\n\t}\n\n\tgetContainerPreviewInstruction()\n\t{\n\t\tif (!this.$containerPreviewInstruction)\n\t\t{\n\t\t\tthis.$containerPreviewInstruction = Tag.render`\n\t\t\t\t<div class=\"landing-sites__preview-leadership\">\n\t\t\t\t\t<div class=\"landing-sites__preview-leadership-text\">\n\t\t\t\t\t\t${Loc.getMessage('LANDING_SITE_TILE_INSTRUCTION')}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`;\n\n\t\t\tEvent.bind(this.$containerPreviewInstruction, 'click', () => {\n\t\t\t\tthis.getLeadership().show();\n\t\t\t});\n\t\t}\n\n\t\treturn this.$containerPreviewInstruction;\n\t}\n\n\tgetContainerLinks()\n\t{\n\t\tif (!this.$containerLinks)\n\t\t{\n\t\t\tthis.$containerLinks = Tag.render`<div class=\"landing-sites__container --without-bg --auto-height --flex\"></div>`;\n\n\t\t\tthis.menuBottomItems.map(menuItem => {\n\t\t\t\tthis.$containerLinks.appendChild(this.getContainerLinksItem(menuItem.code, menuItem.href, menuItem.text));\n\t\t\t});\n\t\t}\n\n\t\treturn this.$containerLinks;\n\t}\n\n\tgetContainerLinksItem(type: string, link: string, title: string)\n\t{\n\t\tconst container = Tag.render`\n\t\t\t<a href=\"${link}\" class=\"landing-sites__container-link landing-sites__container-link-${this.id} --white-bg--alpha\">\n\t\t\t\t<div class=\"landing-sites__container-link-icon --${type}\"></div>\n\t\t\t\t<div class=\"landing-sites__container-link-text\">${title}</div>\n\t\t\t</a>\n\t\t`;\n\n\t\tEvent.bind(container, 'click', event => {\n\t\t\tEventEmitter.emit('BX.Landing.SiteTile:onBottomMenuClick', [type, event, this]);\n\t\t});\n\n\t\treturn container;\n\t}\n\n\tgetLeadership()\n\t{\n\t\tif (!this.leadership)\n\t\t{\n\t\t\tthis.leadership = new LeaderShip({\n\t\t\t\tid: this.id,\n\t\t\t\titem: this,\n\t\t\t\tarticles: this.articles,\n\t\t\t});\n\t\t}\n\t\treturn this.leadership;\n\t}\n\n\tremove()\n\t{\n\t\tthis.getContainer().classList.add('--remove');\n\t\tEvent.bind(this.getContainer(), 'transitionend', () => {\n\t\t\tlet items = this.grid.getItems();\n\t\t\titems.splice(items.indexOf(items), 1);\n\t\t\tDom.remove(this.getContainer());\n\t\t});\n\t}\n\n\tlock()\n\t{\n\t\tthis.getContainer().classList.add('--lock');\n\t\tif (!this.loader)\n\t\t{\n\t\t\tthis.loader = new BX.Loader({\n\t\t\t\ttarget: this.getContainer(),\n\t\t\t\tsize: 100,\n\t\t\t});\n\t\t}\n\n\t\tthis.loader.show();\n\t}\n\n\tunLock()\n\t{\n\t\tthis.getContainer().classList.remove('--lock');\n\t\tif (this.loader)\n\t\t{\n\t\t\tthis.loader.hide();\n\t\t}\n\t}\n\n\tfade()\n\t{\n\t\tthis.getContainer().classList.add('--fade');\n\t}\n\n\tunFade()\n\t{\n\t\tthis.getContainer().classList.remove('--fade');\n\t}\n\n\tactive()\n\t{\n\t\tthis.getContainer().classList.add('--active');\n\t}\n\n\tunActive()\n\t{\n\t\tthis.getContainer().classList.remove('--active');\n\t}\n\n\tgetPopupHelper(): PopupHelper\n\t{\n\t\tif (!this.popupHelper)\n\t\t{\n\t\t\tthis.popupHelper = new PopupHelper({\n\t\t\t\tid: this.id,\n\t\t\t\turl: this.url,\n\t\t\t\titemObj: this,\n\t\t\t\tfullUrl: this.fullUrl,\n\t\t\t\tordersUrl: this.ordersUrl,\n\t\t\t\tindexEditUrl: this.indexEditUrl,\n\t\t\t\tnotPublishedText: this.notPublishedText,\n\t\t\t});\n\t\t}\n\n\t\treturn this.popupHelper;\n\t}\n\n\tgetContainerWrapper()\n\t{\n\t\tif (!this.$containerWrapper)\n\t\t{\n\t\t\tthis.$containerWrapper = Tag.render`\n\t\t\t\t<div class=\"landing-sites__item-container\">\n\t\t\t\t\t<a href=\"${this.pagesUrl}\" class=\"landing-sites__preview\">\n\t\t\t\t\t\t${this.getContainerPreviewImage()}\n\t\t\t\t\t\t${this.getContainerPreviewStatus()}\n\t\t\t\t\t\t${this.getContainerPreviewShowPages()}\n\t\t\t\t\t\t${this.articles.length > 0 ? this.getContainerPreviewInstruction() : ''}\n\t\t\t\t\t</a>\n\t\t\t\t\t${this.getContainerInfo()}\n\t\t\t\t\t${this.getContainerDomain()}\n\t\t\t\t\t${this.getContainerLinks()}\n\t\t\t\t</div>\n\t\t\t`;\n\t\t}\n\n\t\treturn this.$containerWrapper;\n\t}\n\n\tgetContainer()\n\t{\n\t\tif (!this.$container)\n\t\t{\n\t\t\tconst containerClasses = [\n\t\t\t\t'landing-sites__grid-item',\n\t\t\t\tthis.deleted ? '--deleted' : '',\n\t\t\t\tthis.copilotProcess === true ? '--generating' : '',\n\t\t\t].join(' ').trim();\n\n\t\t\tconst copilotLabel = this.copilotProcess === true\n\t\t\t\t? Tag.render`\n\t\t\t\t\t<div class=\"landing-sites__preview-show copilot-label\">\n\t\t\t\t\t    <i class=\"ui-icon-set --copilot-ai\"></i>\n\t\t\t\t\t    ${Loc.getMessage('LANDING_SITE_TILE_COPILOT_GENERATED_TEXT')}\n\t\t\t\t\t</div>\n\t\t\t\t`\n\t\t\t\t: '';\n\n\t\t\tthis.$container = Tag.render`\n\t\t\t\t<div class=\"${containerClasses}\">\n\t\t\t\t    <div class=\"landing-sites__item\" id=\"landing-sites__grid-item--${this.id}\">\n\t\t\t\t        ${this.getLeadership().getContainer()}\n\t\t\t\t        ${this.getContainerWrapper()}\n\t\t\t\t        ${this.getPopupHelper().getContainer()}\n\t\t\t\t    </div>\n\t\t\t\t    ${copilotLabel}\n\t\t\t\t</div>\n\t\t\t`;\n\t\t}\n\n\t\treturn this.$container;\n\t}\n}\n","import { Tag, Event } from 'main.core';\n\nexport default class ItemMarketing {\n\tconstructor(options)\n\t{\n\t\tthis.id = options.id;\n\t\tthis.grid = options.grid;\n\t\tthis.title = options.title;\n\t\tthis.text = options.text;\n\t\tthis.buttonText = options.buttonText;\n\t\tthis.url = options.url;\n\t\tthis.onClick = options.onClick;\n\t\tthis.$container = null;\n\t}\n\n\tgetButton()\n\t{\n\t\tconst button = Tag.render`\n\t\t\t<span class=\"ui-btn ui-btn-light-border ui-btn-round\" href=\"#\">${this.buttonText}</span>\n\t\t`;\n\t\tif (this.onClick)\n\t\t{\n\t\t\tEvent.bind(button, 'click', this.onClick);\n\t\t}\n\t\treturn button;\n\t}\n\n\tgetContainer()\n\t{\n\t\tif (!this.$container)\n\t\t{\n\t\t\tthis.$container = Tag.render`\n\t\t\t\t<div class=\"landing-sites__grid-item\">\n\t\t\t\t\t<div class=\"landing-sites__item --marketing\">\n\t\t\t\t\t\t<div class=\"landing-sites__item-container --flex\">\n\t\t\t\t\t\t\t<div class=\"landing-sites__item-marketing--title\">${this.title}</div>\n\t\t\t\t\t\t\t<div class=\"landing-sites__item-marketing--text\">${this.text}</div>\n\t\t\t\t\t\t\t<div class=\"landing-sites__item-marketing--icon\"></div>\n\t\t\t\t\t\t\t<div class=\"landing-sites__item-marketing--buttons\">\n\t\t\t\t\t\t\t\t${this.getButton()}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`;\n\t\t}\n\n\t\treturn this.$container;\n\t}\n}","import { Tag, Loc, Event, Dom } from 'main.core';\n\nexport default class Scroller {\n\tconstructor(options)\n\t{\n\t\tthis.grid = options.grid;\n\t\tthis.scrollerText = options.scrollerText;\n\t\tthis.$container = null;\n\t\tthis.$lastItem = null;\n\t\tthis.bindEvents();\n\t\tthis.init();\n\t}\n\n\tbindEvents()\n\t{\n\t\tEvent.bind(window, 'scroll', this.adjustPosition.bind(this));\n\t}\n\n\tshow()\n\t{\n\t\tif(!this.getContainer().classList.contains('--show'))\n\t\t{\n\t\t\tthis.getContainer().classList.remove('--hide');\n\t\t\tthis.getContainer().classList.add('--show');\n\t\t}\n\t}\n\n\thide()\n\t{\n\t\tif(!this.getContainer().classList.contains('--hide'))\n\t\t{\n\t\t\tthis.getContainer().classList.remove('--show');\n\t\t\tthis.getContainer().classList.add('--hide');\n\t\t}\n\t}\n\t\n\tadjustPosition()\n\t{\n\t\tif(!this.$lastItem)\n\t\t{\n\t\t\tthis.$lastItem = this.grid.getItems()[this.grid.getItems().length - 1].getContainer();\n\t\t}\n\n\t\tthis.$lastItem.getBoundingClientRect().top > document.documentElement.clientHeight\n\t\t\t? this.show()\n\t\t\t: this.hide();\n\t}\n\n\tgetContainer()\n\t{\n\t\tif(!this.$container)\n\t\t{\n\t\t\tthis.$container = Tag.render`\n\t\t\t\t<div class=\"landing-sites__scroller landing-sites__scope\">\n\t\t\t\t\t<div class=\"landing-sites__scroller-button\">\n\t\t\t\t\t\t<div class=\"landing-sites__scroller-icon\"></div>\n\t\t\t\t\t\t<div class=\"landing-sites__scroller-text\">\n\t\t\t\t\t\t\t${this.scrollerText\n\t\t\t\t\t\t\t\t? this.scrollerText\n\t\t\t\t\t\t\t\t: Loc.getMessage('LANDING_SITE_TILE_SCROLLER_SITES')}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`;\n\n\t\t\tEvent.bind(this.$container, 'click', ()=> {\n\t\t\t\tlet offsetY = window.pageYOffset;\n\t\t\t\tlet timer = setInterval(()=> {\n\t\t\t\t\tif(\n\t\t\t\t\t\t(window.pageYOffset + 30) >= this.$lastItem.getBoundingClientRect().top + window.pageYOffset - document.body.clientTop\n\t\t\t\t\t\t|| window.pageYOffset + window.innerHeight >= document.body.scrollHeight\n\t\t\t\t\t)\n\t\t\t\t\t{\n\t\t\t\t\t\tclearInterval(timer);\n\t\t\t\t\t}\n\t\t\t\t\toffsetY = offsetY + 10;\n\t\t\t\t\twindow.scrollTo(0,offsetY);\n\t\t\t\t}, 10);\n\t\t\t});\n\t\t}\n\n\t\treturn this.$container;\n\t}\n\t\n\tinit()\n\t{\n\t\tdocument.body.appendChild(this.getContainer());\n\t\tthis.adjustPosition();\n\t}\n}","import { Tag, Loc, Dom, Event } from 'main.core';\nimport { Popup } from 'main.popup';\nimport { Button } from 'ui.buttons';\n\nexport default class PopupCopilot\n{\n\tconstructor(options)\n\t{\n\t\tthis.id = options.id;\n\t\tthis.videoSrc = options.videoSrc;\n\n\t\tthis.container = null;\n\t\tthis.content = null;\n\n\t\tthis.popup = this.getPopup();\n\t}\n\n\tgetContent(): HTMLElement\n\t{\n\t\tif (!this.content)\n\t\t{\n\t\t\tthis.content = Tag.render`\n\t\t\t\t<div class=\"landing-site_title-popup-content\">\n\t\t\t\t\t<div class=\"landing-site_title-popup-main\">\n\t\t\t\t\t\t<div class=\"landing-site_title-popup-title\">\n\t\t\t\t\t\t\t${Loc.getMessage('LANDING_SITE_TILE_POPUP_COPILOT_TITLE')}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"landing-site_title-popup-list\">\n\t\t\t\t\t\t\t<div class=\"landing-site_title-popup-list-item --about\">\n\t\t\t\t\t\t\t\t<div class=\"landing-site_title-popup-list-icon\"></div>\n\t\t\t\t\t\t\t\t<div class=\"landing-site_title-popup-list-text\">\n\t\t\t\t\t\t\t\t\t${Loc.getMessage('LANDING_SITE_TILE_POPUP_COPILOT_LIST_TEXT_1')}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"landing-site_title-popup-list-item --ai\">\n\t\t\t\t\t\t\t\t<div class=\"landing-site_title-popup-list-icon\"></div>\n\t\t\t\t\t\t\t\t<div class=\"landing-site_title-popup-list-text\">\n\t\t\t\t\t\t\t\t\t${Loc.getMessage('LANDING_SITE_TILE_POPUP_COPILOT_LIST_TEXT_2')}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"landing-site_title-popup-list-item --rocket\">\n\t\t\t\t\t\t\t\t<div class=\"landing-site_title-popup-list-icon\"></div>\n\t\t\t\t\t\t\t\t<div class=\"landing-site_title-popup-list-text\">\n\t\t\t\t\t\t\t\t\t${Loc.getMessage('LANDING_SITE_TILE_POPUP_COPILOT_LIST_TEXT_3')}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"landing-site_title-popup-desc\">\n\t\t\t\t\t\t\t${Loc.getMessage('LANDING_SITE_TILE_POPUP_COPILOT_DESCRIPTION')}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t${this.renderVideo()}\n\t\t\t\t</div>\n\t\t\t`;\n\t\t}\n\n\t\treturn this.content;\n\t}\n\n\tgetPopup(): Popup\n\t{\n\t\tif (!this.container)\n\t\t{\n\t\t\tthis.container = new Popup({\n\t\t\t\tbindElement: window,\n\t\t\t\tcontent: this.getContent(),\n\t\t\t\twidth: 670,\n\t\t\t\tcloseIcon: { top: '12px', right: '13px' },\n\t\t\t\tpadding: 0,\n\t\t\t\tclassName: 'landing-site_title-popup',\n\t\t\t\tborderRadius: '24px',\n\t\t\t\tbackground: '#853af5',\n\t\t\t\tcacheable: true,\n\t\t\t\tanimation: 'fading-slide',\n\t\t\t\toverlay: true,\n\t\t\t\tevents: {\n\t\t\t\t\tonShow: () => {\n\t\t\t\t\t\tconst button = this.container.buttonsContainer.children[0];\n\t\t\t\t\t\tconst icon = document.querySelector('.landing-site_title-popup-list-icon');\n\t\t\t\t\t\tconst video = document.querySelector('.landing-site_title-popup-video');\n\n\t\t\t\t\t\tDom.addClass(this.container.popupContainer, '--animation-first-step');\n\n\t\t\t\t\t\tEvent.bind(button, 'animationend', (event: AnimationEvent) => {\n\t\t\t\t\t\t\tif (event.animationName === 'landing-site_title-popup-btn-animation')\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tDom.addClass(this.container.popupContainer, '--animation-second-step');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tEvent.bind(icon, 'animationend', (event: AnimationEvent) => {\n\t\t\t\t\t\t\tif (event.animationName === 'landing-site_title-popup-list-icon')\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tDom.addClass(this.container.popupContainer, '--animation-third-step');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tEvent.bind(video, 'animationend', (event: AnimationEvent) => {\n\t\t\t\t\t\t\tif (event.animationName === 'landing-site_title-popup-video')\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tthis.videoElement.play();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tbuttons: [\n\t\t\t\t\tnew Button({\n\t\t\t\t\t\ttext: Loc.getMessage('LANDING_SITE_TILE_POPUP_COPILOT_BUTTON'),\n\t\t\t\t\t\tcolor: Button.Color.SUCCESS,\n\t\t\t\t\t\tsize: Button.Size.LARGE,\n\t\t\t\t\t\tclassName: 'landing-site_title-popup-btn',\n\t\t\t\t\t\tnoCaps: true,\n\t\t\t\t\t\tround: true,\n\t\t\t\t\t\tonclick: (event) => {\n\t\t\t\t\t\t\tconst button = event.button;\n\t\t\t\t\t\t\tif (button)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tDom.addClass(button, 'ui-btn-wait');\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tBX.ajax.runAction('bitrix24.license.demolicense.activate')\n\t\t\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\t\t\twindow.location.href = '/sites/ai/';\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.catch((err) => {\n\t\t\t\t\t\t\t\t\tconsole.error(err);\n\t\t\t\t\t\t\t\t\twindow.location.href = '/sites/ai/';\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t},\n\t\t\t\t\t}),\n\t\t\t\t],\n\t\t\t});\n\t\t}\n\n\t\treturn this.container;\n\t}\n\n\trenderVideo(): HTMLElement\n\t{\n\t\tthis.videoElement = Tag.render`\n\t\t\t<video\n\t\t\t\tsrc=\"${this.videoSrc}\"\n\t\t\t\tautoplay\n\t\t\t\tpreload\n\t\t\t\tloop\n\t\t\t\tmuted\n\t\t\t\tclass=\"landing-site_title-popup-video\"\n\t\t\t></video>\n\t\t`;\n\n\t\tEvent.bind(this.videoElement, 'canplay', () => {\n\t\t\tthis.videoElement.muted = true;\n\t\t});\n\n\t\treturn this.videoElement;\n\t}\n\n\tshowPopup(timeout = 0): void\n\t{\n\t\tif (!this.popup)\n\t\t{\n\t\t\tthis.popup = this.getPopup();\n\t\t}\n\t\tsetTimeout(() => {\n\t\t\tthis.popup.show();\n\t\t}, timeout);\n\t}\n}\n","import { Tag } from 'main.core';\nimport 'ui.design-tokens';\nimport Item from './item';\nimport ItemMarketing from './itemMarketing';\nimport Scroller from './scroller';\nimport PopupCopilot from './popupCopilot';\nimport '../css/landing.site.tile.css';\n\nexport class SiteTile\n{\n\tconstructor(options)\n\t{\n\t\tthis.renderTo = options.renderTo || null;\n\t\tthis.items = options.items || [];\n\t\tthis.scrollerText = options.scrollerText || null;\n\t\tthis.notPublishedText = options.notPublishedText || null;\n\t\tthis.siteTileItems = [];\n\t\tthis.$container = null;\n\t\tthis.scroller = null;\n\t\tlet videoSrc = '/bitrix/components/bitrix/landing.site_tile/templates/.default/video/en/siteWithCopilot.webm';\n\t\tif (options.lang === 'ru')\n\t\t{\n\t\t\tvideoSrc = '/bitrix/components/bitrix/landing.site_tile/templates/.default/video/ru/siteWithCopilot.webm';\n\t\t}\n\t\tif (options.isNeedCreateCopilotPopup)\n\t\t{\n\t\t\tthis.popupCopilot = new PopupCopilot({\n\t\t\t\tid: 'popupCopilot',\n\t\t\t\tvideoSrc,\n\t\t\t});\n\t\t\tthis.popupCopilot.showPopup(1000);\n\t\t}\n\t\tthis.setData(this.items);\n\t\tthis.init();\n\t}\n\n\tgetItems()\n\t{\n\t\treturn this.siteTileItems;\n\t}\n\n\tsetData(data)\n\t{\n\t\tthis.siteTileItems = data.map((item) => {\n\t\t\tif (item.type === 'itemMarketing')\n\t\t\t{\n\t\t\t\treturn new ItemMarketing({\n\t\t\t\t\tid: item.id || null,\n\t\t\t\t\ttitle: item.title || null,\n\t\t\t\t\ttext: item.text || null,\n\t\t\t\t\tbuttonText: item.buttonText || null,\n\t\t\t\t\tonClick: item.onClick || null,\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn new Item({\n\t\t\t\tid: item.id || null,\n\t\t\t\ttitle: item.title || null,\n\t\t\t\turl: item.url || null,\n\t\t\t\tfullUrl: item.fullUrl || null,\n\t\t\t\tdomainProvider: item.domainProvider || null,\n\t\t\t\tpagesUrl: item.pagesUrl || null,\n\t\t\t\tordersUrl: item.ordersUrl || null,\n\t\t\t\tdomainUrl: item.domainUrl || null,\n\t\t\t\tcontactsUrl: item.contactsUrl || null,\n\t\t\t\tindexEditUrl: item.indexEditUrl || null,\n\t\t\t\tordersCount: parseInt(item.ordersCount) || null,\n\t\t\t\tphone: item.phone || null,\n\t\t\t\tpreview: item.preview || null,\n\t\t\t\tcloudPreview: item.cloudPreview || null,\n\t\t\t\tpublished: item.published || null,\n\t\t\t\tdeleted: item.deleted || null,\n\t\t\t\tdomainStatus: item.domainStatus || null,\n\t\t\t\tdomainStatusMessage: item.domainStatusMessage || null,\n\t\t\t\tmenuItems: item.menuItems || null,\n\t\t\t\tmenuBottomItems: item.menuBottomItems || null,\n\t\t\t\tnotPublishedText: this.notPublishedText || null,\n\t\t\t\taccess: item.access || {},\n\t\t\t\terror: item.error || {},\n\t\t\t\tarticles: item.articles || null,\n\t\t\t\tgrid: this,\n\t\t\t\tcopilotProcess: item.copilotProcess,\n\t\t\t});\n\t\t});\n\n\t\treturn this.siteTileItems;\n\t}\n\n\tgetContainer()\n\t{\n\t\tif (!this.$container)\n\t\t{\n\t\t\tthis.$container = Tag.render`<div class=\"landing-sites__grid landing-sites__scope\"></div>`;\n\n\t\t\tfor (let i = 0; i < this.siteTileItems.length; i++)\n\t\t\t{\n\t\t\t\tthis.$container.appendChild(this.siteTileItems[i].getContainer());\n\t\t\t}\n\t\t}\n\n\t\treturn this.$container;\n\t}\n\n\tdraw()\n\t{\n\t\tif (this.renderTo)\n\t\t{\n\t\t\tthis.renderTo.appendChild(this.getContainer());\n\t\t}\n\n\t\tthis.afterDraw();\n\t}\n\n\tafterDraw()\n\t{\n\t\tif (this.getItems().length > 4)\n\t\t{\n\t\t\tif (!this.scroller)\n\t\t\t{\n\t\t\t\tthis.scroller = new Scroller({\n\t\t\t\t\tgrid: this,\n\t\t\t\t\tscrollerText: this.scrollerText,\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\tinit()\n\t{\n\t\tthis.draw();\n\t}\n}\n"],"names":["EditableTitle","options","title","phone","type","item","url","disabled","isEditMode","$container","$containerInput","$containerTitle","$containerEditIcon","adjustCloseEditByClick","bind","adjustCloseEditByKeyDown","Tag","render","closeEdit","openEdit","getContainer","classList","add","getContainerInput","select","focus","value","Event","document","body","ev","target","getContainerEdit","keyCode","updateTitle","remove","unbind","getContainerTitle","innerText","toUpperCase","slice","EventEmitter","emit","Text","encode","LeaderShip","id","articles","$containerClose","closest","className","hide","Loc","getMessage","articlesNode","i","length","appendChild","read","text","getContainerClose","PopupHelper","itemObj","fullUrl","ordersUrl","indexEditUrl","notPublishedText","qr","$containerFirstStep","$containerSecondStep","$containerQr","$containerQrimage","$containerInputUrl","$containerCopyLink","$containerTestOrder","param","getContainerFirstStep","style","display","getContainerSecondStep","getContainerNotPublished","getContainerQr","getContainerInputUrl","execCommand","BX","UI","Notification","Center","notify","content","autoHideDelay","node","QRCode","width","height","closeIcon","isShop","startsWith","popupText","popupButtonText","getContainerQrImage","getContainerCopyLink","showSecondStep","getContainerTestOrder","prevIcon","showFirstStep","$containerNotPublished","buttPublish","access","publication","error","code","hint","link","buttOpen","window","location","href","message","Item","grid","domainProvider","pagesUrl","domainUrl","contactsUrl","ordersCount","preview","cloudPreview","published","deleted","domainStatus","domainStatusMessage","menuItems","menuBottomItems","editableTitle","editableUrl","leadership","popupHelper","popupStatus","popupConfig","loader","copilotProcess","Type","isBoolean","$containerWrapper","$containerPreviewImage","$containerPreviewStatus","$containerPreviewShowPages","$containerPreviewInstruction","$containerInfo","$containerPhone","$containerDomain","$containerDomainLink","$containerDomainStatus","$containerDomainStatusIcon","$containerDomainStatusTitle","$containerDomainStatusMessage","$containerSiteStatus","$containerSiteStatusRound","$containerSiteStatusTitle","$containerSiteMore","$containerLinks","bindEvents","lazyLoadCloudPreview","subscribe","data","active","setContainerPosition","fade","unActive","unSetContainerPosition","unFade","getPopupHelper","getContainerWrapper","offsetRight","innerWidth","getBoundingClientRect","right","leaderShipWidth","getLeadership","offsetWidth","previousItem","previousSibling","transform","offsetTop","status","destroy","getContainerSiteStatusRound","getContainerSiteStatusTitle","getContainerPreviewImage","getContainerPreviewStatus","items","addMenu","onclick","messageBox","MessageBox","buttons","Dialogs","MessageBoxButtons","OK_CANCEL","onOk","close","popupOptions","autoHide","closeByEsc","minHeight","minWidth","maxWidth","animation","show","getPopupConfig","map","delimiter","reverse","push","Menu","bindElement","getContainerSiteMore","offsetLeft","angle","offset","disableMenuItems","mergeMenuItems","events","onPopupClose","onPopupShow","getContainerSiteStatus","getPopupStatus","layout","menuContainer","left","stopPropagation","settings","getEditableTitle","statusText","getContainerDomainStatus","updateDomainStatusMessage","getContainerDomainStatusMessage","getContainerDomainStatusIcon","getContainerDomainStatusTitle","getEditableUrl","getContainerDomainLink","backgroundImage","backgroundSize","copilotLabelText","copilotLabel","previewUrl","indexOf","Date","now","xhr","XMLHttpRequest","open","onload","expires","getResponseHeader","setTimeout","send","firstElementChild","menuItem","getContainerLinksItem","container","event","getItems","splice","Dom","Loader","size","getContainerPreviewShowPages","getContainerPreviewInstruction","getContainerInfo","getContainerDomain","getContainerLinks","containerClasses","join","trim","ItemMarketing","buttonText","onClick","button","getButton","Scroller","scrollerText","$lastItem","init","adjustPosition","contains","top","documentElement","clientHeight","offsetY","pageYOffset","timer","setInterval","clientTop","innerHeight","scrollHeight","clearInterval","scrollTo","PopupCopilot","videoSrc","popup","getPopup","renderVideo","Popup","getContent","padding","borderRadius","background","cacheable","overlay","onShow","buttonsContainer","children","icon","querySelector","video","addClass","popupContainer","animationName","videoElement","play","Button","color","Color","SUCCESS","Size","LARGE","noCaps","round","ajax","runAction","then","err","console","muted","timeout","SiteTile","renderTo","siteTileItems","scroller","lang","isNeedCreateCopilotPopup","popupCopilot","showPopup","setData","parseInt","afterDraw","draw"],"mappings":"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"}