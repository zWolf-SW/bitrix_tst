BX.namespace("BX.Lists");BX.Lists.CatalogProcessesClass=function(){var t=function(t){this.ajaxUrl="/bitrix/components/bitrix/lists.catalog.processes/ajax.php";this.randomString=t.randomString};t.prototype.installProcesses=function(t){if(t.isClocking()){return}t.setState(BX.UI.Button.State.CLOCKING);var s=BX.findChildrenByClassName(BX("bx-lists-lcp-total-div"),"bx-lists-lcp-table-tr-mousedown");var e=[];for(var a in s)e.push(s[a].getAttribute("data-file"));var i=null;if(BX("bx-lists-lcp-site-id"))i=BX("bx-lists-lcp-site-id").value;BX.Lists.ajax({method:"POST",dataType:"json",url:BX.Lists.addToLinkParam(this.ajaxUrl,"action","installProcesses"),data:{siteId:i,processes:e},onsuccess:BX.delegate((function(e){if(e.status=="success"){for(var a in s){s[a].setAttribute("id","not allocated");s[a].setAttribute("data-pick-out","not allocated");s[a].setAttribute("class","bx-lists-lcp-table-tr-mouseout");var i=BX.findChildrenByClassName(s[a],"bx-lists-lcp-table-td-name");for(var l=0;l<i.length;l++){i[l].innerHTML=i[l].innerHTML+BX.message("LISTS_LCP_TEMPLATE_PROCESS_INSTALLED")}}BX.Lists.showModalWithStatusAction({status:"success",message:e.message})}else{e.errors=e.errors||[{}];BX.Lists.showModalWithStatusAction({status:"error",message:e.errors.pop().message})}t.setState(null)}),this)})};t.prototype.mousedown=function(t){var s=t.getAttribute("data-pick-out");if(s=="allocate"){if(t.className=="bx-lists-lcp-table-tr-mousedown"){t.className="bx-lists-lcp-table-tr-mouseout"}else{t.className="bx-lists-lcp-table-tr-mousedown"}}};t.prototype.mouseover=function(t){var s=t.getAttribute("data-pick-out");if(s=="allocate"){if(t.className!="bx-lists-lcp-table-tr-mousedown"){t.className="bx-lists-lcp-table-tr-mouseover"}}};t.prototype.mouseout=function(t){var s=t.getAttribute("data-pick-out");if(s=="allocate"){if(t.className!="bx-lists-lcp-table-tr-mousedown"){t.className="bx-lists-lcp-table-tr-mouseout"}}};return t}();
//# sourceMappingURL=script.map.js