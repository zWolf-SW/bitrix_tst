(function(){BX.namespace("BX.Sender");if(BX.Sender.CampaignEditor){return}const t=BX.Sender.Page;const i=BX.Sender.Helper;function e(){this.context=null;this.editor=null}e.prototype.init=function(e){this.mess=e.mess||{};this.toolbarId=e.toolbarId;this.isFrame=e.isFrame||false;this.isSaved=e.isSaved||false;this.campaignTile=e.campaignTile||{};this.prettyDateFormat=e.prettyDateFormat;this.context=BX(e.containerId);this.uiToolbar=BX.UI.ToolbarManager.get(this.toolbarId);this.titleNode=i.getNode("campaign-title",this.context);this.initUi();t.initButtons();if(this.uiToolbar&&this.isFrame){this.uiToolbar.subscribe(BX.UI.ToolbarEvents.finishEditing,(t=>{const i=t.getData().updatedTitle;if(i&&this.titleNode){this.titleNode.value=i}}))}};e.prototype.initUi=function(){this.ui={title:this.titleNode};if(!this.ui.title.value.trim()){this.ui.title.value=i.replace(this.mess.patternTitle,{name:this.mess.newTitle,date:BX.date.format(this.prettyDateFormat)})}if(this.isFrame&&this.isSaved){top.BX.onCustomEvent(top,"sender-campaign-edit-change",[this.campaignTile]);BX.Sender.Page.slider.close()}};BX.Sender.CampaignEditor=new e})(window);
//# sourceMappingURL=script.map.js