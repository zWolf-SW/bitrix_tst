{"version":3,"file":"attached-result.bundle.map.js","names":["this","BX","Vote","exports","main_core","ui_vue3_components_popup","ui_iconSet_api_vue","ui_iconSet_main","ui_iconSet_animated","ui_vue3","_signedAttachId","babelHelpers","classPrivateFieldLooseKey","_limit","VoteResultService","constructor","signedAttachId","limit","Object","defineProperty","writable","value","classPrivateFieldLooseBase","loadAnswer","answerId","page","_response$data$items","_response$data","data","navigation","size","response","ajax","runAction","items","VotedUsersList","name","components","Popup","BIcon","props","count","type","Number","required","votedUsers","Array","String","maxVisibleAvatarsCount","default","pageSize","showUsers","Boolean","users","loading","isShowPopup","computed","summaryText","Loc","getMessagePlural","visibleVotedUsers","slice","popupOptions","bindElement","$refs","showPopupBtn","borderRadius","autoHide","methods","popupScrollHandler","event","length","target","scrollHeight","scrollTop","clientHeight","nextPage","service","nextPageUsers","error","console","getUserImage","user","encodeURI","IMAGE","template","ANONYMOUS_VOTE","VoteResultDisplay","loadedData","votedPageSize","currentVote","VOTE_ID","isVoted","downloadUrl","canRevote","isFinished","attach","id","isAnonymousVote","canRevoke","questions","_this$loadedData$atta","questionsData","QUESTIONS","calculatedPercentages","calculatePercentages","keys","forEach","questionId","question","answers","isMultiple","FIELD_TYPE","ANSWERS","index","answer","ID","percent","Math","round","PERCENT","text","MESSAGE","counter","COUNTER","QUESTION","currentUserVotes","_this$loadedData$atta2","userAnswerMap","entries","map","_this$loadedData$atta3","ANONYMITY","voteTypeText","getMessage","isFinishedVote","hasCurrentUserVote","includes","getSummaryText","getVotedUsers","_this$loadedData$vote","_this$loadedData$vote2","voted","hasVotes","getSelectedClass","percentages","values","answerVotes","totalVotes","reduce","sum","calculatedPercents","vote","roundedPercents","floor","remainder","p","fractionalParts","fraction","sort","a","b","i","_application","_votedPageSize","VoteAttachedResult","options","createApplicationWithResult","backendResult","BitrixVue","createApp","loaded","renderTo","container","mount","Component","UI","Vue3","Components","IconSet"],"sources":["attached-result.bundle.js"],"mappings":"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","ignoreList":[]}