this.BX=this.BX||{};this.BX.Landing=this.BX.Landing||{};(function(e){"use strict";var t=babelHelpers.classPrivateFieldLooseKey("intervalId");class i{constructor(e){Object.defineProperty(this,t,{writable:true,value:null});this.generationId=e;this.onGenerationRestart=this.onGenerationRestart.bind(this)}observe(){this.restartObserve();BX.PULL.subscribe({type:BX.PullClient.SubscriptionType.Server,moduleId:"landing",callback:e=>{if(e.params.generationId!==undefined&&e.params.generationId!==this.generationId){return}const t=e.command;if(t==="LandingCopilotGeneration:onStepExecute"||t==="LandingCopilotGeneration:onPreviewImageCreate"||t==="LandingCopilotGeneration:onCopilotImageCreate"){this.restartObserve()}if(t==="LandingCopilotGeneration:onCopilotTimeIsOver"){this.onGenerationRestart()}if(t==="LandingCopilotGeneration:onGenerationError"||t==="LandingCopilotGeneration:onGenerationFinish"){this.stopObserve()}}})}restartObserve(){if(babelHelpers.classPrivateFieldLooseBase(this,t)[t]){clearInterval(babelHelpers.classPrivateFieldLooseBase(this,t)[t])}babelHelpers.classPrivateFieldLooseBase(this,t)[t]=setInterval(this.onGenerationRestart,i.INTERVAL)}stopObserve(){if(babelHelpers.classPrivateFieldLooseBase(this,t)[t]){clearInterval(babelHelpers.classPrivateFieldLooseBase(this,t)[t])}}onGenerationRestart(){BX.ajax.runAction("landing.api.copilot.executeGeneration",{data:{generationId:this.generationId}});this.restartObserve()}}i.INTERVAL=3e4;e.GenerationObserver=i})(this.BX.Landing.Copilot=this.BX.Landing.Copilot||{});
//# sourceMappingURL=generation-observer.bundle.map.js