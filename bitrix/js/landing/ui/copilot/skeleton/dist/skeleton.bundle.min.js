this.BX=this.BX||{};this.BX.Landing=this.BX.Landing||{};this.BX.Landing.UI=this.BX.Landing.UI||{};(function(e,s){"use strict";const t=e=>{let t=e;while(t){const e=window.getComputedStyle(t);if(e.display==="none"||e.visibility==="hidden"||e.opacity==="0"){return false}t=t.parentElement}const a=s.Dom.getPosition(e);return(a==null?void 0:a.width)>1&&(a==null?void 0:a.height)>1};class a{async show(){throw new Error("You must implement the show method!")}hide(){throw new Error("You must implement the hide method!")}}async function l(e){return new Promise((s=>{setTimeout((()=>{s()}),e)}))}var i=babelHelpers.classPrivateFieldLooseKey("iconElement");var o=babelHelpers.classPrivateFieldLooseKey("iconFontawesomeClassNames");var r=babelHelpers.classPrivateFieldLooseKey("iconStubClassNames");var n=babelHelpers.classPrivateFieldLooseKey("replaceStubWithIcon");var c=babelHelpers.classPrivateFieldLooseKey("getFontawesomeClassNamesFromIcon");var b=babelHelpers.classPrivateFieldLooseKey("addClassNames");var d=babelHelpers.classPrivateFieldLooseKey("removeClassNames");class p extends a{constructor(e){super(e);Object.defineProperty(this,d,{value:u});Object.defineProperty(this,b,{value:P});Object.defineProperty(this,c,{value:v});Object.defineProperty(this,n,{value:h});Object.defineProperty(this,i,{writable:true,value:null});Object.defineProperty(this,o,{writable:true,value:""});Object.defineProperty(this,r,{writable:true,value:["fa","fas","fa-stars"]});babelHelpers.classPrivateFieldLooseBase(this,i)[i]=e.iconElement;babelHelpers.classPrivateFieldLooseBase(this,o)[o]=babelHelpers.classPrivateFieldLooseBase(this,c)[c](babelHelpers.classPrivateFieldLooseBase(this,i)[i])}async show(){await babelHelpers.classPrivateFieldLooseBase(this,n)[n]()}hide(){babelHelpers.classPrivateFieldLooseBase(this,d)[d](babelHelpers.classPrivateFieldLooseBase(this,i)[i],babelHelpers.classPrivateFieldLooseBase(this,o)[o]);babelHelpers.classPrivateFieldLooseBase(this,b)[b](babelHelpers.classPrivateFieldLooseBase(this,i)[i],babelHelpers.classPrivateFieldLooseBase(this,r)[r])}}async function h(){s.Dom.style(babelHelpers.classPrivateFieldLooseBase(this,i)[i],{transition:"0.2s ease-in-out opacity",opacity:0});await l(200);babelHelpers.classPrivateFieldLooseBase(this,d)[d](babelHelpers.classPrivateFieldLooseBase(this,i)[i],babelHelpers.classPrivateFieldLooseBase(this,r)[r]);babelHelpers.classPrivateFieldLooseBase(this,b)[b](babelHelpers.classPrivateFieldLooseBase(this,i)[i],babelHelpers.classPrivateFieldLooseBase(this,o)[o]);s.Dom.style(babelHelpers.classPrivateFieldLooseBase(this,i)[i],{opacity:1});await l(200);s.Dom.style(babelHelpers.classPrivateFieldLooseBase(this,i)[i],{transition:null,opacity:null})}function v(e){return[...e.classList].filter((e=>e.startsWith("fa")))}function P(e,t){t.forEach((t=>{s.Dom.addClass(e,t)}))}function u(e,t){t.forEach((t=>{s.Dom.removeClass(e,t)}))}const F=e=>{const s=/^#?([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i.exec(e);return s?{r:parseInt(s[1],16),g:parseInt(s[2],16),b:parseInt(s[3],16)}:null};const L=e=>s.Dom.hasClass(e==null?void 0:e.parentElement,"btn");let H=e=>e,f,y;var m=babelHelpers.classPrivateFieldLooseKey("textNode");var B=babelHelpers.classPrivateFieldLooseKey("textNodeContainer");var w=babelHelpers.classPrivateFieldLooseKey("text");var g=babelHelpers.classPrivateFieldLooseKey("rectangles");var x=babelHelpers.classPrivateFieldLooseKey("windowResizeHandler");var O=babelHelpers.classPrivateFieldLooseKey("fixWidthAndHeightForTextNodeContainer");var T=babelHelpers.classPrivateFieldLooseKey("addTextWithAnimation");var j=babelHelpers.classPrivateFieldLooseKey("addTextWithWordAnimation");var K=babelHelpers.classPrivateFieldLooseKey("addTextWithLetterAnimation");var E=babelHelpers.classPrivateFieldLooseKey("renderAnimatedTextElement");var D=babelHelpers.classPrivateFieldLooseKey("hideAllRectangles");var N=babelHelpers.classPrivateFieldLooseKey("hideRectangleWithAnimation");var C=babelHelpers.classPrivateFieldLooseKey("isShowRectanglesOnText");var $=babelHelpers.classPrivateFieldLooseKey("showRectanglesOnText");var k=babelHelpers.classPrivateFieldLooseKey("getTextNodeRects");var S=babelHelpers.classPrivateFieldLooseKey("createRectanglesFromRects");var _=babelHelpers.classPrivateFieldLooseKey("updateRectanglesPosition");var W=babelHelpers.classPrivateFieldLooseKey("updateRectanglePosition");var R=babelHelpers.classPrivateFieldLooseKey("getTextNodeColor");class X extends a{constructor(e){super(e);Object.defineProperty(this,R,{value:se});Object.defineProperty(this,W,{value:ee});Object.defineProperty(this,_,{value:Z});Object.defineProperty(this,S,{value:Q});Object.defineProperty(this,k,{value:J});Object.defineProperty(this,$,{value:G});Object.defineProperty(this,C,{value:q});Object.defineProperty(this,N,{value:Y});Object.defineProperty(this,D,{value:V});Object.defineProperty(this,E,{value:U});Object.defineProperty(this,K,{value:M});Object.defineProperty(this,j,{value:z});Object.defineProperty(this,T,{value:A});Object.defineProperty(this,O,{value:I});Object.defineProperty(this,m,{writable:true,value:null});Object.defineProperty(this,B,{writable:true,value:null});Object.defineProperty(this,w,{writable:true,value:""});Object.defineProperty(this,g,{writable:true,value:[]});Object.defineProperty(this,x,{writable:true,value:void 0});babelHelpers.classPrivateFieldLooseBase(this,m)[m]=e.textNode;babelHelpers.classPrivateFieldLooseBase(this,B)[B]=babelHelpers.classPrivateFieldLooseBase(this,m)[m].parentElement;babelHelpers.classPrivateFieldLooseBase(this,w)[w]=e.textNode.data;babelHelpers.classPrivateFieldLooseBase(this,x)[x]=babelHelpers.classPrivateFieldLooseBase(this,_)[_].bind(this)}hide(){babelHelpers.classPrivateFieldLooseBase(this,O)[O]();if(babelHelpers.classPrivateFieldLooseBase(this,C)[C]()){babelHelpers.classPrivateFieldLooseBase(this,$)[$]()}s.bind(window,"resize",babelHelpers.classPrivateFieldLooseBase(this,x)[x]);babelHelpers.classPrivateFieldLooseBase(this,B)[B].innerText=" "}async show(){if(babelHelpers.classPrivateFieldLooseBase(this,C)[C]()){await babelHelpers.classPrivateFieldLooseBase(this,D)[D]()}s.Dom.style(babelHelpers.classPrivateFieldLooseBase(this,B)[B],{whiteSpace:null});await babelHelpers.classPrivateFieldLooseBase(this,T)[T]();s.Dom.style(babelHelpers.classPrivateFieldLooseBase(this,B)[B],{display:null,width:null,height:null});s.unbind(window,"resize",babelHelpers.classPrivateFieldLooseBase(this,x)[x])}}function I(){const e=s.Dom.getPosition(babelHelpers.classPrivateFieldLooseBase(this,B)[B]);s.Dom.style(babelHelpers.classPrivateFieldLooseBase(this,B)[B],{whiteSpace:"break-spaces",width:`${e.width}px`,height:`${e.height}px`})}async function A(){if(babelHelpers.classPrivateFieldLooseBase(this,w)[w].length>30){await babelHelpers.classPrivateFieldLooseBase(this,j)[j]()}else{await babelHelpers.classPrivateFieldLooseBase(this,K)[K]()}}async function z(){const e=babelHelpers.classPrivateFieldLooseBase(this,E)[E]();babelHelpers.classPrivateFieldLooseBase(this,B)[B].innerText="";s.Dom.append(e,babelHelpers.classPrivateFieldLooseBase(this,B)[B]);const t=babelHelpers.classPrivateFieldLooseBase(this,w)[w].split(" ");e.innerText=t[0];for(const s of t.slice(1)){await l(50);e.innerText=`${e.innerText} ${s}`}s.Dom.removeClass(e,"landing__copilot-skeleton_animated-text");babelHelpers.classPrivateFieldLooseBase(this,B)[B].innerText=e.innerText}async function M(){const e=babelHelpers.classPrivateFieldLooseBase(this,E)[E]();babelHelpers.classPrivateFieldLooseBase(this,B)[B].innerText="";s.Dom.append(e,babelHelpers.classPrivateFieldLooseBase(this,B)[B]);let t="";for(const s of babelHelpers.classPrivateFieldLooseBase(this,w)[w]){if(s===" "){t+=s}else if(t.length>0){e.innerText+=t+s;t=""}else{e.innerText+=s}await l(50)}s.Dom.removeClass(e,"landing__copilot-skeleton_animated-text");babelHelpers.classPrivateFieldLooseBase(this,B)[B].innerText=e.innerText}function U(){const e=parseFloat(getComputedStyle(babelHelpers.classPrivateFieldLooseBase(this,B)[B]).lineHeight,10)||0;const t=parseFloat(getComputedStyle(babelHelpers.classPrivateFieldLooseBase(this,B)[B]).fontSize,10)||24;const a=t>24?24:t;const l=(e-a)/2;const i=s.Tag.render(f||(f=H`<span class="landing__copilot-skeleton_animated-text"></span>`));s.Dom.style(i,{"--copilot-label-bottom-indent":`${l}px`,"--copilot-label-size":`${a}px`,display:"inline-block",minHeight:`${e}px`});i.innerText="";return i}function V(){const e=babelHelpers.classPrivateFieldLooseBase(this,g)[g].map((e=>babelHelpers.classPrivateFieldLooseBase(this,N)[N](e)));return Promise.all(e)}async function Y(e){return new Promise((t=>{s.Dom.addClass(e,"--hiding");s.bindOnce(e,"transitionend",(()=>{e.remove();t()}))}))}function q(){return L(babelHelpers.classPrivateFieldLooseBase(this,m)[m])===false}function G(){const e=babelHelpers.classPrivateFieldLooseBase(this,S)[S](babelHelpers.classPrivateFieldLooseBase(this,k)[k]());e.forEach((e=>{s.Dom.append(e,babelHelpers.classPrivateFieldLooseBase(this,B)[B].ownerDocument.defaultView.document.body)}))}function J(){const e=babelHelpers.classPrivateFieldLooseBase(this,B)[B].ownerDocument.defaultView.document.createRange();e.selectNodeContents(babelHelpers.classPrivateFieldLooseBase(this,m)[m]);const s=e.getClientRects();return[...s].map((e=>{const s=window.pageYOffset||babelHelpers.classPrivateFieldLooseBase(this,B)[B].ownerDocument.defaultView.document.documentElement.scrollTop;const t=.5;const a=parseInt(e.height*t,10);return new DOMRect(e.left,e.top+s+a/2,e.width,e.height-a)}))}function Q(e){babelHelpers.classPrivateFieldLooseBase(this,g)[g]=e.map((e=>{const t=s.Tag.render(y||(y=H`<div class="landing__copilot-skeleton-rectangle --showing"></div>`));s.Dom.style(t,{backgroundColor:babelHelpers.classPrivateFieldLooseBase(this,R)[R]()});babelHelpers.classPrivateFieldLooseBase(this,W)[W](t,e);return t}));return babelHelpers.classPrivateFieldLooseBase(this,g)[g]}function Z(){babelHelpers.classPrivateFieldLooseBase(this,k)[k]().forEach(((e,s)=>{const t=babelHelpers.classPrivateFieldLooseBase(this,g)[g][s];babelHelpers.classPrivateFieldLooseBase(this,W)[W](t,e)}))}function ee(e,t){const a=babelHelpers.classPrivateFieldLooseBase(this,B)[B].ownerDocument.defaultView.document.documentElement.clientWidth;const l=5;const i=0;const o=t.width+l;const r=t.height+i;const n=t.left-l/2;const c=t.top-i/2;const b=a-n-o;s.Dom.style(e,{top:`${c}px`,left:`${n}px`,right:`${b}px`,width:`${o}px`,height:`${r}px`})}function se(){const e=.25;const s=babelHelpers.classPrivateFieldLooseBase(this,m)[m].parentElement;const t=getComputedStyle(s).color;if(t.includes("rgb")){const s=t.match(/[\d.]+/g);const[a,l,i]=s;return`rgba(${a}, ${l}, ${i}, ${e})`}const{r:a,g:l,b:i}=F(t);return`rgba(${a},${l},${i}, ${e})`}var te=babelHelpers.classPrivateFieldLooseKey("skeletons");var ae=babelHelpers.classPrivateFieldLooseKey("skeletonBlocks");var le=babelHelpers.classPrivateFieldLooseKey("hideSkeletonBlocks");var ie=babelHelpers.classPrivateFieldLooseKey("getSkeletonBlocks");class oe{static initOnBlock(e,s){babelHelpers.classPrivateFieldLooseBase(this,te)[te].set(e,s);babelHelpers.classPrivateFieldLooseBase(this,ae)[ae].set(e,babelHelpers.classPrivateFieldLooseBase(this,ie)[ie](e));babelHelpers.classPrivateFieldLooseBase(this,le)[le](e)}static async removeSkeletonFromBlock(e){const s=babelHelpers.classPrivateFieldLooseBase(this,ae)[ae].get(e);for(const e of s){await e.show()}}}function re(e){const s=babelHelpers.classPrivateFieldLooseBase(this,ae)[ae].get(e);s.forEach((e=>{e.hide()}))}function ne(e){const a=babelHelpers.classPrivateFieldLooseBase(this,te)[te].get(e);const l=[];const i=document.createTreeWalker(a,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT,null,false);while(i.nextNode()){var o;const e=i.currentNode;if(e.nodeType===Node.TEXT_NODE&&e.data.trim()!==""&&t(e.parentElement)){const t=e.parentElement;if(s.Dom.getPosition(t).left<=window.innerWidth){e.data=e.data.trim();l.push(new X({textNode:e}))}}else if(e.nodeType===Node.ELEMENT_NODE&&s.Type.isStringFilled(e.className)&&(o=e.className)!=null&&o.split(" ").some((e=>e.startsWith("fa-")))){l.push(new p({iconElement:e}))}}return l}Object.defineProperty(oe,ie,{value:ne});Object.defineProperty(oe,le,{value:re});Object.defineProperty(oe,te,{writable:true,value:new Map});Object.defineProperty(oe,ae,{writable:true,value:new Map});e.Skeleton=oe})(this.BX.Landing.UI.Copilot=this.BX.Landing.UI.Copilot||{},BX);
//# sourceMappingURL=skeleton.bundle.map.js