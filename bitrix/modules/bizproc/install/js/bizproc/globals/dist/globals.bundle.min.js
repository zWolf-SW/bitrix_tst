this.BX=this.BX||{};(function(e,i){"use strict";function t(e,i){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);i&&(r=r.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),t.push.apply(t,r)}return t}function r(e){for(var i=1;i<arguments.length;i++){var r=null!=arguments[i]?arguments[i]:{};i%2?t(Object(r),!0).forEach((function(i){babelHelpers.defineProperty(e,i,r[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t(Object(r)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))}))}return e}var l=null;var n=function(){function e(){babelHelpers.classCallCheck(this,e);babelHelpers.defineProperty(this,"mode",{variable:"variable",constant:"constant"});babelHelpers.defineProperty(this,"listUrl","/bitrix/components/bitrix/bizproc.globalfield.list/");babelHelpers.defineProperty(this,"editUrl","/bitrix/components/bitrix/bizproc.globalfield.edit/");babelHelpers.defineProperty(this,"listSliderOptions",{width:1150,cacheable:false,allowChangeHistory:false});babelHelpers.defineProperty(this,"editSliderOptions",{width:500,cacheable:false,allowChangeHistory:false})}babelHelpers.createClass(e,[{key:"createGlobals",value:function e(t,r,l,n){var a=i.Type.isStringFilled(l)?l:"";var o=i.Uri.addParam(this.editUrl,{documentType:r,mode:this.mode[t],name:a});if(i.Type.isPlainObject(n)){if(i.Type.isStringFilled(n.visibility)){o=i.Uri.addParam(o,{visibility:n.visibility})}if(i.Type.isArrayFilled(n.availableTypes)){o=i.Uri.addParam(o,{availableTypes:n.availableTypes})}}return this.constructor.openSlider(o,this.editSliderOptions)}},{key:"editGlobals",value:function e(t,r,l){t=i.Type.isStringFilled(t)?i.Text.decode(t):"";return this.constructor.openSlider(i.Uri.addParam(this.editUrl,{fieldId:t,mode:this.mode[r],documentType:l}),this.editSliderOptions)}},{key:"showGlobals",value:function e(t,r){return this.constructor.openSlider(i.Uri.addParam(this.listUrl,{documentType:r,mode:this.mode[t]}),this.listSliderOptions)}},{key:"deleteGlobalsAction",value:function e(t,r,l){return i.ajax.runAction("bizproc.globalfield.delete",{analyticsLabel:"bizprocGlobalFieldDelete",data:{fieldId:t,mode:r,documentType:l}})}},{key:"upsertGlobalsAction",value:function e(t,r,l,n){return i.ajax.runAction("bizproc.globalfield.upsert",{analyticsLabel:"bizprocGlobalFieldUpsert",data:{fieldId:t,property:r,documentType:l,mode:n}})}}],[{key:"openSlider",value:function e(t,l){if(!i.Type.isPlainObject(l)){l={}}l=r(r({},{cacheable:false,allowChangeHistory:true,events:{}}),l);return new Promise((function(e){if(i.Type.isStringFilled(t)){l.events.onClose=function(i){e(i.getSlider())};BX.SidePanel.Instance.open(t,l)}else{e()}}))}},{key:"Instance",get:function i(){if(l===null){l=new e}return l}}]);return e}();var a={Manager:n};e.Globals=a})(this.BX.Bizproc=this.BX.Bizproc||{},BX);
//# sourceMappingURL=globals.bundle.map.js