{"version":3,"file":"popupcomponentsmaker.bundle.js","sources":["../src/popup.item.js","../src/popup.js"],"sourcesContent":["import { EventEmitter } from 'main.core.events';\nimport { Type, Tag, Dom } from 'main.core';\nimport { Loader } from 'main.loader';\n\nexport default class PopupComponentsMakerItem extends EventEmitter\n{\n\tconstructor(options = {})\n\t{\n\t\tsuper();\n\n\t\tthis.html = null;\n\t\tthis.awaitContent = null;\n\t\tthis.flex = null;\n\t\tthis.withoutBackground = null;\n\t\tthis.backgroundColor = null;\n\t\tthis.backgroundImage = null;\n\t\tthis.background = null;\n\t\tthis.marginBottom = null;\n\t\tthis.disabled = null;\n\t\tthis.secondary = null;\n\t\tthis.overflow = null;\n\t\tthis.displayBlock = null;\n\t\tthis.attrs = null;\n\t\tthis.minHeight = null;\n\t\tthis.sizeLoader = 45;\n\t\tthis.asyncSecondary = null;\n\t\tthis.margin = null;\n\n\t\tthis.setParams(options);\n\n\t\tthis.layout = {\n\t\t\tcontainer: null,\n\t\t};\n\n\t\tif (this.awaitContent)\n\t\t{\n\t\t\tthis.await();\n\t\t}\n\t}\n\n\tsetParams(options = {})\n\t{\n\t\tthis.html = Type.isDomNode(options?.html) ? options.html : this.html;\n\t\tthis.awaitContent = Type.isBoolean(options?.awaitContent) ? options?.awaitContent : this.awaitContent;\n\t\tthis.flex = Type.isNumber(options?.flex) ? options.flex : this.flex;\n\t\tthis.withoutBackground = Type.isBoolean(options?.withoutBackground)\n\t\t\t? options.withoutBackground\n\t\t\t: this.withoutBackground\n\t\t;\n\t\tthis.background = Type.isString(options?.background)\n\t\t\t? options.background\n\t\t\t: this.background\n\t\t;\n\t\tthis.backgroundColor = Type.isString(options?.backgroundColor)\n\t\t\t? options.backgroundColor\n\t\t\t: this.backgroundColor\n\t\t;\n\t\tthis.backgroundImage = Type.isString(options?.backgroundImage)\n\t\t\t? options.backgroundImage\n\t\t\t: this.backgroundImage\n\t\t;\n\t\tthis.marginBottom = Type.isNumber(options?.marginBottom) ? options.marginBottom : this.marginBottom;\n\t\tthis.disabled = Type.isBoolean(options?.disabled) ? options.disabled : this.disabled;\n\t\tthis.secondary = Type.isBoolean(options?.secondary) ? options.secondary : this.secondary;\n\t\tthis.overflow = Type.isBoolean(options?.overflow) ? options.overflow : this.overflow;\n\t\tthis.displayBlock = Type.isBoolean(options?.displayBlock) ? options.displayBlock : this.displayBlock;\n\t\tthis.attrs = Type.isPlainObject(options?.attrs) ? options.attrs : this.attrs;\n\t\tthis.minHeight = Type.isString(options?.minHeight) ? options.minHeight : this.minHeight;\n\t\tthis.margin = Type.isString(options.margin) ? options.margin : this.margin;\n\t\tthis.sizeLoader = Type.isNumber(options?.sizeLoader) ? options.sizeLoader : this.sizeLoader;\n\t\tthis.asyncSecondary = (options?.asyncSecondary instanceof Promise)\n\t\t\t? options.asyncSecondary\n\t\t\t: this.asyncSecondary\n\t\t;\n\t}\n\n\tgetLoader(): Loader\n\t{\n\t\tif (!this.loader)\n\t\t{\n\t\t\tthis.loader = new Loader({\n\t\t\t\ttarget: this.getContainer(),\n\t\t\t\tsize: this.sizeLoader\n\t\t\t});\n\t\t}\n\n\t\treturn this.loader;\n\t}\n\n\tawait()\n\t{\n\t\tthis.getContainer().classList.add('--awaiting');\n\t\tthis.showLoader();\n\t}\n\n\tstopAwait()\n\t{\n\t\tthis.getContainer().classList.remove('--awaiting');\n\t\tthis.hideLoader();\n\t}\n\n\tshowLoader(): void\n\t{\n\t\tvoid this.getLoader().show();\n\t}\n\n\thideLoader(): void\n\t{\n\t\tvoid this.getLoader().hide();\n\t}\n\n\tgetContent()\n\t{\n\t\tif (this.html)\n\t\t{\n\t\t\treturn this.html;\n\t\t}\n\n\t\treturn '';\n\t}\n\n\tupdateContent(node: HTMLElement)\n\t{\n\t\tif (Type.isDomNode(node))\n\t\t{\n\t\t\tDom.clean(this.getContainer());\n\t\t\tthis.getContainer().appendChild(node);\n\t\t}\n\t}\n\n\tsetBackgroundColor(color: string)\n\t{\n\t\tif (Type.isString(color))\n\t\t{\n\t\t\tthis.getContainer().style.backgroundColor = color;\n\t\t}\n\t}\n\n\tgetMarginBottom()\n\t{\n\t\treturn this.marginBottom;\n\t}\n\n\tgetContainer(): HTMLElement\n\t{\n\t\tif (!this.layout.container)\n\t\t{\n\t\t\tthis.layout.container = Tag.render`\n\t\t\t\t<div class=\"ui-popupcomponentmaker__content--section-item\">${this.getContent()}</div>\n\t\t\t`;\n\t\t}\n\n\t\tif (this.background)\n\t\t{\n\t\t\tthis.layout.container.style.background = this.background;\n\t\t}\n\n\t\tif (this.backgroundColor)\n\t\t{\n\t\t\tthis.layout.container.style.backgroundColor = this.backgroundColor;\n\t\t}\n\n\t\tif (this.backgroundImage)\n\t\t{\n\t\t\tthis.layout.container.style.backgroundImage = this.backgroundImage;\n\t\t}\n\n\t\tif (this.withoutBackground && !this.backgroundColor && !this.background)\n\t\t{\n\t\t\tthis.layout.container.classList.add('--transparent');\n\t\t}\n\n\t\tif (this.flex)\n\t\t{\n\t\t\tthis.layout.container.style.flex = this.flex;\n\t\t}\n\n\t\tif (this.disabled)\n\t\t{\n\t\t\tthis.layout.container.classList.add('--disabled');\n\t\t}\n\n\t\tif (this.secondary)\n\t\t{\n\t\t\tDom.addClass(this.layout.container, '--secondary');\n\t\t}\n\n\t\tif (this.overflow)\n\t\t{\n\t\t\tthis.layout.container.classList.add('--overflow-hidden');\n\t\t}\n\n\t\tif (this.displayBlock)\n\t\t{\n\t\t\tthis.layout.container.classList.add('--block');\n\t\t}\n\n\t\tif (this.attrs)\n\t\t{\n\t\t\tDom.adjust(this.layout.container, {attrs: this.attrs});\n\t\t}\n\n\t\tif (this.minHeight)\n\t\t{\n\t\t\tDom.style(this.layout.container, 'min-height', this.minHeight);\n\t\t}\n\n\t\tif (this.margin)\n\t\t{\n\t\t\tDom.style(this.layout.container, 'margin', this.margin);\n\t\t}\n\n\t\tif (this.asyncSecondary)\n\t\t{\n\t\t\tthis.asyncSecondary.then((secondary) => {\n\t\t\t\tif (secondary === false)\n\t\t\t\t{\n\t\t\t\t\tDom.removeClass(this.layout.container, '--secondary');\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tDom.addClass(this.layout.container, '--secondary');\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn this.layout.container;\n\t}\n}\n","import { Type, Tag, Dom } from 'main.core';\nimport {Popup} from 'main.popup';\nimport {EventEmitter} from \"main.core.events\";\nimport PopupComponentsMakerItem from './popup.item';\n\nimport 'ui.fonts.opensans';\nimport 'ui.design-tokens';\nimport './style.css';\n\nexport default class PopupComponentsMaker\n{\n\tconstructor({\n\t\tid,\n\t\ttarget,\n\t\tcontent,\n\t\twidth,\n\t\tcacheable,\n\t\tcontentPadding,\n\t\tpadding,\n\t\toffsetTop,\n\t\tblurBackground,\n\t\tuseAngle,\n\t\tpopupLoader,\n\t\toffsetLeft,\n\t})\n\t{\n\t\tthis.id = Type.isString(id) ? id : null;\n\t\tthis.target = Type.isElementNode(target) ? target : null;\n\t\tthis.content = content || null;\n\t\tthis.contentWrapper = null;\n\t\tthis.popup = null;\n\t\tthis.loader = null;\n\t\tthis.items = [];\n\t\tthis.width = Type.isNumber(width) ? width : null;\n\t\tthis.cacheable = Type.isBoolean(cacheable) ? cacheable : true;\n\t\tthis.contentPadding = Type.isNumber(contentPadding) ? contentPadding : 0;\n\t\tthis.padding = Type.isNumber(padding) ? padding : 13;\n\t\tthis.offsetTop = Type.isNumber(offsetTop) ? offsetTop : 0;\n\t\tthis.offsetLeft = Type.isNumber(offsetLeft) ? offsetLeft : null;\n\t\tthis.blurBlackground = Type.isBoolean(blurBackground) ? blurBackground : false;\n\t\tthis.useAngle = (Type.isUndefined(useAngle) || useAngle !== false);\n\t\tthis.popupLoader = popupLoader instanceof Popup ? popupLoader : null;\n\t}\n\n\tgetItems()\n\t{\n\t\treturn this.items;\n\t}\n\n\tgetItem(item): PopupComponentsMakerItem\n\t{\n\t\tif (item instanceof PopupComponentsMakerItem)\n\t\t{\n\t\t\treturn item;\n\t\t}\n\n\t\titem = new PopupComponentsMakerItem(item);\n\n\t\tif (this.items.indexOf(item) === -1)\n\t\t{\n\t\t\tthis.items.push(item);\n\t\t}\n\n\t\treturn item;\n\t}\n\n\tgetPopup(): Popup\n\t{\n\t\tif (!this.popup)\n\t\t{\n\t\t\tconst popupWidth = this.width ? this.width : 350;\n\n\t\t\tconst popupId = this.id ? this.id + '-popup' : null;\n\n\t\t\tif (this.popupLoader)\n\t\t\t{\n\t\t\t\tthis.popup = this.popupLoader;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.popup = new Popup(\n\t\t\t\t\tpopupId,\n\t\t\t\t\tthis.target,\n\t\t\t\t\t{\n\t\t\t\t\t\tangle: this.useAngle\n\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\toffset: (popupWidth / 2) - 16,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t: false,\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tDom.addClass(this.popup.getPopupContainer(), 'ui-popupcomponentmaker');\n\t\t\tthis.popup.setContent(this.getContentWrapper());\n\t\t\tthis.popup.setContentBackground('transparent');\n\t\t\tthis.popup.setContentPadding(this.contentPadding);\n\t\t\tthis.popup.setOffset({\n\t\t\t\toffsetTop: this.offsetTop,\n\t\t\t\toffsetLeft: this.offsetLeft ?? -(popupWidth / 2) + (this.target ? this.target.offsetWidth / 2 : 0) + 40,\n\t\t\t});\n\t\t\tthis.popup.setWidth(popupWidth);\n\t\t\tthis.popup.setAutoHide(true);\n\t\t\tthis.popup.setPadding(this.padding);\n\t\t\tthis.popup.setAnimation('fading-slide');\n\t\t\tthis.popup.setCacheable(this.cacheable);\n\n\t\t\tif (this.blurBlackground)\n\t\t\t{\n\t\t\t\tDom.addClass(this.popup.getPopupContainer(), 'popup-with-radius');\n\t\t\t\tthis.setBlurBackground();\n\t\t\t\tEventEmitter.subscribe(\n\t\t\t\t\tEventEmitter.GLOBAL_TARGET,\n\t\t\t\t\t'BX.Intranet.Bitrix24:ThemePicker:onThemeApply', () => {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tthis.setBlurBackground();\n\t\t\t\t\t\t}, 200)\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tthis.popup.getContentContainer().style.overflowX = null;\n\t\t}\n\n\t\treturn this.popup;\n\t}\n\n\tisShown()\n\t{\n\t\treturn this.getPopup().isShown();\n\t}\n\n\tgetContentWrapper(): HTMLElement\n\t{\n\t\tif (!this.contentWrapper)\n\t\t{\n\t\t\tthis.contentWrapper = Tag.render`\n\t\t\t\t<div class=\"ui-popupcomponentmaker__content\"></div>\n\t\t\t`;\n\n\t\t\tif (!this.content)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.content.map((item)=> {\n\t\t\t\tlet sectionNode = this.getSection()\n\n\t\t\t\tif (item?.marginBottom)\n\t\t\t\t{\n\t\t\t\t\tType.isNumber(item.marginBottom)\n\t\t\t\t\t\t? sectionNode.style.marginBottom = item.marginBottom + 'px'\n\t\t\t\t\t\t: null;\n\t\t\t\t}\n\t\t\t\tif (item?.className)\n\t\t\t\t{\n\t\t\t\t\tDom.addClass(sectionNode, item.className);\n\t\t\t\t}\n\n\t\t\t\tif (item?.attrs)\n\t\t\t\t{\n\t\t\t\t\tDom.adjust(sectionNode, {attrs: item.attrs});\n\t\t\t\t}\n\n\t\t\t\tif (Type.isDomNode(item?.html))\n\t\t\t\t{\n\t\t\t\t\tsectionNode.appendChild(this.getItem(item).getContainer());\n\t\t\t\t\tthis.contentWrapper.appendChild(sectionNode);\n\t\t\t\t}\n\n\t\t\t\tif (Type.isArray(item?.html))\n\t\t\t\t{\n\t\t\t\t\tlet innerSection = Tag.render`\n\t\t\t\t\t\t<div class=\"ui-popupcomponentmaker__content--section-item --flex-column --transparent\"></div>\n\t\t\t\t\t`;\n\n\t\t\t\t\titem.html.map((itemObj)=> {\n\n\t\t\t\t\t\tif (itemObj?.html?.then)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.adjustPromise(itemObj, sectionNode);\n\t\t\t\t\t\t\tType.isNumber(itemObj?.marginBottom)\n\t\t\t\t\t\t\t\t? sectionNode.style.marginBottom = itemObj.marginBottom + 'px'\n\t\t\t\t\t\t\t\t: null;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (Type.isArray(itemObj?.html))\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\titemObj.html.map((itemInner)=> {\n\t\t\t\t\t\t\t\t\tinnerSection.appendChild(this.getItem(itemInner).getContainer());\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tsectionNode.appendChild(innerSection);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tsectionNode.appendChild(this.getItem(itemObj).getContainer());\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tthis.contentWrapper.appendChild(sectionNode);\n\t\t\t\t}\n\n\t\t\t\tif (Type.isFunction(item?.html?.then))\n\t\t\t\t{\n\t\t\t\t\tthis.adjustPromise(item, sectionNode);\n\t\t\t\t\tthis.contentWrapper.appendChild(sectionNode);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn this.contentWrapper;\n\t}\n\n\tadjustPromise(item: Object, sectionNode: HTMLElement)\n\t{\n\t\titem.awaitContent = true;\n\t\tlet itemObj = this.getItem(item);\n\n\t\tif (sectionNode)\n\t\t{\n\t\t\tsectionNode.appendChild(itemObj.getContainer());\n\t\t\titem?.html?.then((result) => {\n\t\t\t\tif (Type.isDomNode(result))\n\t\t\t\t{\n\t\t\t\t\titemObj.stopAwait();\n\t\t\t\t\titemObj.updateContent(result);\n\t\t\t\t}\n\t\t\t\telse if (Type.isPlainObject(result) && Type.isDomNode(result.node))\n\t\t\t\t{\n\t\t\t\t\tif (Type.isPlainObject(result.options))\n\t\t\t\t\t{\n\t\t\t\t\t\titemObj.setParams(result.options);\n\t\t\t\t\t}\n\t\t\t\t\titemObj.stopAwait();\n\t\t\t\t\titemObj.updateContent(result.node);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * @private\n\t */\n\tgetSection(): HTMLElement\n\t{\n\t\treturn Tag.render`\n\t\t\t<div class=\"ui-popupcomponentmaker__content--section\"></div>\n\t\t`;\n\t}\n\n\tsetBlurBackground(): void\n\t{\n\t\tconst container = this.getPopup().getPopupContainer();\n\t\tconst windowStyles = window.getComputedStyle(document.body);\n\t\tconst backgroundImage = windowStyles.backgroundImage;\n\t\tconst backgroundColor = windowStyles.backgroundColor;\n\n\t\tif (Type.isDomNode(container))\n\t\t{\n\t\t\tDom.addClass(container, 'popup-window-blur');\n\t\t}\n\n\t\tlet blurStyle = Dom.create('style', {\n\t\t\tattrs: {\n\t\t\t\ttype: 'text/css',\n\t\t\t\tid: 'styles-widget-blur',\n\t\t\t}\n\t\t});\n\n\t\tlet styles = '.popup-window-content:after { '\n\t\t\t+ 'background-image: '\n\t\t\t+ backgroundImage\n\t\t\t+ ';'\n\t\t\t+ 'background-color: '\n\t\t\t+ backgroundColor\n\t\t\t+ '} ';\n\n\t\tstyles = document.createTextNode(styles);\n\t\tblurStyle.appendChild(styles);\n\n\t\tlet stylesWithAngle = '.popup-window-angly:after { ' + 'background-color: ' + backgroundColor + '} ';\n\n\t\tstylesWithAngle = document.createTextNode(stylesWithAngle);\n\t\tblurStyle.appendChild(stylesWithAngle);\n\t\tconst headStyle = document.head.querySelector('#styles-widget-blur');\n\n\t\tif (headStyle)\n\t\t{\n\t\t\tDom.replace(headStyle, blurStyle);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tdocument.head.appendChild(blurStyle);\n\t\t}\n\t}\n\n\tshow()\n\t{\n\t\tif (!Type.isDomNode(this.target))\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tthis.getPopup().show();\n\t}\n\n\tclose()\n\t{\n\t\tthis.getPopup().close();\n\t}\n}\n"],"names":["PopupComponentsMakerItem","EventEmitter","constructor","options","html","awaitContent","flex","withoutBackground","backgroundColor","backgroundImage","background","marginBottom","disabled","secondary","overflow","displayBlock","attrs","minHeight","sizeLoader","asyncSecondary","margin","setParams","layout","container","await","Type","isDomNode","isBoolean","isNumber","isString","isPlainObject","Promise","getLoader","loader","Loader","target","getContainer","size","classList","add","showLoader","stopAwait","remove","hideLoader","show","hide","getContent","updateContent","node","Dom","clean","appendChild","setBackgroundColor","color","style","getMarginBottom","Tag","render","addClass","adjust","then","removeClass","PopupComponentsMaker","id","content","width","cacheable","contentPadding","padding","offsetTop","blurBackground","useAngle","popupLoader","offsetLeft","isElementNode","contentWrapper","popup","items","blurBlackground","isUndefined","Popup","getItems","getItem","item","indexOf","push","getPopup","popupWidth","popupId","angle","offset","getPopupContainer","setContent","getContentWrapper","setContentBackground","setContentPadding","setOffset","offsetWidth","setWidth","setAutoHide","setPadding","setAnimation","setCacheable","setBlurBackground","subscribe","GLOBAL_TARGET","setTimeout","getContentContainer","overflowX","isShown","map","sectionNode","getSection","className","isArray","innerSection","itemObj","adjustPromise","itemInner","isFunction","result","windowStyles","window","getComputedStyle","document","body","blurStyle","create","type","styles","createTextNode","stylesWithAngle","headStyle","head","querySelector","replace","close"],"mappings":"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"}