this.BX=this.BX||{};(function(e,s){"use strict";let t=e=>e,a,l,i,o,r,n;var c=babelHelpers.classPrivateFieldLooseKey("metadata");var b=babelHelpers.classPrivateFieldLooseKey("order");var d=babelHelpers.classPrivateFieldLooseKey("options");var v=babelHelpers.classPrivateFieldLooseKey("stepIndex");var p=babelHelpers.classPrivateFieldLooseKey("stepNode");var h=babelHelpers.classPrivateFieldLooseKey("stages");var u=babelHelpers.classPrivateFieldLooseKey("navigationButtons");var P=babelHelpers.classPrivateFieldLooseKey("createNavigationButtons");var L=babelHelpers.classPrivateFieldLooseKey("createStages");var B=babelHelpers.classPrivateFieldLooseKey("onPrevStep");var F=babelHelpers.classPrivateFieldLooseKey("tryCompleteStep");var H=babelHelpers.classPrivateFieldLooseKey("onNextStep");var f=babelHelpers.classPrivateFieldLooseKey("getButtonsTitle");var g=babelHelpers.classPrivateFieldLooseKey("renderNavigationButtons");var m=babelHelpers.classPrivateFieldLooseKey("renderActiveStage");var y=babelHelpers.classPrivateFieldLooseKey("renderStep");class O{constructor(e={},l={}){Object.defineProperty(this,y,{value:K});Object.defineProperty(this,m,{value:j});Object.defineProperty(this,g,{value:S});Object.defineProperty(this,f,{value:N});Object.defineProperty(this,H,{value:D});Object.defineProperty(this,F,{value:w});Object.defineProperty(this,B,{value:C});Object.defineProperty(this,L,{value:T});Object.defineProperty(this,P,{value:_});Object.defineProperty(this,c,{writable:true,value:void 0});Object.defineProperty(this,b,{writable:true,value:void 0});Object.defineProperty(this,d,{writable:true,value:void 0});Object.defineProperty(this,v,{writable:true,value:void 0});Object.defineProperty(this,p,{writable:true,value:void 0});Object.defineProperty(this,h,{writable:true,value:void 0});Object.defineProperty(this,u,{writable:true,value:void 0});babelHelpers.classPrivateFieldLooseBase(this,c)[c]=e;babelHelpers.classPrivateFieldLooseBase(this,d)[d]=l;babelHelpers.classPrivateFieldLooseBase(this,b)[b]=Object.keys(e);babelHelpers.classPrivateFieldLooseBase(this,v)[v]=0;babelHelpers.classPrivateFieldLooseBase(this,p)[p]=s.Tag.render(a||(a=t`<div class="sign-wizard__step"></div>`));babelHelpers.classPrivateFieldLooseBase(this,h)[h]=new Map;babelHelpers.classPrivateFieldLooseBase(this,u)[u]=babelHelpers.classPrivateFieldLooseBase(this,P)[P]()}getLayout(){babelHelpers.classPrivateFieldLooseBase(this,h)[h]=babelHelpers.classPrivateFieldLooseBase(this,L)[L]();const e=s.Tag.render(l||(l=t`
			<div class="sign-wizard__content">
				<div class="sign-wizard__stages">
					${0}
				</div>
				${0}
			</div>
		`),[...babelHelpers.classPrivateFieldLooseBase(this,h)[h].values()],babelHelpers.classPrivateFieldLooseBase(this,p)[p]);const a=s.Tag.render(i||(i=t`
			<div class="sign-wizard__footer">
				${0}
			</div>
		`),Object.values(babelHelpers.classPrivateFieldLooseBase(this,u)[u]));return s.Tag.render(o||(o=t`
			<div class="sign-wizard__scope sign-wizard">
				${0}
				${0}
			</div>
		`),e,a)}moveOnStep(e){babelHelpers.classPrivateFieldLooseBase(this,v)[v]=e;babelHelpers.classPrivateFieldLooseBase(this,m)[m]();babelHelpers.classPrivateFieldLooseBase(this,g)[g]();babelHelpers.classPrivateFieldLooseBase(this,y)[y]()}toggleBtnLoadingState(e,t){const a=babelHelpers.classPrivateFieldLooseBase(this,u)[u][e];if(t){s.Dom.addClass(a,"ui-btn-wait")}else{s.Dom.removeClass(a,"ui-btn-wait")}}toggleBtnActiveState(e,t){const a=babelHelpers.classPrivateFieldLooseBase(this,u)[u][e];if(t){s.Dom.addClass(a,"ui-btn-disabled")}else{s.Dom.removeClass(a,"ui-btn-disabled")}}}function _(){var e,a,l;const i=["ui-btn","ui-btn-lg","ui-btn-round","sign-wizard__footer_button"];const{back:o={},next:n={},complete:c={},cancel:b={},swapButtons:v=false}=(e=babelHelpers.classPrivateFieldLooseBase(this,d)[d])!=null?e:{};const{title:p,onComplete:h,className:u}=c;const{title:P,onCancel:L,className:f}=b;const g=((a=o.className)!=null?a:"").split(" ");const m=((l=n.className)!=null?l:"").split(" ");const y=(u!=null?u:"").split(" ");const O=(f!=null?f:"").split(" ");const _={id:"back",title:s.Loc.getMessage("SIGN_WIZARD_FOOTER_BUTTON_BACK"),method:()=>babelHelpers.classPrivateFieldLooseBase(this,B)[B](),buttonClassList:[...i,...g]};const T={id:"cancel",title:P!=null?P:s.Loc.getMessage("SIGN_WIZARD_FOOTER_BUTTON_CANCEL"),method:async()=>{const e=await babelHelpers.classPrivateFieldLooseBase(this,F)[F]("cancel");if(e&&L){L()}},buttonClassList:[...i,...O]};const C=[{id:"next",title:s.Loc.getMessage("SIGN_WIZARD_FOOTER_BUTTON_NEXT"),method:()=>babelHelpers.classPrivateFieldLooseBase(this,H)[H](),buttonClassList:[...i,...m]},{id:"complete",title:p!=null?p:s.Loc.getMessage("SIGN_WIZARD_FOOTER_BUTTON_COMPLETE"),method:async()=>{const e=await babelHelpers.classPrivateFieldLooseBase(this,F)[F]("complete");if(e&&h){h()}},buttonClassList:[...i,...y]}];if(Object.keys(b).length>0){C.push(T)}if(v){C.push(_)}else{C.unshift(_)}return C.reduce(((e,a)=>{const{title:l,method:o,buttonClassList:n=i,id:c}=a;const b=s.Tag.render(r||(r=t`
				<button
					class="${0}"
					title="${0}"
					onclick="${0}"
				>
					${0}
				</button>
			`),n.join(" "),l,o,l);e[c]=b;return e}),{})}function T(){const e=Object.entries(babelHelpers.classPrivateFieldLooseBase(this,c)[c]);const a=new Map;e.forEach((([e,l])=>{const i=s.Tag.render(n||(n=t`
				<span class="sign-wizard__stages_item">
					${0}
				</span>
			`),l.title);a.set(e,i)}));return a}function C(){babelHelpers.classPrivateFieldLooseBase(this,v)[v]-=1;this.moveOnStep(babelHelpers.classPrivateFieldLooseBase(this,v)[v])}async function w(e="next"){var s,t;const a=babelHelpers.classPrivateFieldLooseBase(this,b)[b][babelHelpers.classPrivateFieldLooseBase(this,v)[v]];const{beforeCompletion:l}=(s=babelHelpers.classPrivateFieldLooseBase(this,c)[c][a])!=null?s:{};if(e==="cancel"){return true}this.toggleBtnLoadingState(e,true);const i=(t=await(l==null?void 0:l()))!=null?t:true;this.toggleBtnLoadingState(e,false);return i}async function D(){const e=await babelHelpers.classPrivateFieldLooseBase(this,F)[F]();if(e){babelHelpers.classPrivateFieldLooseBase(this,v)[v]+=1;this.moveOnStep(babelHelpers.classPrivateFieldLooseBase(this,v)[v])}}function N(){var e,t,a,l,i;const{back:o={},next:r={}}=(e=babelHelpers.classPrivateFieldLooseBase(this,d)[d])!=null?e:{};const n=babelHelpers.classPrivateFieldLooseBase(this,b)[b][babelHelpers.classPrivateFieldLooseBase(this,v)[v]];const c=(t=(a=o.titles)==null?void 0:a[n])!=null?t:s.Loc.getMessage("SIGN_WIZARD_FOOTER_BUTTON_BACK");const p=(l=(i=r.titles)==null?void 0:i[n])!=null?l:s.Loc.getMessage("SIGN_WIZARD_FOOTER_BUTTON_NEXT");return{backTitle:c,nextTitle:p}}function S(){const{back:e,next:t,complete:a,cancel:l}=babelHelpers.classPrivateFieldLooseBase(this,u)[u];const i=babelHelpers.classPrivateFieldLooseBase(this,v)[v]===0;const o=babelHelpers.classPrivateFieldLooseBase(this,v)[v]+1===babelHelpers.classPrivateFieldLooseBase(this,b)[b].length;s.Dom.removeClass(e,"--hide");s.Dom.removeClass(t,"--hide");s.Dom.addClass(a,"--hide");const{nextTitle:r,backTitle:n}=babelHelpers.classPrivateFieldLooseBase(this,f)[f](e,t);e.textContent=n;t.textContent=r;if(i){s.Dom.addClass(e,"--hide")}if(o){s.Dom.addClass(t,"--hide");s.Dom.removeClass(a,"--hide")}if(l){if(i){s.Dom.removeClass(l,"--hide")}else{s.Dom.addClass(l,"--hide")}}}function j(){babelHelpers.classPrivateFieldLooseBase(this,h)[h].forEach((e=>{s.Dom.removeClass(e,"--active")}));const e=babelHelpers.classPrivateFieldLooseBase(this,b)[b][babelHelpers.classPrivateFieldLooseBase(this,v)[v]];const t=babelHelpers.classPrivateFieldLooseBase(this,h)[h].get(e);s.Dom.addClass(t,"--active")}function K(){const e=babelHelpers.classPrivateFieldLooseBase(this,b)[b][babelHelpers.classPrivateFieldLooseBase(this,v)[v]];const t=babelHelpers.classPrivateFieldLooseBase(this,c)[c][e];const{content:a,events:l}=t!=null?t:{};if(!a){return}if(s.Type.isFunction(l==null?void 0:l.onBeforeRenderStep)){try{l.onBeforeRenderStep()}catch(e){console.error("Error onBeforeRenderStep",e)}}s.Dom.clean(babelHelpers.classPrivateFieldLooseBase(this,p)[p]);if(s.Type.isArrayFilled(a)){a.forEach((e=>s.Dom.append(e,babelHelpers.classPrivateFieldLooseBase(this,p)[p])))}else{s.Dom.append(a,babelHelpers.classPrivateFieldLooseBase(this,p)[p])}}e.Wizard=O})(this.BX.Ui=this.BX.Ui||{},BX);
//# sourceMappingURL=wizard.bundle.map.js