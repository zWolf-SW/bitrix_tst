{"version":3,"file":"navigationpanel.bundle.js","sources":["../src/item.js","../src/navigation.js"],"sourcesContent":["import { Dom, Tag, Type, Event } from 'main.core';\nimport { EventEmitter } from 'main.core.events';\nimport { Icon, Outline as OutlineIconSet } from 'ui.icon-set.api.core';\nimport { Menu, type MenuItemOptions } from 'main.popup';\n\nimport 'ui.icon-set.outline';\n\nexport type NavigationItemOptions = {\n\tid: string;\n\ttitle: string;\n\tevents?: Object;\n\tlink?: Object;\n\tlocked?: boolean;\n\tactive?: boolean;\n\tmenuItems?: MenuItemOptions[];\n}\nexport default class NavigationItem\n{\n\t#isDropdown = false;\n\t#menuItems: MenuItemOptions = [];\n\n\tconstructor({ id, title, active, events, link, locked, dropdown = false, menuItems = [] }: NavigationItemOptions)\n\t{\n\t\tthis.id = id ?? null;\n\t\tthis.title = Type.isString(title) ? title : null;\n\t\tthis.active = Type.isBoolean(active) ? active : false;\n\t\tthis.events = events ?? null;\n\t\tthis.link = link ?? null;\n\t\tthis.locked = Type.isBoolean(locked) ? locked : false;\n\t\tthis.#isDropdown = dropdown === true;\n\t\tthis.#menuItems = menuItems ?? [];\n\n\t\tthis.linkContainer = null;\n\n\t\tthis.bindEvents();\n\t}\n\n\tgetTitle(): string\n\t{\n\t\tif (!this.title)\n\t\t{\n\t\t\tthis.title = Tag.render`\n\t\t\t\t<div class=\"ui-nav-panel__item-title\">${this.title}</div>\t\n\t\t\t`;\n\t\t}\n\n\t\treturn this.title;\n\t}\n\n\tgetContainer(): HTMLElement | null\n\t{\n\t\tif (this.active === false && this.#isDropdown)\n\t\t{\n\t\t\treturn null;\n\t\t}\n\n\t\tif (!this.linkContainer)\n\t\t{\n\t\t\tconst id = this.id ? `id=\"ui-nav-panel-item-${this.id}\"` : '';\n\t\t\tthis.linkContainer = Tag.render`\n\t\t\t\t<div ${id} class=\"ui-nav-panel__item\">\n\t\t\t\t\t<span>${this.title ? this.getTitle() : ''}</span>\n\t\t\t\t\t${this.#isDropdown ? this.#renderDropdownIcon() : ''}\n\t\t\t\t</div>\n\t\t\t`;\n\n\t\t\tif (this.#isDropdown)\n\t\t\t{\n\t\t\t\tDom.addClass(this.linkContainer, '--dropdown');\n\t\t\t}\n\n\t\t\tthis.setEvents();\n\n\t\t\tif (this.active)\n\t\t\t{\n\t\t\t\tthis.activate();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.inactivate();\n\t\t\t}\n\n\t\t\tif (this.locked)\n\t\t\t{\n\t\t\t\tthis.lock();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.unLock();\n\t\t\t}\n\t\t}\n\n\t\treturn this.linkContainer;\n\t}\n\n\tbindEvents()\n\t{\n\t\tEventEmitter.subscribe('BX.UI.NavigationPanel.Item:active', (item) => {\n\t\t\tif (item.data !== this)\n\t\t\t{\n\t\t\t\tthis.inactivate();\n\t\t\t}\n\t\t});\n\t}\n\n\tisLocked(): boolean\n\t{\n\t\treturn this.locked;\n\t}\n\n\tlock()\n\t{\n\t\tthis.locked = true;\n\t\tDom.addClass(this.getContainer(), '--locked');\n\t}\n\n\tunLock()\n\t{\n\t\tthis.locked = false;\n\t\tDom.removeClass(this.getContainer(), '--locked');\n\t}\n\n\tsetEvents()\n\t{\n\t\tif (this.#isDropdown)\n\t\t{\n\t\t\tEvent.bind(this.linkContainer, 'click', () => {\n\t\t\t\tthis.#showMenu();\n\t\t\t});\n\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.link)\n\t\t{\n\t\t\tthis.linkContainer = Tag.render`\n\t\t\t\t<a class=\"ui-nav-panel__item\">\n\t\t\t\t\t<span>${this.title ? this.getTitle() : ''}</span>\n\t\t\t\t</a>\n\t\t\t`;\n\n\t\t\tObject.entries(this.link).forEach(([linkKey, linkValue]) => {\n\t\t\t\tthis.linkContainer.setAttribute(linkKey, linkValue);\n\t\t\t});\n\t\t}\n\n\t\tif (this.events)\n\t\t{\n\t\t\tObject.entries(this.events).forEach(([eventKey, eventHandler]) => {\n\t\t\t\tEvent.bind(this.getContainer(), eventKey, () => {\n\t\t\t\t\teventHandler();\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}\n\n\tactivate()\n\t{\n\t\tthis.active = true;\n\t\tif (this.#isDropdown === false)\n\t\t{\n\t\t\tDom.addClass(this.getContainer(), '--active');\n\t\t}\n\t\tEventEmitter.emit('BX.UI.NavigationPanel.Item:active', this);\n\t}\n\n\tinactivate()\n\t{\n\t\tthis.active = false;\n\n\t\tif (this.#isDropdown === false)\n\t\t{\n\t\t\tDom.removeClass(this.getContainer(), '--active');\n\t\t}\n\n\t\tEventEmitter.emit('BX.UI.NavigationPanel.Item:inactive', this);\n\t}\n\n\t#renderDropdownIcon(): HTMLElement\n\t{\n\t\tconst icon = (new Icon({\n\t\t\tsize: 16,\n\t\t\ticon: OutlineIconSet.CHEVRON_DOWN_L,\n\t\t})).render();\n\n\t\treturn Tag.render`\n\t\t\t<span class=\"ui-nav-panel__item-dropdown-icon ui-icon-set__scope\">${icon}</span>\n\t\t`;\n\t}\n\n\t#showMenu(): void\n\t{\n\t\tthis.#getMenu().show();\n\t}\n\n\t#getMenu(): Menu\n\t{\n\t\treturn new Menu({\n\t\t\titems: this.#menuItems,\n\t\t\tbindElement: this.getContainer(),\n\t\t\tcacheable: false,\n\t\t\tevents: {\n\t\t\t\tonPopupShow: () => {\n\t\t\t\t\tDom.addClass(this.linkContainer, '--active');\n\t\t\t\t},\n\t\t\t\tonPopupClose: () => {\n\t\t\t\t\tDom.removeClass(this.linkContainer, '--active');\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\t}\n}\n","import { Dom, Tag, Type, Extension } from 'main.core';\nimport { MenuItemOptions } from 'main.popup';\nimport NavigationItem from './item';\nimport { Icon, Outline as OutlineIconSet } from 'ui.icon-set.api.core';\nimport 'ui.icon-set.outline';\nimport 'ui.fonts.opensans';\nimport './style.css';\n\nexport type NavigationPanelOptions = {\n\ttarget: HTMLElement;\n\titems: Object[];\n\tcollapsed?: boolean;\n};\n\nexport default class NavigationPanel\n{\n\tkeys: string[];\n\t#isCollapsed: boolean = false;\n\n\tconstructor(options: NavigationPanelOptions)\n\t{\n\t\tthis.target = Type.isDomNode(options.target) ? options.target : null;\n\t\tthis.items = Type.isArray(options.items) ? options.items : [];\n\t\tthis.container = null;\n\t\tthis.keys = [];\n\t\tthis.#isCollapsed = options.collapsed === true;\n\t}\n\n\tadjustItem()\n\t{\n\t\tthis.items = this.items.map((item) => {\n\t\t\tthis.keys.push(item.id);\n\n\t\t\treturn new NavigationItem({\n\t\t\t\tid: item.id ?? null,\n\t\t\t\ttitle: item.title ?? null,\n\t\t\t\tactive: item.active === true,\n\t\t\t\tevents: item.events ?? null,\n\t\t\t\tlink: item.link ?? null,\n\t\t\t\tlocked: item.locked === true,\n\t\t\t\tdropdown: item.active === true && this.#isCollapsed,\n\t\t\t\tmenuItems: item.active === true && this.#isCollapsed ? this.#getMenuItems() : [],\n\t\t\t});\n\t\t});\n\t}\n\n\tgetItemById(value: string): ?NavigationItem\n\t{\n\t\tif (value)\n\t\t{\n\t\t\tconst id = this.keys.indexOf(value);\n\n\t\t\treturn this.items[id];\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tgetContainer(): HTMLElement\n\t{\n\t\tif (!this.container)\n\t\t{\n\t\t\tthis.container = Tag.render`\n\t\t\t\t<div class=\"ui-nav-panel ui-nav-panel__scope\"></div>\n\t\t\t`;\n\n\t\t\tif (this.hasAirDesign())\n\t\t\t{\n\t\t\t\tDom.addClass(this.container, '--air');\n\t\t\t}\n\n\t\t\tif (this.#isCollapsed)\n\t\t\t{\n\t\t\t\tDom.addClass(this.container, '--collapsed');\n\t\t\t}\n\t\t}\n\n\t\treturn this.container;\n\t}\n\n\trender()\n\t{\n\t\tthis.items.forEach((item) => {\n\t\t\tif (this.#isCollapsed && item.active === false)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (item instanceof NavigationItem)\n\t\t\t{\n\t\t\t\tDom.append(item.getContainer(), this.getContainer());\n\t\t\t}\n\t\t});\n\n\t\tDom.clean(this.target);\n\t\tDom.append(this.getContainer(), this.target);\n\t}\n\n\tinit()\n\t{\n\t\tthis.adjustItem();\n\t\tthis.render();\n\t}\n\n\thasAirDesign(): boolean\n\t{\n\t\treturn Extension.getSettings('ui.navigationpanel').get('useAirDesign');\n\t}\n\n\t#getMenuItems(): MenuItemOptions[]\n\t{\n\t\treturn this.items.map((item: NavigationItem): MenuItemOptions => {\n\t\t\tif (item.active)\n\t\t\t{\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tid: Math.random(),\n\t\t\t\ttext: item.title,\n\t\t\t\thref: item.link?.href,\n\t\t\t\thtml: this.#renderMenuItem(item),\n\t\t\t\tclassName: item.locked ? '--locked' : '',\n\t\t\t\tonclick: () => {\n\t\t\t\t\titem.events?.click();\n\t\t\t\t},\n\t\t\t};\n\t\t}).filter((item) => Boolean(item));\n\t}\n\n\t#renderMenuItem(item: Object): HTMLElement\n\t{\n\t\tconst airModifier = this.hasAirDesign() ? '--air' : '';\n\n\t\treturn Tag.render`\n\t\t\t<div class=\"ui-nav-panel__menu-item ${item.locked ? '--locked' : ''} ${airModifier}\">\n\t\t\t\t${item.locked ? this.#renderMenuItemLockedIcon() : ''}\n\t\t\t\t<span>${item.title}</span>\n\t\t\t</div>\n\t\t`;\n\t}\n\n\t#renderMenuItemLockedIcon(): HTMLElement\n\t{\n\t\tconst icon = (new Icon({\n\t\t\ticon: OutlineIconSet.LOCK_L,\n\t\t\tsize: 20,\n\t\t})).render();\n\n\t\treturn Tag.render`\n\t\t\t<span class=\"ui-nav-panel__menu-item-icon ui-icon-set__scope\">${icon}</span>\n\t\t`;\n\t}\n}\n"],"names":["NavigationItem","id","title","active","events","link","locked","dropdown","menuItems","Type","isString","isBoolean","linkContainer","bindEvents","Tag","render","getTitle","Dom","addClass","setEvents","activate","inactivate","lock","unLock","EventEmitter","subscribe","item","data","getContainer","removeClass","Event","bind","Object","entries","forEach","linkKey","linkValue","setAttribute","eventKey","eventHandler","emit","icon","Icon","size","OutlineIconSet","CHEVRON_DOWN_L","show","Menu","items","bindElement","cacheable","onPopupShow","onPopupClose","NavigationPanel","options","_classPrivateMethodInitSpec","_classPrivateFieldInitSpec","target","isDomNode","isArray","container","keys","collapsed","map","push","value","indexOf","hasAirDesign","append","clean","adjustItem","Extension","getSettings","get","Math","random","text","href","html","className","onclick","click","filter","Boolean","airModifier","LOCK_L"],"mappings":"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"}