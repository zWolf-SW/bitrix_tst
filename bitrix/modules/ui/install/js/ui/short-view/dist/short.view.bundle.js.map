{"version":3,"file":"short.view.bundle.js","sources":["../src/short.view.js"],"sourcesContent":["import { Dom, Type, Loc } from 'main.core';\nimport { EventEmitter } from 'main.core.events';\nimport { SplitButton, ButtonSize, ButtonColor } from 'ui.buttons';\nimport { SwitcherColor } from 'ui.switcher';\n\ntype Params = {\n\tisShortView: 'Y' | 'N'\n}\n\nexport class ShortView extends EventEmitter\n{\n\tconstructor(params: Params)\n\t{\n\t\tsuper(params);\n\n\t\tthis.setEventNamespace('BX.UI.ShortView');\n\n\t\tthis.setShortView(params.isShortView);\n\n\t\tthis.node = null;\n\t}\n\n\trenderTo(container: HTMLElement)\n\t{\n\t\tif (!Type.isDomNode(container))\n\t\t{\n\t\t\tthrow new Error('UI ShortView: HTMLElement not found');\n\t\t}\n\n\t\tDom.append(this.render(), container);\n\t}\n\n\trender(): HTMLElement\n\t{\n\t\tconst checked = (this.getShortView() === 'Y');\n\n\t\tthis.node = new SplitButton({\n\t\t\ttext: Loc.getMessage('UI_SHORT_VIEW_LABEL'),\n\t\t\tround: true,\n\t\t\tsize: ButtonSize.SMALL,\n\t\t\tcolor: ButtonColor.LIGHT_BORDER,\n\t\t\tclassName: 'ui-btn-themes',\n\t\t\tmainButton: {\n\t\t\t\tonclick: (button: SplitButton, event: MouseEvent) => {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tthis.node.getSwitcher().toggle();\n\t\t\t\t},\n\t\t\t},\n\t\t\tswitcher: {\n\t\t\t\tchecked,\n\t\t\t\tcolor: SwitcherColor.primary,\n\t\t\t\thandlers: {\n\t\t\t\t\ttoggled: () => this.onChange(),\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\n\t\treturn this.node.render();\n\t}\n\n\tsetShortView(value: string)\n\t{\n\t\tthis.shortView = (value === 'Y' ? 'Y' : 'N');\n\t}\n\n\tgetShortView(): 'Y' | 'N'\n\t{\n\t\treturn this.shortView;\n\t}\n\n\tonChange()\n\t{\n\t\tthis.setShortView(this.node.getSwitcher().isChecked() ? 'Y' : 'N');\n\n\t\tthis.emit('change', this.getShortView());\n\t}\n}\n"],"names":["ShortView","EventEmitter","constructor","params","setEventNamespace","setShortView","isShortView","node","renderTo","container","Type","isDomNode","Error","Dom","append","render","checked","getShortView","SplitButton","text","Loc","getMessage","round","size","ButtonSize","SMALL","color","ButtonColor","LIGHT_BORDER","className","mainButton","onclick","button","event","preventDefault","getSwitcher","toggle","switcher","SwitcherColor","primary","handlers","toggled","onChange","value","shortView","isChecked","emit"],"mappings":";;;;;;CASO,MAAMA,SAAS,SAASC,6BAAY,CAC3C;GACCC,WAAW,CAACC,MAAc,EAC1B;KACC,KAAK,CAACA,MAAM,CAAC;KAEb,IAAI,CAACC,iBAAiB,CAAC,iBAAiB,CAAC;KAEzC,IAAI,CAACC,YAAY,CAACF,MAAM,CAACG,WAAW,CAAC;KAErC,IAAI,CAACC,IAAI,GAAG,IAAI;;GAGjBC,QAAQ,CAACC,SAAsB,EAC/B;KACC,IAAI,CAACC,cAAI,CAACC,SAAS,CAACF,SAAS,CAAC,EAC9B;OACC,MAAM,IAAIG,KAAK,CAAC,qCAAqC,CAAC;;KAGvDC,aAAG,CAACC,MAAM,CAAC,IAAI,CAACC,MAAM,EAAE,EAAEN,SAAS,CAAC;;GAGrCM,MAAM,GACN;KACC,MAAMC,OAAO,GAAI,IAAI,CAACC,YAAY,EAAE,KAAK,GAAI;KAE7C,IAAI,CAACV,IAAI,GAAG,IAAIW,sBAAW,CAAC;OAC3BC,IAAI,EAAEC,aAAG,CAACC,UAAU,CAAC,qBAAqB,CAAC;OAC3CC,KAAK,EAAE,IAAI;OACXC,IAAI,EAAEC,qBAAU,CAACC,KAAK;OACtBC,KAAK,EAAEC,sBAAW,CAACC,YAAY;OAC/BC,SAAS,EAAE,eAAe;OAC1BC,UAAU,EAAE;SACXC,OAAO,EAAE,CAACC,MAAmB,EAAEC,KAAiB,KAAK;WACpDA,KAAK,CAACC,cAAc,EAAE;WACtB,IAAI,CAAC3B,IAAI,CAAC4B,WAAW,EAAE,CAACC,MAAM,EAAE;;QAEjC;OACDC,QAAQ,EAAE;SACTrB,OAAO;SACPU,KAAK,EAAEY,yBAAa,CAACC,OAAO;SAC5BC,QAAQ,EAAE;WACTC,OAAO,EAAE,MAAM,IAAI,CAACC,QAAQ;;;MAG9B,CAAC;KAEF,OAAO,IAAI,CAACnC,IAAI,CAACQ,MAAM,EAAE;;GAG1BV,YAAY,CAACsC,KAAa,EAC1B;KACC,IAAI,CAACC,SAAS,GAAID,KAAK,KAAK,GAAG,GAAG,GAAG,GAAG,GAAI;;GAG7C1B,YAAY,GACZ;KACC,OAAO,IAAI,CAAC2B,SAAS;;GAGtBF,QAAQ,GACR;KACC,IAAI,CAACrC,YAAY,CAAC,IAAI,CAACE,IAAI,CAAC4B,WAAW,EAAE,CAACU,SAAS,EAAE,GAAG,GAAG,GAAG,GAAG,CAAC;KAElE,IAAI,CAACC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC7B,YAAY,EAAE,CAAC;;CAE1C;;;;;;;;"}