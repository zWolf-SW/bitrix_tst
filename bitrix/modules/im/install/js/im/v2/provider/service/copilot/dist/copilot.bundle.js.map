{"version":3,"file":"copilot.bundle.js","sources":["../src/copilot.js"],"sourcesContent":["import { ChatType } from 'im.v2.const';\nimport { Analytics } from 'im.v2.lib.analytics';\nimport { ChatService } from 'im.v2.provider.service.chat';\n\nexport class CopilotService\n{\n\tasync createChat({ roleCode }: {roleCode: string}): Promise<string>\n\t{\n\t\tconst chatService = new ChatService();\n\t\tconst { newDialogId, newChatId } = await chatService.createChat({\n\t\t\ttype: ChatType.copilot,\n\t\t\tcopilotMainRole: roleCode,\n\t\t});\n\n\t\tthis.#sendAnalytics({ chatId: newChatId, dialogId: newDialogId });\n\n\t\tawait chatService.loadChatWithMessages(newDialogId);\n\n\t\treturn newDialogId;\n\t}\n\n\t#sendAnalytics({ chatId, dialogId })\n\t{\n\t\tAnalytics.getInstance().copilot.onCreateChat(chatId);\n\t\tAnalytics.getInstance().ignoreNextChatOpen(dialogId);\n\t}\n}\n"],"names":["CopilotService","createChat","roleCode","chatService","ChatService","newDialogId","newChatId","type","ChatType","copilot","copilotMainRole","chatId","dialogId","loadChatWithMessages","Analytics","getInstance","onCreateChat","ignoreNextChatOpen"],"mappings":";;;;;;;CAE0D;AAE1D,CAAO,MAAMA,cAAc,CAC3B;GAAA;KAAA;OAAA;;;GACC,MAAMC,UAAU,CAAC;KAAEC;IAA8B,EACjD;KACC,MAAMC,WAAW,GAAG,IAAIC,uCAAW,EAAE;KACrC,MAAM;OAAEC,WAAW;OAAEC;MAAW,GAAG,MAAMH,WAAW,CAACF,UAAU,CAAC;OAC/DM,IAAI,EAAEC,oBAAQ,CAACC,OAAO;OACtBC,eAAe,EAAER;MACjB,CAAC;KAEF,4CAAI,kCAAgB;OAAES,MAAM,EAAEL,SAAS;OAAEM,QAAQ,EAAEP;MAAa;KAEhE,MAAMF,WAAW,CAACU,oBAAoB,CAACR,WAAW,CAAC;KAEnD,OAAOA,WAAW;;CAQpB;CAAC,yBALe;GAAEM,MAAM;GAAEC;CAAS,CAAC,EACnC;GACCE,6BAAS,CAACC,WAAW,EAAE,CAACN,OAAO,CAACO,YAAY,CAACL,MAAM,CAAC;GACpDG,6BAAS,CAACC,WAAW,EAAE,CAACE,kBAAkB,CAACL,QAAQ,CAAC;CACrD;;;;;;;;"}