{"version":3,"file":"recent.bundle.map.js","names":["this","BX","Messenger","v2","exports","im_v2_lib_logger","im_v2_lib_copilot","im_v2_lib_layout","main_core","im_v2_application_core","im_v2_const","_restResult","babelHelpers","classPrivateFieldLooseKey","_withBirthdays","_users","_chats","_messages","_files","_recentItems","_extractUser","_extractChat","_extractMessage","_extractRecentItem","_extractBirthdayItems","_prepareGroupChat","_prepareChatForUser","_prepareChatForAdditionalUser","_getBirthdayPlaceholder","_mergeFileIds","RecentDataExtractor","constructor","params","Object","defineProperty","value","_mergeFileIds2","_getBirthdayPlaceholder2","_prepareChatForAdditionalUser2","_prepareChatForUser2","_prepareGroupChat2","_extractBirthdayItems2","_extractRecentItem2","_extractMessage2","_extractChat2","_extractUser2","writable","rawData","withBirthdays","classPrivateFieldLooseBase","getItems","items","copilot","messagesAutoDeleteConfigs","forEach","item","users","values","chats","messages","files","recentItems","_item$user","user","id","type","ChatType","chat","existingRecentItem","Core","getStore","getters","options","default_user_record","message","FakeMessagePrefix","viewedByOthers","status","MessageStatus","delivered","existingMessage","Type","isArrayFilled","attach","isPlainObject","file","existingFile","_item$message$id","_item$message","messageId","birthdayList","counter","dialogId","chatId","chat_id","avatar","color","name","role","UserRole","member","backgroundId","background_id","textFieldEnabled","text_field_enabled","isBirthdayPlaceholder","fileId","existingMessageFilesIds","map","Number","parseInt","setOfFileIds","Set","RecentService","dataIsPreloaded","firstPageIsLoaded","itemsPerPage","isLoading","pagesLoaded","hasMoreItemsToLoad","lastMessageDate","getInstance","instance","getCollection","loadFirstPage","ignorePreloadedItems","Logger","warn","Promise","resolve","result","requestItems","firstPage","loadNextPage","setPreloadedData","hasMore","getLastMessageDate","updateModels","hideChat","recentItem","dispatch","chatIsOpened","LayoutManager","clearCurrentLayoutEntityId","deleteLastOpenedElementById","getRestClient","callMethod","RestMethod","imRecentHide","DIALOG_ID","catch","console","error","queryParams","getQueryParams","getQueryMethod","errorResult","data","imRecentList","SKIP_OPENLINES","LIMIT","LAST_MESSAGE_DATE","GET_ORIGINAL_TEXT","PARSE_TEXT","getModelSaveMethod","extractor","getExtractorOptions","extractedItems","usersPromise","dialoguesPromise","autoDeletePromise","messagesPromise","filesPromise","recentPromise","copilotManager","CopilotManager","copilotPromise","handleRecentListResponse","all","length","slice","date","Service","Lib","Application","Const"],"sources":["recent.bundle.js"],"mappings":"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","ignoreList":[]}