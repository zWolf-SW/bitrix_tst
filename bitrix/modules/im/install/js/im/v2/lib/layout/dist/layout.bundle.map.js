{"version":3,"file":"layout.bundle.map.js","names":["this","BX","Messenger","v2","exports","main_core","main_core_events","im_v2_application_core","im_v2_lib_analytics","im_v2_lib_localStorage","im_v2_const","im_v2_lib_logger","im_v2_lib_channel","im_v2_lib_access","im_v2_lib_feature","im_v2_lib_bulkActions","TypesWithoutContext","Set","ChatType","comment","LayoutsWithoutLastOpenedElement","Layout","channel","name","market","_instance","babelHelpers","classPrivateFieldLooseKey","_lastOpenedElement","_onGoToMessageContext","_onDesktopReload","_sendAnalytics","_isSameChat","_handleLayoutChange","_handleChatChange","_handleSameChatReopen","_clearBulkActionsCollection","_closeChannelComments","_handleContextAccess","_getChat","LayoutManager","getInstance","classPrivateFieldLooseBase","init","constructor","Object","defineProperty","value","_getChat2","_handleContextAccess2","_closeChannelComments2","_clearBulkActionsCollection2","_handleSameChatReopen2","_handleChatChange2","_handleLayoutChange2","_isSameChat2","_sendAnalytics2","_onDesktopReload2","_onGoToMessageContext2","writable","EventEmitter","subscribe","EventType","dialog","goToMessageContext","bind","desktop","onReload","setLayout","config","contextId","hasAccess","Promise","resolve","entityId","setLastOpenedElement","Core","getStore","dispatch","getLayout","getters","saveCurrentLayout","currentLayout","LocalStorageManager","set","LocalStorageKey","layoutConfig","prepareInitialLayout","get","chat","Logger","warn","remove","getLastOpenedElement","layoutName","_babelHelpers$classPr","has","clearCurrentLayoutEntityId","currentLayoutName","deleteLastOpenedElement","isChatContextAvailable","dialogId","type","destroy","unsubscribe","deleteLastOpenedElementById","entries","forEach","lastOpenedId","isEmbeddedMode","isAirDesignEnabled","isQuickAccessHidden","settings","Extension","getSettings","async","event","messageId","getData","copilot","Analytics","onOpenTab","sameLayout","sameEntityId","CHAT_LAYOUTS","openlines","openlinesV2","collab","emit","BulkActionsManager","clearCollection","isChannelOpened","ChannelManager","isChannel","closeComments","errorCode","AccessManager","checkMessageAccess","ErrorCode","message","accessDeniedByTariff","historyLimit","onGoToContextLimitExceeded","FeatureManager","chatHistory","openFeatureSlider","Lib","Event","Application","Const"],"sources":["layout.bundle.js"],"mappings":"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","ignoreList":[]}