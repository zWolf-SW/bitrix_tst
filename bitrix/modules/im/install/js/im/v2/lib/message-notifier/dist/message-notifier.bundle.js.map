{"version":3,"file":"message-notifier.bundle.js","sources":["../src/message-notifier.js"],"sourcesContent":["import { Notifier, NotificationOptions } from 'ui.notification-manager';\nimport { Store } from 'ui.vue3.vuex';\nimport { Loc } from 'main.core';\nimport { BaseEvent } from 'main.core.events';\n\nimport { Core } from 'im.v2.application.core';\nimport { Parser } from 'im.v2.lib.parser';\nimport { DesktopManager, DesktopBroadcastManager } from 'im.v2.lib.desktop';\nimport { DesktopApi, DesktopFeature } from 'im.v2.lib.desktop-api';\nimport { Messenger } from 'im.public';\nimport { NotificationTypesCodes, ChatType, DesktopBroadcastAction, WINDOW_ACTIVATION_DELAY } from 'im.v2.const';\nimport { NotificationService } from 'im.v2.provider.service.notification';\n\nimport type {\n\tImModelUser,\n\tImModelChat,\n\tImModelMessage,\n\tImModelNotification,\n\tImModelNotificationButton,\n} from 'im.v2.model';\n\nexport type NotifierClickParams = {\n\tid: string // 'im-notify-2558' | 'im-chat-1-2565'\n};\n\ntype NotifierActionParams = {\n\taction: string, // 'button_1'\n\tid: string, // 'im-notify-2561'\n\tuserInput?: string\n};\n\nconst CHAT_MESSAGE_PREFIX = 'im-chat';\nconst COPILOT_MESSAGE_PREFIX = 'im-copilot';\nconst LINES_MESSAGE_PREFIX = 'im-lines';\nconst NOTIFICATION_PREFIX = 'im-notify';\nconst ACTION_BUTTON_PREFIX = 'button_';\nconst ButtonNumber = {\n\tfirst: '1',\n\tsecond: '2',\n};\n\nexport class MessageNotifierManager\n{\n\tstatic #instance: MessageNotifierManager;\n\n\t#store: Store;\n\t#notificationService: NotificationService;\n\n\tstatic getInstance(): MessageNotifierManager\n\t{\n\t\tif (!this.#instance)\n\t\t{\n\t\t\tthis.#instance = new this();\n\t\t}\n\n\t\treturn this.#instance;\n\t}\n\n\tstatic init()\n\t{\n\t\tMessageNotifierManager.getInstance();\n\t}\n\n\tconstructor()\n\t{\n\t\tthis.#store = Core.getStore();\n\t\tthis.#notificationService = new NotificationService();\n\n\t\tthis.#subscribeToNotifierEvents();\n\t}\n\n\tshowMessage(params: {message: ImModelMessage, dialog: ImModelChat, user?: ImModelUser, lines: boolean})\n\t{\n\t\tconst { message, dialog, user, lines } = params;\n\t\tlet text = '';\n\t\tif (user && dialog.type !== ChatType.user)\n\t\t{\n\t\t\ttext += `${user.name}: `;\n\t\t}\n\n\t\ttext += Parser.purifyMessage(message);\n\n\t\tlet id = `${CHAT_MESSAGE_PREFIX}-${dialog.dialogId}-${message.id}`;\n\n\t\tif (lines)\n\t\t{\n\t\t\tid = `${LINES_MESSAGE_PREFIX}-${dialog.dialogId}-${message.id}`;\n\t\t}\n\t\tconst notificationOptions = {\n\t\t\tid,\n\t\t\ttitle: dialog.name,\n\t\t\ticon: dialog.avatar || user?.avatar,\n\t\t\ttext,\n\t\t};\n\n\t\tconst isDesktopFocused: boolean = DesktopManager.isChatWindow() && document.hasFocus();\n\t\tif (isDesktopFocused)\n\t\t{\n\t\t\tNotifier.notifyViaBrowserProvider(notificationOptions);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tNotifier.notify(notificationOptions);\n\t\t}\n\t}\n\n\tshowNotification(notification: ImModelNotification, user?: ImModelUser)\n\t{\n\t\tlet title = Loc.getMessage('IM_LIB_NOTIFIER_NOTIFY_SYSTEM_TITLE');\n\t\tif (notification.title)\n\t\t{\n\t\t\ttitle = notification.title;\n\t\t}\n\t\telse if (user)\n\t\t{\n\t\t\ttitle = user.name;\n\t\t}\n\n\t\tconst notificationOptions = this.#prepareNotificationOptions(title, notification, user);\n\n\t\tconst isDesktopFocused: boolean = DesktopManager.isChatWindow() && document.hasFocus();\n\t\tif (isDesktopFocused)\n\t\t{\n\t\t\tNotifier.notifyViaBrowserProvider(notificationOptions);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tNotifier.notify(notificationOptions);\n\t\t}\n\t}\n\n\tonNotifierClick(params: NotifierClickParams)\n\t{\n\t\tconst { id } = params;\n\t\tif (this.#isChatMessage(id))\n\t\t{\n\t\t\tconst dialogId = this.#extractDialogId(id);\n\t\t\tvoid Messenger.openChat(dialogId);\n\t\t}\n\t\telse if (this.#isCopilotMessage(id))\n\t\t{\n\t\t\tconst dialogId = this.#extractDialogId(id);\n\t\t\tvoid Messenger.openCopilot(dialogId);\n\t\t}\n\t\telse if (this.#isLinesMessage(id))\n\t\t{\n\t\t\tconst dialogId = this.#extractDialogId(id);\n\t\t\tvoid Messenger.openLines(dialogId);\n\t\t}\n\t\telse if (this.#isNotification(id))\n\t\t{\n\t\t\tvoid Messenger.openNotifications();\n\t\t}\n\t}\n\n\t#prepareNotificationOptions(\n\t\ttitle: string,\n\t\tnotification: ImModelNotification,\n\t\tuser?: ImModelUser,\n\t): NotificationOptions\n\t{\n\t\tconst notificationOptions = {\n\t\t\tid: `${NOTIFICATION_PREFIX}-${notification.id}`,\n\t\t\ttitle,\n\t\t\ticon: user ? user.avatar : '',\n\t\t\ttext: Parser.purifyNotification(notification),\n\t\t};\n\n\t\tif (notification.sectionCode === NotificationTypesCodes.confirm)\n\t\t{\n\t\t\tconst [firstButton, secondButton] = notification.notifyButtons;\n\t\t\tnotificationOptions.button1Text = firstButton.TEXT;\n\t\t\tnotificationOptions.button2Text = secondButton.TEXT;\n\t\t}\n\t\telse if (notification.params?.canAnswer === 'Y')\n\t\t{\n\t\t\tnotificationOptions.inputPlaceholderText = Loc.getMessage('IM_LIB_NOTIFIER_NOTIFY_REPLY_PLACEHOLDER');\n\t\t}\n\n\t\treturn notificationOptions;\n\t}\n\n\t#subscribeToNotifierEvents()\n\t{\n\t\tNotifier.subscribe('click', async (event: BaseEvent<NotifierClickParams>) => {\n\t\t\tif (!DesktopApi.isAirDesignEnabledInDesktop())\n\t\t\t{\n\t\t\t\tDesktopApi.activateWindow();\n\n\t\t\t\tthis.onNotifierClick(event.getData());\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tDesktopApi.showBrowserWindow();\n\n\t\t\tif (DesktopApi.isFeatureSupported(DesktopFeature.portalTabActivation.id))\n\t\t\t{\n\t\t\t\tawait DesktopApi.handlePortalTabActivation();\n\t\t\t}\n\n\t\t\t// delay is needed because desktop window activation takes some time\n\t\t\t// to complete and method is not async by its nature\n\t\t\tsetTimeout(() => {\n\t\t\t\tDesktopBroadcastManager.getInstance().sendActionMessage({\n\t\t\t\t\taction: DesktopBroadcastAction.notification,\n\t\t\t\t\tparams: event.getData(),\n\t\t\t\t});\n\t\t\t}, WINDOW_ACTIVATION_DELAY);\n\t\t});\n\n\t\tNotifier.subscribe('action', (event: BaseEvent<NotifierActionParams>) => {\n\t\t\tthis.#onNotifierAction(event.getData());\n\t\t});\n\t}\n\n\t#onNotifierAction(params: NotifierActionParams)\n\t{\n\t\tconst { id, action, userInput } = params;\n\t\tif (!this.#isNotification(id))\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tconst notificationId = this.#extractNotificationId(id);\n\t\tconst notification = this.#store.getters['notifications/getById'](notificationId);\n\t\tif (userInput)\n\t\t{\n\t\t\tthis.#onNotifierQuickAnswer(notification, userInput);\n\t\t}\n\t\telse if (this.#isConfirmButtonAction(action, notification))\n\t\t{\n\t\t\tthis.#onNotifierButtonClick(action, notification);\n\t\t}\n\t}\n\n\t#onNotifierQuickAnswer(notification: ImModelNotification, text: string)\n\t{\n\t\tthis.#notificationService.sendQuickAnswer({\n\t\t\tid: notification.id,\n\t\t\ttext,\n\t\t});\n\t}\n\n\t#onNotifierButtonClick(action: string, notification: ImModelNotification)\n\t{\n\t\tconst [firstButton, secondButton] = notification.notifyButtons;\n\t\tconst actionButtonNumber = this.#extractButtonNumber(action);\n\t\tif (actionButtonNumber === ButtonNumber.first)\n\t\t{\n\t\t\tthis.#sendButtonAction(notification, firstButton);\n\t\t}\n\t\telse if (actionButtonNumber === ButtonNumber.second)\n\t\t{\n\t\t\tthis.#sendButtonAction(notification, secondButton);\n\t\t}\n\t}\n\n\t#sendButtonAction(notification: ImModelNotification, button: ImModelNotificationButton)\n\t{\n\t\tconst [notificationId, value] = this.#extractButtonParams(button);\n\n\t\tthis.#notificationService.sendConfirmAction(notificationId, value);\n\t}\n\n\t#isChatMessage(id: string): boolean\n\t{\n\t\treturn id.startsWith(CHAT_MESSAGE_PREFIX);\n\t}\n\n\t#isCopilotMessage(id: string): boolean\n\t{\n\t\treturn id.startsWith(COPILOT_MESSAGE_PREFIX);\n\t}\n\n\t#isLinesMessage(id: string): boolean\n\t{\n\t\treturn id.startsWith(LINES_MESSAGE_PREFIX);\n\t}\n\n\t#isNotification(id: string): boolean\n\t{\n\t\treturn id.startsWith(NOTIFICATION_PREFIX);\n\t}\n\n\t#isConfirmButtonAction(action: string, notification: ImModelNotification): boolean\n\t{\n\t\tconst notificationType = notification.sectionCode;\n\n\t\treturn action.startsWith(ACTION_BUTTON_PREFIX) && notificationType === NotificationTypesCodes.confirm;\n\t}\n\n\t#extractDialogId(id: string): string\n\t{\n\t\t// 'im-chat-1-2565'\n\t\treturn id.split('-')[2];\n\t}\n\n\t#extractNotificationId(id: string): string\n\t{\n\t\t// 'im-notify-2558'\n\t\treturn id.split('-')[2];\n\t}\n\n\t#extractButtonNumber(action: string): string\n\t{\n\t\t// 'button_1'\n\t\treturn action.split('_')[1];\n\t}\n\n\t#extractButtonParams(button: ImModelNotificationButton): string[]\n\t{\n\t\t// '2568|Y'\n\t\treturn button.COMMAND_PARAMS.split('|');\n\t}\n}\n"],"names":["CHAT_MESSAGE_PREFIX","COPILOT_MESSAGE_PREFIX","LINES_MESSAGE_PREFIX","NOTIFICATION_PREFIX","ACTION_BUTTON_PREFIX","ButtonNumber","first","second","MessageNotifierManager","getInstance","init","constructor","Core","getStore","NotificationService","showMessage","params","message","dialog","user","lines","text","type","ChatType","name","Parser","purifyMessage","id","dialogId","notificationOptions","title","icon","avatar","isDesktopFocused","DesktopManager","isChatWindow","document","hasFocus","Notifier","notifyViaBrowserProvider","notify","showNotification","notification","Loc","getMessage","onNotifierClick","Messenger","openChat","openCopilot","openLines","openNotifications","purifyNotification","sectionCode","NotificationTypesCodes","confirm","firstButton","secondButton","notifyButtons","button1Text","TEXT","button2Text","canAnswer","inputPlaceholderText","subscribe","event","DesktopApi","isAirDesignEnabledInDesktop","activateWindow","getData","showBrowserWindow","isFeatureSupported","DesktopFeature","portalTabActivation","handlePortalTabActivation","setTimeout","DesktopBroadcastManager","sendActionMessage","action","DesktopBroadcastAction","WINDOW_ACTIVATION_DELAY","userInput","notificationId","getters","sendQuickAnswer","actionButtonNumber","button","value","sendConfirmAction","startsWith","notificationType","split","COMMAND_PARAMS"],"mappings":"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"}