{"version":3,"file":"smile-manager.bundle.map.js","names":["this","BX","Messenger","v2","exports","main_core","ui_dexie","im_v2_const","im_v2_application_core","rest_client","im_v2_lib_localStorage","sets","join","smiles","CACHE_VERSION","_instance","babelHelpers","classPrivateFieldLooseKey","_smileList","_db","_restClient","_localStorageManager","_lastUpdateTime","_recentEmoji","_fetchDataFromServer","_fetchDataFromStorage","_fillStorage","_shouldRequestFromServer","_loadRecentEmoji","SmileManager","getInstance","_babelHelpers$classPr","classPrivateFieldLooseBase","init","initSmileList","constructor","Object","defineProperty","value","_loadRecentEmoji2","_shouldRequestFromServer2","_fillStorage2","_fetchDataFromStorage2","_fetchDataFromServer2","writable","Dexie","version","stores","recentEmoji","Core","getRestClient","LocalStorageManager","lastUpdate","Extension","getSettings","Date","parse","Set","shouldRequestFromServer","set","LocalStorageKey","smileLastUpdateTime","err","console","error","remove","updateSelectedSet","selectedSetId","setsDB","toCollection","modify","selected","id","map","updateRecentEmoji","symbols","put","smileList","async","result","callMethod","RestMethod","imSmilesGet","FULL_TYPINGS","data","forEach","smile","list","typing","split","alternative","code","push","length","setList","firstSmileInSet","find","setId","image","setsTbl","smilesTbl","transaction","Promise","all","toArray","setsToSave","clear","bulkAdd","lastUpdateTimeFromStorage","get","_storageData$symbols","storageData","Lib","DexieExport","Const","Application"],"sources":["smile-manager.bundle.js"],"mappings":"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","ignoreList":[]}