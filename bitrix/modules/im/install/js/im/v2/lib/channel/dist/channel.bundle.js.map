{"version":3,"file":"channel.bundle.js","sources":["../src/channel.js"],"sourcesContent":["import { Core } from 'im.v2.application.core';\nimport { ChatType } from 'im.v2.const';\n\nimport type { ImModelChat, ImModelMessage } from 'im.v2.model';\n\nexport const ChannelManager = {\n\tchannelTypes: new Set([ChatType.generalChannel, ChatType.channel, ChatType.openChannel]),\n\n\tisChannel(dialogId: string): boolean\n\t{\n\t\tconst { type }: ImModelChat = Core.getStore().getters['chats/get'](dialogId, true);\n\n\t\treturn ChannelManager.channelTypes.has(type);\n\t},\n\n\tgetChannelTypes(): Array<$Values<typeof ChatType>>\n\t{\n\t\treturn [...ChannelManager.channelTypes];\n\t},\n\n\tisCommentsPostMessage(message: ImModelMessage, dialogId: string): boolean\n\t{\n\t\tconst { type: contextChatType }: ImModelChat = Core.getStore().getters['chats/get'](dialogId, true);\n\t\tif (contextChatType !== ChatType.comment)\n\t\t{\n\t\t\treturn false;\n\t\t}\n\n\t\tconst { dialogId: messageDialogId }: ImModelChat = Core.getStore().getters['chats/getByChatId'](message.chatId, true);\n\n\t\treturn messageDialogId !== dialogId;\n\t},\n};\n"],"names":["ChannelManager","channelTypes","Set","ChatType","generalChannel","channel","openChannel","isChannel","dialogId","type","Core","getStore","getters","has","getChannelTypes","isCommentsPostMessage","message","contextChatType","comment","messageDialogId","chatId"],"mappings":";;;;;;;OAKaA,cAAc,GAAG;GAC7BC,YAAY,EAAE,IAAIC,GAAG,CAAC,CAACC,oBAAQ,CAACC,cAAc,EAAED,oBAAQ,CAACE,OAAO,EAAEF,oBAAQ,CAACG,WAAW,CAAC,CAAC;GAExFC,SAAS,CAACC,QAAgB,EAC1B;KACC,MAAM;OAAEC;MAAmB,GAAGC,2BAAI,CAACC,QAAQ,EAAE,CAACC,OAAO,CAAC,WAAW,CAAC,CAACJ,QAAQ,EAAE,IAAI,CAAC;KAElF,OAAOR,cAAc,CAACC,YAAY,CAACY,GAAG,CAACJ,IAAI,CAAC;IAC5C;GAEDK,eAAe,GACf;KACC,OAAO,CAAC,GAAGd,cAAc,CAACC,YAAY,CAAC;IACvC;GAEDc,qBAAqB,CAACC,OAAuB,EAAER,QAAgB,EAC/D;KACC,MAAM;OAAEC,IAAI,EAAEQ;MAA8B,GAAGP,2BAAI,CAACC,QAAQ,EAAE,CAACC,OAAO,CAAC,WAAW,CAAC,CAACJ,QAAQ,EAAE,IAAI,CAAC;KACnG,IAAIS,eAAe,KAAKd,oBAAQ,CAACe,OAAO,EACxC;OACC,OAAO,KAAK;;KAGb,MAAM;OAAEV,QAAQ,EAAEW;MAA8B,GAAGT,2BAAI,CAACC,QAAQ,EAAE,CAACC,OAAO,CAAC,mBAAmB,CAAC,CAACI,OAAO,CAACI,MAAM,EAAE,IAAI,CAAC;KAErH,OAAOD,eAAe,KAAKX,QAAQ;;CAErC,CAAC;;;;;;;;"}