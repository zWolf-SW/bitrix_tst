{"version":3,"file":"message-notifier.bundle.map.js","names":["this","BX","Messenger","v2","exports","ui_notificationManager","ui_vue3_vuex","main_core","main_core_events","im_v2_application_core","im_v2_lib_parser","im_v2_lib_desktop","im_v2_lib_desktopApi","im_public","im_v2_const","im_v2_provider_service_notification","CHAT_MESSAGE_PREFIX","COPILOT_MESSAGE_PREFIX","LINES_MESSAGE_PREFIX","NOTIFICATION_PREFIX","ACTION_BUTTON_PREFIX","ButtonNumber","first","second","_instance","babelHelpers","classPrivateFieldLooseKey","_store","_notificationService","_prepareNotificationOptions","_subscribeToNotifierEvents","_onNotifierAction","_onNotifierQuickAnswer","_onNotifierButtonClick","_sendButtonAction","_isChatMessage","_isCopilotMessage","_isLinesMessage","_isNotification","_isConfirmButtonAction","_extractDialogId","_extractNotificationId","_extractButtonNumber","_extractButtonParams","MessageNotifierManager","getInstance","classPrivateFieldLooseBase","init","constructor","Object","defineProperty","value","_extractButtonParams2","_extractButtonNumber2","_extractNotificationId2","_extractDialogId2","_isConfirmButtonAction2","_isNotification2","_isLinesMessage2","_isCopilotMessage2","_isChatMessage2","_sendButtonAction2","_onNotifierButtonClick2","_onNotifierQuickAnswer2","_onNotifierAction2","_subscribeToNotifierEvents2","_prepareNotificationOptions2","writable","Core","getStore","NotificationService","showMessage","params","message","dialog","user","lines","text","type","ChatType","name","Parser","purifyMessage","id","dialogId","notificationOptions","title","icon","avatar","isDesktopFocused","DesktopManager","isChatWindow","document","hasFocus","Notifier","notifyViaBrowserProvider","notify","showNotification","notification","Loc","getMessage","onNotifierClick","openChat","openCopilot","openLines","openNotifications","_notification$params","purifyNotification","sectionCode","NotificationTypesCodes","confirm","firstButton","secondButton","notifyButtons","button1Text","TEXT","button2Text","canAnswer","inputPlaceholderText","subscribe","async","DesktopApi","isAirDesignEnabledInDesktop","activateWindow","event","getData","showBrowserWindow","isFeatureSupported","DesktopFeature","portalTabActivation","handlePortalTabActivation","setTimeout","DesktopBroadcastManager","sendActionMessage","action","DesktopBroadcastAction","WINDOW_ACTIVATION_DELAY","userInput","notificationId","getters","sendQuickAnswer","actionButtonNumber","button","sendConfirmAction","startsWith","notificationType","split","COMMAND_PARAMS","Lib","UI","NotificationManager","Vue3","Vuex","Event","Application","Const","Service"],"sources":["message-notifier.bundle.js"],"mappings":"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","ignoreList":[]}