this.BX=this.BX||{};this.BX.Messenger=this.BX.Messenger||{};this.BX.Messenger.v2=this.BX.Messenger.v2||{};(function(e,s,t,a,r){"use strict";const i="BX.Messenger.v2.CreateChatManager";var l=babelHelpers.classPrivateFieldLooseKey("instance");var n=babelHelpers.classPrivateFieldLooseKey("isCreating");var o=babelHelpers.classPrivateFieldLooseKey("chatType");var b=babelHelpers.classPrivateFieldLooseKey("chatTitle");var h=babelHelpers.classPrivateFieldLooseKey("chatAvatarFile");var v=babelHelpers.classPrivateFieldLooseKey("chatFields");var c=babelHelpers.classPrivateFieldLooseKey("preselectedMembers");var d=babelHelpers.classPrivateFieldLooseKey("includeCurrentUser");var u=babelHelpers.classPrivateFieldLooseKey("ownerId");class p extends s.EventEmitter{static getInstance(){if(!babelHelpers.classPrivateFieldLooseBase(this,l)[l]){babelHelpers.classPrivateFieldLooseBase(this,l)[l]=new this}return babelHelpers.classPrivateFieldLooseBase(this,l)[l]}constructor(e){super(e);Object.defineProperty(this,n,{writable:true,value:false});Object.defineProperty(this,o,{writable:true,value:a.ChatType.chat});Object.defineProperty(this,b,{writable:true,value:""});Object.defineProperty(this,h,{writable:true,value:null});Object.defineProperty(this,v,{writable:true,value:void 0});Object.defineProperty(this,c,{writable:true,value:[]});Object.defineProperty(this,d,{writable:true,value:true});Object.defineProperty(this,u,{writable:true,value:void 0});this.setEventNamespace(i)}startChatCreation(e,s={}){const{clearCurrentCreation:r=true}=s;if(r){this.setCreationStatus(false)}void t.LayoutManager.getInstance().setLayout({name:a.Layout.createChat.name,entityId:e})}isCreating(){return babelHelpers.classPrivateFieldLooseBase(this,n)[n]}getChatType(){return babelHelpers.classPrivateFieldLooseBase(this,o)[o]}getChatTitle(){return babelHelpers.classPrivateFieldLooseBase(this,b)[b]}getChatAvatar(){return babelHelpers.classPrivateFieldLooseBase(this,h)[h]}setChatType(e){babelHelpers.classPrivateFieldLooseBase(this,o)[o]=e;this.emit(p.events.chatTypeChange,e)}setCreationStatus(e){babelHelpers.classPrivateFieldLooseBase(this,n)[n]=e;this.clearFields();this.emit(p.events.creationStatusChange,e)}setChatTitle(e){babelHelpers.classPrivateFieldLooseBase(this,b)[b]=e;this.emit(p.events.titleChange,e)}setChatAvatar(e){babelHelpers.classPrivateFieldLooseBase(this,h)[h]=e;this.emit(p.events.avatarChange,e)}saveFields(e){babelHelpers.classPrivateFieldLooseBase(this,v)[v]=e}getFields(){return babelHelpers.classPrivateFieldLooseBase(this,v)[v]}clearFields(){babelHelpers.classPrivateFieldLooseBase(this,v)[v]=null;this.setChatTitle("");this.setChatAvatar(null)}setPreselectedMembers(e){babelHelpers.classPrivateFieldLooseBase(this,c)[c]=e}getChatMembers(){const e=babelHelpers.classPrivateFieldLooseBase(this,c)[c].map((e=>[e.type,e.id]));if(babelHelpers.classPrivateFieldLooseBase(this,d)[d]){e.push(["user",r.Core.getUserId()])}return e}setIncludeCurrentUser(e){babelHelpers.classPrivateFieldLooseBase(this,d)[d]=e}setOwnerId(e){babelHelpers.classPrivateFieldLooseBase(this,u)[u]=e}getOwnerId(){var e;return(e=babelHelpers.classPrivateFieldLooseBase(this,u)[u])!=null?e:r.Core.getUserId()}getUndeselectedItems(){if(babelHelpers.classPrivateFieldLooseBase(this,d)[d]){return[["user",r.Core.getUserId()]]}return[]}clearExternalFields(){this.setOwnerId(null);this.setIncludeCurrentUser(true);this.setPreselectedMembers([])}}p.events={creationStatusChange:"creationStatusChange",titleChange:"titleChange",avatarChange:"avatarChange",chatTypeChange:"chatTypeChange"};Object.defineProperty(p,l,{writable:true,value:void 0});e.CreateChatManager=p})(this.BX.Messenger.v2.Lib=this.BX.Messenger.v2.Lib||{},BX.Event,BX.Messenger.v2.Lib,BX.Messenger.v2.Const,BX.Messenger.v2.Application);
//# sourceMappingURL=create-chat.bundle.map.js