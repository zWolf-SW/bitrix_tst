{"version":3,"file":"search.bundle.map.js","names":["this","BX","Messenger","v2","exports","main_core","im_v2_lib_user","ui_vue3_vuex","im_v2_application_core","im_v2_const","im_v2_lib_utils","EntityId","ContextId","SearchDialogId","getSearchConfig","searchConfig","entity","id","dynamicLoad","dynamicSearch","options","prepareConfigOptions","dialog","entities","preselectedItems","clearUnavailableItems","context","withChatByUsers","exclude","Type","isBoolean","chats","push","users","_store","babelHelpers","classPrivateFieldLooseKey","_userManager","_prepareDataForModels","StoreUpdater","constructor","Object","defineProperty","value","_prepareDataForModels2","writable","classPrivateFieldLooseBase","Core","getStore","UserManager","update","items","Promise","all","setUsersToModel","dispatch","result","forEach","item","chatData","customData","chat","entityType","SearchEntityIdTypes","imUser","user","isUser","Boolean","userData","getDialogForUser","dialogId","getRecentItemDate","message","getters","date","toISOString","getRecentListItems","withFakeUsers","recent","filter","isFakeElement","isBirthdayPlaceholder","map","dateMessage","collator","Intl","Collator","undefined","sensitivity","_searchConfig","_store$1","_search","_getRecentListItems","_prepareRecentItem","_searchByQueryWords","_searchByDialogFields","_searchByUserFields","_doesItemMatchQuery","_getLocalItems","_getLocalItemsFromDialogIds","_mergeItems","_filterByConfig","LocalSearch","_filterByConfig2","_mergeItems2","_getLocalItemsFromDialogIds2","_getLocalItems2","_doesItemMatchQuery2","_searchByUserFields2","_searchByDialogFields2","_searchByQueryWords2","_prepareRecentItem2","_getRecentListItems2","_search2","search","query","localCollection","localItems","queryWords","Utils","text","getWordsFromString","foundItems","Map","localItem","set","values","type","ChatType","recentItem","searchField","name","dialogNameWords","toLowerCase","userNameWords","workPosition","workPositionWords","fieldsForSearch","found","queryWord","queryWordsMatchCount","field","word","slice","length","compare","recentItems","items1","items2","itemsMap","mergedArray","has","startsWith","MAX_USERS_IN_RECENT_SEARCH_LIST","getUsersFromRecentItems","UserType","bot","getUserId","sortByDate","sort","firstItem","secondItem","cast","firstIsExtranet","isExtranet","secondIsExtranet","extranet","Lib","Vue3","Vuex","Application","Const"],"sources":["search.bundle.js"],"mappings":"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","ignoreList":[]}