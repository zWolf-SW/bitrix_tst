{"version":3,"file":"invite.bundle.js","sources":["../src/classes/invite-service.js","../src/invite.js"],"sourcesContent":["import { ajax as Ajax } from 'main.core';\n\nimport { Notifier } from 'im.v2.lib.notifier';\n\nconst RESEND_ACTION = 'intranet.controller.invite.reinvite';\nconst CANCEL_ACTION = 'intranet.controller.invite.deleteinvitation';\n\nexport const InviteService = {\n\tresendInvite(userId: number): void\n\t{\n\t\tconst data = {\n\t\t\tparams: { userId },\n\t\t};\n\n\t\tAjax.runAction(RESEND_ACTION, { data })\n\t\t\t.then(() => {\n\t\t\t\tNotifier.invite.onResendComplete();\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.error('InviteService: resendInvite error', error);\n\t\t\t});\n\t},\n\n\tcancelInvite(userId: number): void\n\t{\n\t\tconst data = {\n\t\t\tparams: { userId },\n\t\t};\n\n\t\tAjax.runAction(CANCEL_ACTION, { data })\n\t\t\t.then(() => {\n\t\t\t\tNotifier.invite.onCancelComplete();\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.error('InviteService: cancelInvite error', error);\n\t\t\t});\n\t},\n};\n","import { SidePanel, type SliderManager, type SliderOptions } from 'main.sidepanel';\n\nimport { Core } from 'im.v2.application.core';\n\nimport { InviteService } from './classes/invite-service';\n\nexport const InviteManager = {\n\tresendInvite(userId: number): void\n\t{\n\t\tInviteService.resendInvite(userId);\n\t},\n\n\tcancelInvite(userId: number): void\n\t{\n\t\tInviteService.cancelInvite(userId);\n\t},\n\n\topenInviteSlider(): void\n\t{\n\t\tconst sidePanel: SliderManager = SidePanel.Instance;\n\t\tconst sliderOptions: SliderOptions = {\n\t\t\tcacheable: false,\n\t\t\tallowChangeHistory: false,\n\t\t\twidth: 1100,\n\t\t};\n\n\t\tsidePanel.open(getInviteSliderLink(), sliderOptions);\n\t},\n};\n\nconst getInviteSliderLink = (): string => {\n\tconst AJAX_PATH = '/bitrix/services/main/ajax.php';\n\tconst COMPONENT_NAME = 'bitrix:intranet.invitation';\n\tconst ACTION_NAME = 'getSliderContent';\n\tconst params = new URLSearchParams({\n\t\taction: ACTION_NAME,\n\t\tsite_id: Core.getSiteId(),\n\t\tc: COMPONENT_NAME,\n\t\tmode: 'ajax',\n\t});\n\n\treturn `${AJAX_PATH}?${params.toString()}`;\n};\n"],"names":["RESEND_ACTION","CANCEL_ACTION","InviteService","resendInvite","userId","data","params","Ajax","runAction","then","Notifier","invite","onResendComplete","catch","error","console","cancelInvite","onCancelComplete","InviteManager","openInviteSlider","sidePanel","SidePanel","Instance","sliderOptions","cacheable","allowChangeHistory","width","open","getInviteSliderLink","AJAX_PATH","COMPONENT_NAME","ACTION_NAME","URLSearchParams","action","site_id","Core","getSiteId","c","mode","toString"],"mappings":";;;;;;;CAIA,MAAMA,aAAa,GAAG,qCAAqC;CAC3D,MAAMC,aAAa,GAAG,6CAA6C;AAEnE,CAAO,MAAMC,aAAa,GAAG;GAC5BC,YAAY,CAACC,MAAc,EAC3B;KACC,MAAMC,IAAI,GAAG;OACZC,MAAM,EAAE;SAAEF;;MACV;KAEDG,cAAI,CAACC,SAAS,CAACR,aAAa,EAAE;OAAEK;MAAM,CAAC,CACrCI,IAAI,CAAC,MAAM;OACXC,2BAAQ,CAACC,MAAM,CAACC,gBAAgB,EAAE;MAClC,CAAC,CACDC,KAAK,CAAEC,KAAK,IAAK;OACjBC,OAAO,CAACD,KAAK,CAAC,mCAAmC,EAAEA,KAAK,CAAC;MACzD,CAAC;IACH;GAEDE,YAAY,CAACZ,MAAc,EAC3B;KACC,MAAMC,IAAI,GAAG;OACZC,MAAM,EAAE;SAAEF;;MACV;KAEDG,cAAI,CAACC,SAAS,CAACP,aAAa,EAAE;OAAEI;MAAM,CAAC,CACrCI,IAAI,CAAC,MAAM;OACXC,2BAAQ,CAACC,MAAM,CAACM,gBAAgB,EAAE;MAClC,CAAC,CACDJ,KAAK,CAAEC,KAAK,IAAK;OACjBC,OAAO,CAACD,KAAK,CAAC,mCAAmC,EAAEA,KAAK,CAAC;MACzD,CAAC;;CAEL,CAAC;;OC/BYI,aAAa,GAAG;GAC5Bf,YAAY,CAACC,MAAc,EAC3B;KACCF,aAAa,CAACC,YAAY,CAACC,MAAM,CAAC;IAClC;GAEDY,YAAY,CAACZ,MAAc,EAC3B;KACCF,aAAa,CAACc,YAAY,CAACZ,MAAM,CAAC;IAClC;GAEDe,gBAAgB,GAChB;KACC,MAAMC,SAAwB,GAAGC,wBAAS,CAACC,QAAQ;KACnD,MAAMC,aAA4B,GAAG;OACpCC,SAAS,EAAE,KAAK;OAChBC,kBAAkB,EAAE,KAAK;OACzBC,KAAK,EAAE;MACP;KAEDN,SAAS,CAACO,IAAI,CAACC,mBAAmB,EAAE,EAAEL,aAAa,CAAC;;CAEtD,CAAC;CAED,MAAMK,mBAAmB,GAAG,MAAc;GACzC,MAAMC,SAAS,GAAG,gCAAgC;GAClD,MAAMC,cAAc,GAAG,4BAA4B;GACnD,MAAMC,WAAW,GAAG,kBAAkB;GACtC,MAAMzB,MAAM,GAAG,IAAI0B,eAAe,CAAC;KAClCC,MAAM,EAAEF,WAAW;KACnBG,OAAO,EAAEC,2BAAI,CAACC,SAAS,EAAE;KACzBC,CAAC,EAAEP,cAAc;KACjBQ,IAAI,EAAE;IACN,CAAC;GAEF,OAAQ,GAAET,SAAU,IAAGvB,MAAM,CAACiC,QAAQ,EAAG,EAAC;CAC3C,CAAC;;;;;;;;"}