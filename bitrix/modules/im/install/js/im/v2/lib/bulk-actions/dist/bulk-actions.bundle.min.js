this.BX=this.BX||{};this.BX.Messenger=this.BX.Messenger||{};this.BX.Messenger.v2=this.BX.Messenger.v2||{};(function(e,s,i,t,l,a){"use strict";var o=babelHelpers.classPrivateFieldLooseKey("instance");var n=babelHelpers.classPrivateFieldLooseKey("bindEscHandler");var r=babelHelpers.classPrivateFieldLooseKey("unbindEscHandler");var d=babelHelpers.classPrivateFieldLooseKey("onKeyPressCloseBulkActions");class c{static getInstance(){if(!babelHelpers.classPrivateFieldLooseBase(this,o)[o]){babelHelpers.classPrivateFieldLooseBase(this,o)[o]=new this}return babelHelpers.classPrivateFieldLooseBase(this,o)[o]}static init(){c.getInstance()}constructor(){Object.defineProperty(this,d,{value:h});Object.defineProperty(this,r,{value:v});Object.defineProperty(this,n,{value:b});s.EventEmitter.subscribe(t.EventType.dialog.openBulkActionsMode,this.enableBulkMode.bind(this));s.EventEmitter.subscribe(t.EventType.dialog.closeBulkActionsMode,this.disableBulkMode.bind(this))}enableBulkMode(e){const{messageId:s,dialogId:i}=e.getData();void l.Core.getStore().dispatch("messages/select/enableBulkMode",{messageId:s,dialogId:i});this.keyPressHandler=babelHelpers.classPrivateFieldLooseBase(this,d)[d].bind(this);babelHelpers.classPrivateFieldLooseBase(this,n)[n]()}disableBulkMode(e){const{dialogId:s}=e.getData();void l.Core.getStore().dispatch("messages/select/disableBulkMode",{dialogId:s});babelHelpers.classPrivateFieldLooseBase(this,r)[r]()}clearCollection(){void l.Core.getStore().dispatch("messages/select/clearCollection");babelHelpers.classPrivateFieldLooseBase(this,r)[r]()}}function b(){i.Event.bind(document,"keydown",this.keyPressHandler)}function v(){i.Event.unbind(document,"keydown",this.keyPressHandler)}function h(e){if(a.Utils.key.isCombination(e,"Escape")){this.clearCollection()}}Object.defineProperty(c,o,{writable:true,value:void 0});e.BulkActionsManager=c})(this.BX.Messenger.v2.Lib=this.BX.Messenger.v2.Lib||{},BX.Event,BX,BX.Messenger.v2.Const,BX.Messenger.v2.Application,BX.Messenger.v2.Lib);
//# sourceMappingURL=bulk-actions.bundle.map.js