this.BX=this.BX||{};this.BX.Messenger=this.BX.Messenger||{};this.BX.Messenger.v2=this.BX.Messenger.v2||{};(function(e,s,a,t,l,i){"use strict";const r=new Set([t.MessageComponent.unsupported,t.MessageComponent.error,t.MessageComponent.chatCreation,t.MessageComponent.ownChatCreation,t.MessageComponent.conferenceCreation,t.MessageComponent.callInvite,t.MessageComponent.copilotCreation,t.MessageComponent.copilotMessage,t.MessageComponent.supportVote,t.MessageComponent.supportSessionNumber,t.MessageComponent.supportChatCreation,t.MessageComponent.zoomInvite,t.MessageComponent.copilotAddedUsers,t.MessageComponent.supervisorUpdateFeature,t.MessageComponent.supervisorEnableFeature,t.MessageComponent.sign,t.MessageComponent.checkIn,t.MessageComponent.generalChatCreationMessage,t.MessageComponent.generalChannelCreationMessage,t.MessageComponent.channelCreationMessage,t.MessageComponent.callMessage,t.MessageComponent.voteMessage]);const o=new Set([t.MessageComponent.taskChatCreationMessage]);var n=babelHelpers.classPrivateFieldLooseKey("message");var p=babelHelpers.classPrivateFieldLooseKey("store");var b=babelHelpers.classPrivateFieldLooseKey("isServerComponent");var c=babelHelpers.classPrivateFieldLooseKey("isDemoComponent");var v=babelHelpers.classPrivateFieldLooseKey("hasFiles");var d=babelHelpers.classPrivateFieldLooseKey("hasText");var h=babelHelpers.classPrivateFieldLooseKey("hasAttach");var g=babelHelpers.classPrivateFieldLooseKey("isEmptyMessage");var u=babelHelpers.classPrivateFieldLooseKey("isDeletedMessage");var P=babelHelpers.classPrivateFieldLooseKey("isSystemMessage");var L=babelHelpers.classPrivateFieldLooseKey("isEmojiOnly");var F=babelHelpers.classPrivateFieldLooseKey("hasSmilesOnly");var m=babelHelpers.classPrivateFieldLooseKey("hasOnlyText");var M=babelHelpers.classPrivateFieldLooseKey("isForward");class f{constructor(e){Object.defineProperty(this,M,{value:S});Object.defineProperty(this,m,{value:w});Object.defineProperty(this,F,{value:I});Object.defineProperty(this,L,{value:x});Object.defineProperty(this,P,{value:X});Object.defineProperty(this,u,{value:K});Object.defineProperty(this,g,{value:j});Object.defineProperty(this,h,{value:O});Object.defineProperty(this,d,{value:y});Object.defineProperty(this,v,{value:C});Object.defineProperty(this,c,{value:B});Object.defineProperty(this,b,{value:H});Object.defineProperty(this,n,{writable:true,value:void 0});Object.defineProperty(this,p,{writable:true,value:void 0});babelHelpers.classPrivateFieldLooseBase(this,n)[n]=e;babelHelpers.classPrivateFieldLooseBase(this,p)[p]=a.Core.getStore()}getName(){const e=i.OpenLinesManager==null?void 0:i.OpenLinesManager.getMessageName(babelHelpers.classPrivateFieldLooseBase(this,n)[n]);if(e){return e}if(babelHelpers.classPrivateFieldLooseBase(this,u)[u]()){return t.MessageComponent.deleted}if(babelHelpers.classPrivateFieldLooseBase(this,b)[b]()||babelHelpers.classPrivateFieldLooseBase(this,c)[c]()){return babelHelpers.classPrivateFieldLooseBase(this,n)[n].componentId}if(babelHelpers.classPrivateFieldLooseBase(this,P)[P]()){return t.MessageComponent.system}if(babelHelpers.classPrivateFieldLooseBase(this,v)[v]()){return t.MessageComponent.file}if(babelHelpers.classPrivateFieldLooseBase(this,L)[L]()||babelHelpers.classPrivateFieldLooseBase(this,F)[F]()){return t.MessageComponent.smile}return t.MessageComponent.default}}function H(){return r.has(babelHelpers.classPrivateFieldLooseBase(this,n)[n].componentId)}function B(){return o.has(babelHelpers.classPrivateFieldLooseBase(this,n)[n].componentId)}function C(){return babelHelpers.classPrivateFieldLooseBase(this,n)[n].files.length>0}function y(){return babelHelpers.classPrivateFieldLooseBase(this,n)[n].text.length>0}function O(){return babelHelpers.classPrivateFieldLooseBase(this,n)[n].attach.length>0}function j(){return!babelHelpers.classPrivateFieldLooseBase(this,d)[d]()&&!babelHelpers.classPrivateFieldLooseBase(this,v)[v]()&&!babelHelpers.classPrivateFieldLooseBase(this,h)[h]()}function K(){return babelHelpers.classPrivateFieldLooseBase(this,n)[n].isDeleted||babelHelpers.classPrivateFieldLooseBase(this,g)[g]()}function X(){return babelHelpers.classPrivateFieldLooseBase(this,n)[n].authorId===0}function x(){if(babelHelpers.classPrivateFieldLooseBase(this,n)[n].replyId>0){return false}if(babelHelpers.classPrivateFieldLooseBase(this,M)[M]()){return false}if(!babelHelpers.classPrivateFieldLooseBase(this,m)[m]()){return false}return s.Utils.text.isEmojiOnly(babelHelpers.classPrivateFieldLooseBase(this,n)[n].text)}function I(){var e,a;if(babelHelpers.classPrivateFieldLooseBase(this,n)[n].replyId>0){return false}if(babelHelpers.classPrivateFieldLooseBase(this,M)[M]()){return false}if(!babelHelpers.classPrivateFieldLooseBase(this,m)[m]()){return false}const t=l.SmileManager.getInstance();const i=(e=(a=t.smileList)==null?void 0:a.smiles)!=null?e:[];const r=[...i].sort(((e,s)=>s.typing.localeCompare(e.typing)));const o=r.map((e=>s.Utils.text.escapeRegex(e.typing))).join("|");const p=babelHelpers.classPrivateFieldLooseBase(this,n)[n].text.replaceAll(new RegExp(o,"g"),"");const b=p.trim().length===0;const c=new RegExp(`(?:(?:${o})\\s*){4,}`);return b&&!c.test(babelHelpers.classPrivateFieldLooseBase(this,n)[n].text)}function w(){if(!babelHelpers.classPrivateFieldLooseBase(this,d)[d]()){return false}return!babelHelpers.classPrivateFieldLooseBase(this,v)[v]()&&!babelHelpers.classPrivateFieldLooseBase(this,h)[h]()}function S(){return babelHelpers.classPrivateFieldLooseBase(this,p)[p].getters["messages/isForward"](babelHelpers.classPrivateFieldLooseBase(this,n)[n].id)}e.MessageComponentManager=f})(this.BX.Messenger.v2.Lib=this.BX.Messenger.v2.Lib||{},BX?.Messenger?.v2?.Lib??{},BX?.Messenger?.v2?.Application??{},BX?.Messenger?.v2?.Const??{},BX?.Messenger?.v2?.Lib??{},BX?.OpenLines?.v2?.Lib??{});
//# sourceMappingURL=message-component.bundle.map.js