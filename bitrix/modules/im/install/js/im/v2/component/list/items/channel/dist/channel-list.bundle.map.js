{"version":3,"file":"channel-list.bundle.map.js","names":["this","BX","Messenger","v2","Component","exports","im_v2_component_elements_listLoadingState","main_date","im_v2_component_elements_chatTitle","im_v2_component_elements_avatar","im_v2_lib_utils","im_v2_lib_parser","im_v2_lib_dateFormatter","im_v2_lib_logger","im_v2_lib_user","im_v2_application_core","im_v2_lib_rest","main_core","im_v2_const","im_v2_lib_layout","im_v2_lib_menu","MessageText","name","components","MessageAvatar","props","item","type","Object","required","computed","AvatarSize","recentItem","dialog","$store","getters","dialogId","message","formattedDate","formatDate","date","isLastMessageAuthor","authorId","Core","getUserId","lastMessageAuthorAvatar","author","avatar","lastMessageAuthorAvatarStyle","backgroundImage","messageText","isDeleted","loc","formattedText","Parser","purifyRecent","formattedMessageText","SPLIT_INDEX","Utils","text","insertUnseenWhitespace","methods","DateFormatter","formatByTemplate","DateTemplate","recent","phraseCode","replacements","$Bitrix","Loc","getMessage","template","ChannelItem","ChatAvatar","ChatTitle","data","needsBirthdayPlaceholder","formattedCounter","counter","toString","layout","isUser","ChatType","user","isChat","isChatSelected","Layout","channel","entityId","isChatMuted","isMuted","muteList","find","element","Boolean","showLastMessage","Settings","invitation","wrapClasses","EmptyState","_itemsPerPage","babelHelpers","classPrivateFieldLooseKey","_isLoading","_pagesLoaded","_hasMoreItemsToLoad","_lastMessageId","_requestItems","_updateModels","_getMinMessageId","ChannelService","constructor","defineProperty","value","_getMinMessageId2","_updateModels2","_requestItems2","firstPageIsLoaded","writable","loadFirstPage","classPrivateFieldLooseBase","result","firstPage","loadNextPage","Promise","resolve","hasMoreItemsToLoad","async","queryParams","limit","filter","lastMessageId","runAction","RestMethod","imV2RecentChannelTail","catch","error","console","Logger","warn","messages","hasNextPage","getStore","dispatch","restResult","users","chats","files","recentItems","usersPromise","UserManager","setUsersToModel","dialoguesPromise","messagesPromise","filesPromise","recentPromise","all","length","firstMessageId","id","reduce","minId","nextMessage","Math","min","TAG","_pullClient","_requestWatchStart","PullWatchManager","_requestWatchStart2","getPullClient","subscribe","extendWatch","unsubscribe","clearWatch","imV2RecentChannelExtendPullWatch","ChannelRecentMenu","RecentMenu","getMenuItems","getOpenItem","onclick","LayoutManager","getInstance","setLayout","context","menuInstance","close","ChannelList","LoadingState","ListLoadingState","emits","isLoading","isLoadingNextPage","firstPageLoaded","collection","preparedItems","sort","a","b","firstMessage","messageId","secondMessage","isEmptyCollection","created","contextMenuManager","beforeUnmount","destroy","activated","getRecentService","getPullWatchManager","deactivated","onScroll","event","dom","isOneScreenRemaining","target","onClick","$emit","onRightClick","preventDefault","openMenu","currentTarget","service","pullWatchManager","List","Elements","Main","Lib","Application","Const"],"sources":["channel-list.bundle.js"],"mappings":"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","ignoreList":[]}