{"version":3,"file":"copilot-roles-dialog.bundle.js","sources":["../src/copilot-roles-dialog.js"],"sourcesContent":["import { RolesDialog, RolesDialogEvents } from 'ai.roles-dialog';\n\n// @vue/component\nexport const CopilotRolesDialog = {\n\tname: 'CopilotRolesDialog',\n\tprops:\n\t{\n\t\ttitle: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t},\n\t},\n\temits: ['selectRole', 'close'],\n\tcomputed:\n\t{\n\t\ttitleText(): string\n\t\t{\n\t\t\treturn this.title || this.loc('IM_ELEMENTS_COPILOT_ROLES_DIALOG_DEFAULT_TITLE');\n\t\t},\n\t},\n\tcreated()\n\t{\n\t\tthis.roleDialog = new RolesDialog({\n\t\t\tmoduleId: 'im',\n\t\t\tcontextId: 'im-copilot-create-chat',\n\t\t\ttitle: this.titleText,\n\t\t});\n\n\t\tthis.subscribeToEvents();\n\t},\n\tmounted()\n\t{\n\t\tvoid this.roleDialog.show();\n\t},\n\tbeforeUnmount()\n\t{\n\t\tif (!this.roleDialog)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tthis.roleDialog.hide();\n\t\tthis.unsubscribeFromEvents();\n\t},\n\tmethods:\n\t{\n\t\tsubscribeToEvents()\n\t\t{\n\t\t\tthis.roleDialog.subscribe(RolesDialogEvents.SELECT_ROLE, this.onSelectRole);\n\t\t\tthis.roleDialog.subscribe(RolesDialogEvents.HIDE, this.onHide);\n\t\t},\n\t\tunsubscribeFromEvents()\n\t\t{\n\t\t\tthis.roleDialog.unsubscribe(RolesDialogEvents.SELECT_ROLE, this.onSelectRole);\n\t\t\tthis.roleDialog.unsubscribe(RolesDialogEvents.HIDE, this.onHide);\n\t\t},\n\t\tonSelectRole(event)\n\t\t{\n\t\t\tconst { role } = event.getData();\n\t\t\tif (!role)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.$emit('selectRole', role);\n\t\t},\n\t\tonHide()\n\t\t{\n\t\t\tthis.$emit('close');\n\t\t},\n\t\tloc(phraseCode: string): string\n\t\t{\n\t\t\treturn this.$Bitrix.Loc.getMessage(phraseCode);\n\t\t},\n\t},\n\ttemplate: '<template></template>',\n};\n"],"names":["CopilotRolesDialog","name","props","title","type","String","default","emits","computed","titleText","loc","created","roleDialog","RolesDialog","moduleId","contextId","subscribeToEvents","mounted","show","beforeUnmount","hide","unsubscribeFromEvents","methods","subscribe","RolesDialogEvents","SELECT_ROLE","onSelectRole","HIDE","onHide","unsubscribe","event","role","getData","$emit","phraseCode","$Bitrix","Loc","getMessage","template"],"mappings":";;;;;;;;CAEA;AACA,OAAaA,kBAAkB,GAAG;GACjCC,IAAI,EAAE,oBAAoB;GAC1BC,KAAK,EACL;KACCC,KAAK,EAAE;OACNC,IAAI,EAAEC,MAAM;OACZC,OAAO,EAAE;;IAEV;GACDC,KAAK,EAAE,CAAC,YAAY,EAAE,OAAO,CAAC;GAC9BC,QAAQ,EACR;KACCC,SAAS,GACT;OACC,OAAO,IAAI,CAACN,KAAK,IAAI,IAAI,CAACO,GAAG,CAAC,gDAAgD,CAAC;;IAEhF;GACDC,OAAO,GACP;KACC,IAAI,CAACC,UAAU,GAAG,IAAIC,0BAAW,CAAC;OACjCC,QAAQ,EAAE,IAAI;OACdC,SAAS,EAAE,wBAAwB;OACnCZ,KAAK,EAAE,IAAI,CAACM;MACZ,CAAC;KAEF,IAAI,CAACO,iBAAiB,EAAE;IACxB;GACDC,OAAO,GACP;KACC,KAAK,IAAI,CAACL,UAAU,CAACM,IAAI,EAAE;IAC3B;GACDC,aAAa,GACb;KACC,IAAI,CAAC,IAAI,CAACP,UAAU,EACpB;OACC;;KAGD,IAAI,CAACA,UAAU,CAACQ,IAAI,EAAE;KACtB,IAAI,CAACC,qBAAqB,EAAE;IAC5B;GACDC,OAAO,EACP;KACCN,iBAAiB,GACjB;OACC,IAAI,CAACJ,UAAU,CAACW,SAAS,CAACC,gCAAiB,CAACC,WAAW,EAAE,IAAI,CAACC,YAAY,CAAC;OAC3E,IAAI,CAACd,UAAU,CAACW,SAAS,CAACC,gCAAiB,CAACG,IAAI,EAAE,IAAI,CAACC,MAAM,CAAC;MAC9D;KACDP,qBAAqB,GACrB;OACC,IAAI,CAACT,UAAU,CAACiB,WAAW,CAACL,gCAAiB,CAACC,WAAW,EAAE,IAAI,CAACC,YAAY,CAAC;OAC7E,IAAI,CAACd,UAAU,CAACiB,WAAW,CAACL,gCAAiB,CAACG,IAAI,EAAE,IAAI,CAACC,MAAM,CAAC;MAChE;KACDF,YAAY,CAACI,KAAK,EAClB;OACC,MAAM;SAAEC;QAAM,GAAGD,KAAK,CAACE,OAAO,EAAE;OAChC,IAAI,CAACD,IAAI,EACT;SACC;;OAED,IAAI,CAACE,KAAK,CAAC,YAAY,EAAEF,IAAI,CAAC;MAC9B;KACDH,MAAM,GACN;OACC,IAAI,CAACK,KAAK,CAAC,OAAO,CAAC;MACnB;KACDvB,GAAG,CAACwB,UAAkB,EACtB;OACC,OAAO,IAAI,CAACC,OAAO,CAACC,GAAG,CAACC,UAAU,CAACH,UAAU,CAAC;;IAE/C;GACDI,QAAQ,EAAE;CACX,CAAC;;;;;;;;"}