{"version":3,"file":"copilot-list.bundle.map.js","names":["this","BX","Messenger","v2","Component","exports","im_v2_lib_draft","im_v2_component_elements_listLoadingState","main_date","im_v2_component_list_items_elements_inputActionIndicator","im_v2_component_elements_chatTitle","im_v2_lib_dateFormatter","im_v2_const","im_v2_lib_utils","im_v2_lib_parser","im_v2_component_elements_avatar","im_v2_application_core","im_v2_provider_service_recent","main_core","im_public","im_v2_lib_menu","im_v2_lib_feature","MessageText","name","components","MessageAvatar","props","item","type","Object","required","computed","AvatarSize","recentItem","dialog","$store","getters","dialogId","user","message","showLastMessage","Settings","recent","hiddenMessageText","$Bitrix","Loc","getMessage","isLastMessageAuthor","authorId","Core","getUserId","lastMessageAuthorAvatar","authorDialog","avatar","lastMessageAuthorAvatarStyle","backgroundImage","messageText","formattedText","Parser","purifyRecent","formattedMessageText","SPLIT_INDEX","Utils","text","insertUnseenWhitespace","preparedDraftContent","phrase","loc","PLACEHOLDER_LENGTH","length","prefix","slice","Text","encode","formattedDraftText","purify","draft","showIconIfEmptyText","methods","phraseCode","replacements","template","CopilotItem","ChatAvatar","ChatTitle","InputActionIndicator","data","formattedDate","formatDate","date","formattedCounter","counter","toString","layout","isChatSelected","Layout","copilot","entityId","isChatMuted","isMuted","muteList","find","element","Boolean","hasActiveInputAction","showPinnedIcon","pinned","unread","showUnreadWithoutCounter","showCounter","wrapClasses","itemClasses","DateFormatter","formatByTemplate","DateTemplate","CopilotRecentService","RecentService","getQueryParams","firstPage","ONLY_COPILOT","LIMIT","itemsPerPage","LAST_MESSAGE_DATE","lastMessageDate","GET_ORIGINAL_TEXT","PARSE_TEXT","getModelSaveMethod","getCollection","getStore","getExtractorOptions","withBirthdays","CopilotRecentMenu","RecentMenu","getMenuItems","FeatureManager","isFeatureAvailable","Feature","showCopilotChatsInRecentTab","getUnreadMessageItem","getPinMessageItem","getMuteItem","getHideItem","getLeaveItem","getOpenItem","onclick","openCopilot","context","menuInstance","close","getRecentService","hideChat","service","CopilotList","LoadingState","ListLoadingState","emits","isLoading","isLoadingNextPage","collection","sortedItems","sort","a","b","firstDate","secondDate","pinnedItems","filter","generalItems","isEmptyCollection","created","contextMenuManager","loadFirstPage","DraftManager","getInstance","initDraftHistory","beforeUnmount","destroy","onScroll","event","dom","isOneScreenRemaining","target","hasMoreItemsToLoad","loadNextPage","onClick","$emit","onRightClick","preventDefault","openMenu","currentTarget","List","Lib","Elements","Main","Const","Application","Service"],"sources":["copilot-list.bundle.js"],"mappings":"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","ignoreList":[]}