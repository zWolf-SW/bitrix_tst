{"version":3,"file":"attach.bundle.map.js","names":["this","BX","Messenger","v2","Component","exports","ui_icons_disk","main_core","im_v2_lib_parser","im_v2_lib_utils","rest_client","im_v2_application_core","im_v2_const","ui_vue3_directives_lazyload","AttachDelimiter","name","props","config","type","Object","default","computed","internalConfig","styles","result","delimiter","color","backgroundColor","size","width","template","AttachFileItem","fileName","fileSize","link","fileShortName","NAME_MAX_LENGTH","Type","isStringFilled","$Bitrix","Loc","getMessage","Utils","file","getShortFileName","formattedFileSize","formatFileSize","iconClasses","fileIcon","getIconTypeByFilename","methods","openLink","window","open","AttachFile","components","AttachGridItemDisplayType","block","line","row","DisplayType","AttachGridItem","display","toLowerCase","value","Parser","decodeText","colorToken","AttachGrid","AttachHtml","html","decodeHtml","MAX_IMAGE_SIZE","AttachImageItem","directives","lazyload","height","preview","source","_this$preview","imageSize","sizes","resizeToFitMaxSize","hasWidth","Boolean","lazyLoadCallback","event","element","Dom","style","offsetWidth","offsetHeight","AttachImage","AttachLinkItem","_this$internalConfig$","description","desc","content","imageConfig","image","AttachLink","AttachMessage","message","_restClient","babelHelpers","classPrivateFieldLooseKey","_store","_message","RichService","constructor","defineProperty","writable","classPrivateFieldLooseBase","Core","getRestClient","getStore","deleteRichLink","attachId","dispatch","messageId","id","callMethod","RestMethod","imV2ChatMessageDeleteRichUrl","catch","console","error","AttachRichItem","inject","String","required","text","convertHtmlEntities","previewSize","_this$internalConfig$2","_this$internalConfig$3","_this$internalConfig$4","canShowDeleteIcon","authorId","getUserId","deleteRichLinkTitle","imageStyles","AttachRich","AVATAR_TYPE","user","chat","bot","AttachUserItem","avatar","avatarType","avatarTypeClass","AttachUser","PropertyToComponentMap","AttachType","Delimiter","File","Grid","Html","Image","Link","Message","Rich","User","Attach","blocks","ColorToken","base","getComponentForBlock","blockType","keys","Elements","Lib","Application","Const","Vue3","Directives"],"sources":["attach.bundle.js"],"mappings":"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","ignoreList":[]}