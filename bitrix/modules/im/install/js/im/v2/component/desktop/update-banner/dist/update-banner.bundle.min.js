this.BX=this.BX||{};this.BX.Messenger=this.BX.Messenger||{};this.BX.Messenger.v2=this.BX.Messenger.v2||{};this.BX.Messenger.v2.Component=this.BX.Messenger.v2.Component||{};(function(t,e,n,s,o,i){"use strict";const r={name:"DesktopUpdateBanner",computed:{desktopDownloadUrl(){const t=e.Extension.getSettings("im.v2.component.desktop.update-banner");return t.get("desktopDownloadUrl")},headerText(){const t=this.isSupportedOs?"IM_DESKTOP_UPDATE_BANNER_HEADING":"IM_DESKTOP_UPDATE_BANNER_HEADING_NOT_SUPPORTED_OS";return this.loc(t)},descriptionText(){const t=this.isSupportedOs?"IM_DESKTOP_UPDATE_BANNER_DESCRIPTION":"IM_DESKTOP_UPDATE_BANNER_DESCRIPTION_NOT_SUPPORTED_OS";return e.Loc.getMessage(t,{"[helpdesk]":`<span onclick="${this.showHelpArticle()}" class="bx-im-desktop-update-banner__description-more">`,"[/helpdesk]":"</span>","[br]":"<br>"})},showBrowserLink(){return n.DesktopApi.getMajorVersion()>15},isSupportedOs(){if(!e.Browser.isWin()){return true}if(n.DesktopApi.getWindowsOSBuild()>0){const t=1e4;return n.DesktopApi.getWindowsOSBuild()>t}return this.isSupportedWindowsVersion},isSupportedWindowsVersion(){const t=navigator.userAgent.toLowerCase();return!t.includes("windows nt 6")}},methods:{showHelpArticle(){const t="25374968";const e="BX.Messenger.v2.Lib.Analytics.getInstance().desktopUpdateBanner.onClickMoreInformation()";const n=o.getHelpdeskStringCallback(t);return`\n\t\t\t\t${e}\n\t\t\t\t${n}\n\t\t\t`},openRootDomain(){s.Analytics.getInstance().desktopUpdateBanner.onOpenWebVersion();n.DesktopApi.openInBrowser(location.origin)},openDesktopDownloadPage(){s.Analytics.getInstance().desktopUpdateBanner.onClickUpdate();i.Utils.browser.openLink(this.desktopDownloadUrl)},loc(t){return this.$Bitrix.Loc.getMessage(t)}},template:`\n\t\t<div class="bx-im-messenger__scope bx-im-desktop-update-banner__container">\n\t\t\t<div class="bx-im-desktop-update-banner__logo">\n\t\t\t\t<h1 class="bx-im-desktop-update-banner__logo-heading">{{ loc('IM_DESKTOP_UPDATE_BANNER_LOGO') }}</h1>\n\t\t\t</div>\n\t\t\t<div class="bx-im-desktop-update-banner__content-container">\n\t\t\t\t<div class="bx-im-desktop-update-banner__image"></div>\n\t\t\t\t<div class="bx-im-desktop-update-banner__content">\n\t\t\t\t\t<h2 class="bx-im-desktop-update-banner__heading">{{ loc('IM_DESKTOP_UPDATE_BANNER_HEADING') }}</h2>\n\t\t\t\t\t<p v-html="descriptionText" class="bx-im-desktop-update-banner__description"></p>\n\t\t\t\t</div>\n\t\t\t\t<div v-if="isSupportedOs" class="bx-im-desktop-update-banner__buttons">\n\t\t\t\t\t<button @click="openDesktopDownloadPage" class="bx-im-desktop-update-banner__update">\n\t\t\t\t\t\t{{ loc('IM_DESKTOP_UPDATE_BANNER_UPDATE') }}\n\t\t\t\t\t</button>\n\t\t\t\t\t<button v-if="showBrowserLink" @click="openRootDomain" class="bx-im-desktop-update-banner__version">\n\t\t\t\t\t\t{{ loc('IM_DESKTOP_UPDATE_BANNER_VERSION') }}\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t`};t.DesktopUpdateBanner=r})(this.BX.Messenger.v2.Component.Desktop=this.BX.Messenger.v2.Component.Desktop||{},BX,BX.Messenger.v2.Lib,BX.Messenger.v2.Lib,BX.Messenger.v2.Lib,BX.Messenger.v2.Lib);
//# sourceMappingURL=update-banner.bundle.map.js