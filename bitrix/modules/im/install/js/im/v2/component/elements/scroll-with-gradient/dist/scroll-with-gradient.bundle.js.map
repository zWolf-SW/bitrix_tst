{"version":3,"file":"scroll-with-gradient.bundle.js","sources":["../src/scroll-with-gradient.js"],"sourcesContent":["import './scroll-with-gradient.css';\n\nimport type { JsonObject } from 'main.core';\n\n// @vue/component\nexport const ScrollWithGradient = {\n\tname: 'ScrollWithGradient',\n\tprops:\n\t{\n\t\tcontainerMaxHeight: {\n\t\t\ttype: Number,\n\t\t\tdefault: 0,\n\t\t\trequired: false,\n\t\t},\n\t\tgradientHeight: {\n\t\t\ttype: Number,\n\t\t\tdefault: 0,\n\t\t},\n\t\twithShadow: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t},\n\tdata(): JsonObject\n\t{\n\t\treturn {\n\t\t\tshowTopGradient: false,\n\t\t\tshowBottomGradient: false,\n\t\t};\n\t},\n\tcomputed:\n\t{\n\t\tcontentHeightStyle(): JsonObject\n\t\t{\n\t\t\tif (!this.containerMaxHeight)\n\t\t\t{\n\t\t\t\treturn { height: '100%' };\n\t\t\t}\n\n\t\t\treturn { maxHeight: `${this.containerMaxHeight}px` };\n\t\t},\n\t\tgradientHeightStyle(): JsonObject\n\t\t{\n\t\t\treturn {\n\t\t\t\tmaxHeight: `${this.gradientHeightStyle}px`,\n\t\t\t};\n\t\t},\n\t},\n\tmounted()\n\t{\n\t\t// const container = this.$refs['scroll-container'];\n\t\t// this.showBottomGradient = container.scrollHeight > container.clientHeight;\n\t},\n\tmethods:\n\t{\n\t\tonScroll(event: Event)\n\t\t{\n\t\t\tthis.$emit('scroll', event);\n\t\t\tconst scrollPosition = Math.floor(event.target.scrollTop + event.target.clientHeight);\n\n\t\t\tthis.showBottomGradient = scrollPosition !== event.target.scrollHeight;\n\n\t\t\tif (event.target.scrollTop === 0)\n\t\t\t{\n\t\t\t\tthis.showTopGradient = false;\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.showTopGradient = true;\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-scroll-with-gradient__container\">\n\t\t\t<Transition name=\"gradient-fade\">\n\t\t\t\t<div v-if=\"showTopGradient\" class=\"bx-im-scroll-with-gradient__gradient --top\" :style=\"gradientHeightStyle\">\n\t\t\t\t\t<div v-if=\"withShadow\" class=\"bx-im-scroll-with-gradient__gradient-inner\"></div>\n\t\t\t\t</div>\n\t\t\t</Transition>\n\t\t\t<div \n\t\t\t\tclass=\"bx-im-scroll-with-gradient__content\" \n\t\t\t\t:style=\"contentHeightStyle\" \n\t\t\t\t@scroll=\"onScroll\"\n\t\t\t\tref=\"scroll-container\"\n\t\t\t>\n\t\t\t\t<slot></slot>\n\t\t\t</div>\n\t\t\t<Transition name=\"gradient-fade\">\n\t\t\t\t<div v-if=\"showBottomGradient\" class=\"bx-im-scroll-with-gradient__gradient --bottom\" :style=\"gradientHeightStyle\">\n\t\t\t\t\t<div v-if=\"withShadow\" class=\"bx-im-scroll-with-gradient__gradient-inner\"></div>\n\t\t\t\t</div>\n\t\t\t</Transition>\n\t\t</div>\n\t`,\n};\n"],"names":["ScrollWithGradient","name","props","containerMaxHeight","type","Number","default","required","gradientHeight","withShadow","Boolean","data","showTopGradient","showBottomGradient","computed","contentHeightStyle","height","maxHeight","gradientHeightStyle","mounted","methods","onScroll","event","$emit","scrollPosition","Math","floor","target","scrollTop","clientHeight","scrollHeight","template"],"mappings":";;;;;;;;CAIA;AACA,OAAaA,kBAAkB,GAAG;GACjCC,IAAI,EAAE,oBAAoB;GAC1BC,KAAK,EACL;KACCC,kBAAkB,EAAE;OACnBC,IAAI,EAAEC,MAAM;OACZC,OAAO,EAAE,CAAC;OACVC,QAAQ,EAAE;MACV;KACDC,cAAc,EAAE;OACfJ,IAAI,EAAEC,MAAM;OACZC,OAAO,EAAE;MACT;KACDG,UAAU,EAAE;OACXL,IAAI,EAAEM,OAAO;OACbJ,OAAO,EAAE;;IAEV;GACDK,IAAI,GACJ;KACC,OAAO;OACNC,eAAe,EAAE,KAAK;OACtBC,kBAAkB,EAAE;MACpB;IACD;GACDC,QAAQ,EACR;KACCC,kBAAkB,GAClB;OACC,IAAI,CAAC,IAAI,CAACZ,kBAAkB,EAC5B;SACC,OAAO;WAAEa,MAAM,EAAE;UAAQ;;OAG1B,OAAO;SAAEC,SAAS,EAAG,GAAE,IAAI,CAACd,kBAAmB;QAAK;MACpD;KACDe,mBAAmB,GACnB;OACC,OAAO;SACND,SAAS,EAAG,GAAE,IAAI,CAACC,mBAAoB;QACvC;;IAEF;GACDC,OAAO,GACP;;;IAGC;GACDC,OAAO,EACP;KACCC,QAAQ,CAACC,KAAY,EACrB;OACC,IAAI,CAACC,KAAK,CAAC,QAAQ,EAAED,KAAK,CAAC;OAC3B,MAAME,cAAc,GAAGC,IAAI,CAACC,KAAK,CAACJ,KAAK,CAACK,MAAM,CAACC,SAAS,GAAGN,KAAK,CAACK,MAAM,CAACE,YAAY,CAAC;OAErF,IAAI,CAAChB,kBAAkB,GAAGW,cAAc,KAAKF,KAAK,CAACK,MAAM,CAACG,YAAY;OAEtE,IAAIR,KAAK,CAACK,MAAM,CAACC,SAAS,KAAK,CAAC,EAChC;SACC,IAAI,CAAChB,eAAe,GAAG,KAAK;SAE5B;;OAGD,IAAI,CAACA,eAAe,GAAG,IAAI;;IAE5B;GACDmB,QAAQ,EAAG;;;;;;;;;;;;;;;;;;;;;;CAsBZ,CAAC;;;;;;;;"}