{"version":3,"file":"collab-list.bundle.map.js","names":["this","BX","Messenger","v2","Component","exports","im_v2_lib_draft","im_v2_lib_utils","im_v2_component_elements_listLoadingState","im_v2_component_list_items_recent","im_v2_application_core","im_v2_lib_rest","im_v2_lib_logger","im_v2_lib_user","main_core","im_v2_const","im_v2_lib_layout","im_v2_lib_menu","EmptyState","name","methods","loc","phraseCode","$Bitrix","Loc","getMessage","template","_itemsPerPage","babelHelpers","classPrivateFieldLooseKey","_isLoading","_pagesLoaded","_hasMoreItemsToLoad","_lastMessageDate","_requestItems","_updateModels","_getChatsWithCounters","_getLastMessageDate","_filterPinnedItemsMessages","CollabService","constructor","Object","defineProperty","value","_filterPinnedItemsMessages2","_getLastMessageDate2","_getChatsWithCounters2","_updateModels2","_requestItems2","firstPageIsLoaded","writable","loadFirstPage","classPrivateFieldLooseBase","result","firstPage","loadNextPage","Promise","resolve","hasMoreItemsToLoad","async","queryParams","data","limit","filter","lastMessageDate","runAction","RestMethod","imV2RecentCollabTail","catch","error","console","Logger","warn","hasNextPage","restResult","users","chats","messages","files","recentItems","messagesAutoDeleteConfigs","chatsWithCounters","usersPromise","UserManager","setUsersToModel","dialoguesPromise","Core","getStore","dispatch","autoDeletePromise","messagesPromise","filesPromise","recentPromise","all","chatMap","forEach","chat","id","recentItem","counter","chatId","values","length","firstMessageDate","date","message","chat_id","find","item","pinned","CollabRecentMenu","RecentMenu","getMenuItems","getUnreadMessageItem","getPinMessageItem","getMuteItem","getOpenItem","text","onclick","LayoutManager","getInstance","setLayout","Layout","collab","entityId","context","dialogId","menuInstance","close","CollabList","components","LoadingState","ListLoadingState","RecentItem","emits","isLoading","isLoadingNextPage","firstPageLoaded","computed","collection","$store","getters","preparedItems","sort","a","b","firstDate","secondDate","pinnedItems","generalItems","isEmptyCollection","created","contextMenuManager","DraftManager","initDraftHistory","beforeUnmount","destroy","activated","getRecentService","onScroll","event","Utils","dom","isOneScreenRemaining","target","onClick","$emit","onRightClick","preventDefault","openMenu","currentTarget","service","List","Lib","Elements","Application","Const"],"sources":["collab-list.bundle.js"],"mappings":"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","ignoreList":[]}