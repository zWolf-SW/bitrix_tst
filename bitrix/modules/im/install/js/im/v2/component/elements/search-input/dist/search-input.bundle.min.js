this.BX=this.BX||{};this.BX.Messenger=this.BX.Messenger||{};this.BX.Messenger.v2=this.BX.Messenger.v2||{};this.BX.Messenger.v2.Component=this.BX.Messenger.v2.Component||{};(function(t,e,s){"use strict";const n={name:"SearchInput",components:{Spinner:s.Spinner},props:{placeholder:{type:String,default:""},searchMode:{type:Boolean,default:true},withIcon:{type:Boolean,default:true},withLoader:{type:Boolean,default:false},isLoading:{type:Boolean,default:false},delayForFocusOnStart:{type:Number||null,default:null}},emits:["queryChange","inputFocus","inputBlur","keyPressed","close"],data(){return{query:"",hasFocus:false}},computed:{SpinnerSize:()=>s.SpinnerSize,SpinnerColor:()=>s.SpinnerColor,isEmptyQuery(){return this.query.length===0}},watch:{searchMode(t){if(t===true){this.focus()}else{this.query="";this.blur()}}},mounted(){if(this.delayForFocusOnStart===0){this.focus()}else if(this.delayForFocusOnStart>0){setTimeout((()=>{this.focus()}),this.delayForFocusOnStart)}},methods:{onInputUpdate(){this.$emit("queryChange",this.query)},onFocus(){this.focus();this.$emit("inputFocus")},onCloseClick(){this.query="";this.hasFocus=false;this.$emit("queryChange",this.query);this.$emit("close")},onClearInput(){this.query="";this.focus();this.$emit("queryChange",this.query)},onKeyUp(t){if(e.Utils.key.isCombination(t,"Escape")){this.onEscapePressed();return}this.$emit("keyPressed",t)},onEscapePressed(){if(this.isEmptyQuery){this.onCloseClick();this.blur()}else{this.onClearInput()}},focus(){this.hasFocus=true;this.$refs.searchInput.focus()},blur(){this.hasFocus=false;this.$refs.searchInput.blur()}},template:`\n\t\t<div class="bx-im-search-input__scope bx-im-search-input__container" :class="{'--has-focus': hasFocus}">\n\t\t\t<div v-if="!isLoading" class="bx-im-search-input__search-icon"></div>\n\t\t\t<Spinner \n\t\t\t\tv-if="withLoader && isLoading" \n\t\t\t\t:size="SpinnerSize.XXS" \n\t\t\t\t:color="SpinnerColor.grey" \n\t\t\t\tclass="bx-im-search-input__loader"\n\t\t\t/>\n\t\t\t<input\n\t\t\t\t@focus="onFocus"\n\t\t\t\t@input="onInputUpdate"\n\t\t\t\t@keyup="onKeyUp"\n\t\t\t\tv-model="query"\n\t\t\t\tclass="bx-im-search-input__element"\n\t\t\t\t:class="{'--with-icon': withIcon}"\n\t\t\t\t:placeholder="placeholder"\n\t\t\t\tref="searchInput"\n\t\t\t/>\n\t\t\t<div v-if="hasFocus" class="bx-im-search-input__close-icon" @click="onCloseClick"></div>\n\t\t</div>\n\t`};t.SearchInput=n})(this.BX.Messenger.v2.Component.Elements=this.BX.Messenger.v2.Component.Elements||{},BX.Messenger.v2.Lib,BX.Messenger.v2.Component.Elements);
//# sourceMappingURL=search-input.bundle.map.js