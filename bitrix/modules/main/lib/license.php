<? namespace Bitrix\Main;$GLOBALS['____284200717']= array(base64_decode('ZmlsZV9'.'leGl'.'z'.'d'.'HM'.'='),base64_decode('c3RydG91cHBl'.'c'.'g='.'='),base64_decode('b'.'W'.'Q1'),base64_decode('bWQ1'),base64_decode('aW5fY'.'XJyYX'.'k'.'='),base64_decode('aW5fYXJ'.'yY'.'Xk='),base64_decode('aW5fY'.'XJyYXk='),base64_decode('ZG'.'VmaW5lZA=='),base64_decode('ZGVma'.'W5lZA=='),base64_decode('ZGVmaW'.'5lZA=='),base64_decode('Zm'.'lsZV9leGlz'.'dHM='),base64_decode('Zml'.'sZV9'.'leGlzdH'.'M='),base64_decode('Zm'.'lsZV9leGlzdHM='),base64_decode(''.'ZmlsZV9leGl'.'z'.'d'.'HM='),base64_decode('Z'.'Xhw'.'bG9'.'kZ'.'Q=='));if(!function_exists(__NAMESPACE__.'\\___867651080')){function ___867651080($_702567707){static $_881134991= false; if($_881134991 == false) $_881134991=array('L2J'.'pdH'.'J'.'peC9sa'.'WN'.'l'.'bnNlX2t'.'le'.'S5'.'waHA=','','',''.'R'.'E'.'V'.'NTw==','REVNTw'.'==','QklUUklY','TE'.'lDRU5DRQ==','REVNTw='.'=','L2tleV91cGRh'.'dGU'.'ucGhwP2xpY2Vuc2'.'Vfa2V5PQ==','JnRvY'.'mFza2V0PXkmb'.'G'.'F'.'uZz'.'0=','cn'.'U=',''.'a3'.'o=',''.'Y'.'nk=','a'.'HR'.'0cHM6L'.'y9'.'k'.'ZXYuMWMtY'.'ml0cml'.'4L'.'n'.'J1'.'L2xlYXJu'.'aW'.'5nL'.'2Nv'.'dXJzZS9pbm'.'RleC5w'.'aHA/'.'Q09'.'VUlNF'.'X0lEPTEzN'.'SZMR'.'VNTT05fSU'.'Q9MjU3'.'M'.'jA=','aH'.'R0cHM'.'6Ly9'.'0'.'cmFpbm'.'luZ'.'y'.'5iaXRyaXgyN'.'C5jb20vc'.'3V'.'wcG9yd'.'C'.'90c'.'mFpbm'.'luZy'.'9jb3V'.'yc2UvaW5kZXgucGh'.'w'.'P0NPV'.'VJ'.'TRV9J'.'RD0xN'.'zgmTEVTU09O'.'X0lEPT'.'I1OTMyJ'.'k'.'xF'.'U1'.'NP'.'Tl9Q'.'Q'.'VRIPTE3NTIwLjE3'.'NTYyLjI1'.'O'.'TM'.'w'.'LjI1'.'O'.'TMy','c'.'nU=','Ynk=','a3'.'o'.'=','ZGU=','ZX'.'U'.'=','ZnI=','c'.'Gw=','a'.'XQ'.'=','dWs=','ZX'.'U=','Y29'.'t','ZW4=','RE'.'VNTw==','WQ==','VElNRUxJTUlU'.'X0VESVRJT04=',''.'WQ==','RU'.'5DT0RF','WQ='.'=','U2l'.'0'.'ZUV4'.'cGl'.'yZU'.'RhdGU'.'=','bWFpbg==',''.'fnN1cH'.'BvcnRf'.'Zml'.'uaXNoX'.'2Rhd'.'GU=','WS1tLWQ'.'=','WS1'.'tL'.'WQ=','Ym'.'l0cml'.'4Mj'.'Q=','bW'.'Fpbg==','flBB'.'UkFNX0N'.'MSUVO'.'VF9MQU'.'5H',''.'aW50'.'c'.'mFuZXQ'.'=','Z'.'W4=','cnU=','b'.'WFpbg==','d'.'mVu'.'ZG9y','Yml0'.'cml4X3BvcnRhbA==','Z'.'W4=',''.'MWN'.'fYml0cml4X3BvcnRhbA==','c'.'nU=','L2Jp'.'dHJpeC'.'9tb2R1'.'b'.'GV'.'zL21haW'.'4v'.'bG'.'F'.'uZ'.'y9'.'1YQ='.'=','dWE=','L2'.'Jpd'.'H'.'Jp'.'eC9tb2R1b'.'GVzL21haW4vbGFuZ'.'y9ieQ'.'==','Yn'.'k=','L2JpdHJ'.'peC9tb'.'2'.'R1bGVzL2'.'1haW'.'4vbGFuZy'.'9re'.'g==','a3o=','L'.'2Jp'.'d'.'H'.'JpeC9tb'.'2'.'R1b'.'GVzL21'.'haW4vbGFu'.'Zy9'.'ydQ==','cnU=','b'.'WFpbg==','flBBUkFNX1BBUlRORVJfS'.'U'.'Q'.'=','bWF'.'pbg==',''.'UEFS'.'QU1fTUFYX1VT'.'R'.'VJ'.'T','bWF'.'pb'.'g==','f'.'k'.'NPVU'.'5UX'.'0VYVFJB','T'.'g'.'==','WQ==','ZXh0'.'cmFuZXQ'.'=',''.'Q'.'U5'.'EI'.'FUu'.'TEFTVF9'.'MT0dJ'.'TiA+IA==','QU5EIFU'.'uTEFTVF'.'9M'.'T0d'.'JTiB'.'JU'.'yBO'.'T1'.'Q'.'gTlVMT'.'A==',''.'aW5'.'0cmFu'.'Z'.'XQ=','ZXh0c'.'mFu'.'ZXQ=',''.'Z'.'X'.'h'.'0cmFuZXRf'.'Z3'.'Jv'.'dXA=','bWFpbg==','fmxpY2Vuc2V'.'fb'.'m'.'F'.'tZQ==','bWFp'.'bg'.'==','f'.'mxpY2V'.'uc'.'2VfY29'.'kZXM=','','LA==');return base64_decode($_881134991[$_702567707]);}}; use Bitrix\Main\Config\Option; use Bitrix\Main\Type\Date; final class License{ private?string $_595460108= null; private const DOMAINS_STORE_LICENSE=[ 'ru' => 'https://util.1c-bitrix.ru', 'en' => 'https://util.bitrixsoft.com', 'kz' => 'https://util.1c-bitrix.kz', 'by' => 'https://util.1c-bitrix.by',]; public const URL_BUS_EULA=[ 'ru' => 'https://www.1c-bitrix.ru/download/law/eula_bus.pdf', 'by' => 'https://www.1c-bitrix.by/download/law/eula_bus.pdf', 'kz' => 'https://www.1c-bitrix.kz/download/law/eula_bus.pdf',]; public const URL_CP_EULA=[ 'ru' => 'https://www.1c-bitrix.ru/download/law/eula_cp.pdf', 'by' => 'https://www.1c-bitrix.by/download/law/eula_cp.pdf', 'kz' => 'https://www.1c-bitrix.kz/download/law/eula_cp.pdf', 'en' => 'https://www.bitrix24.com/eula/', 'br' => 'https://www.bitrix24.com.br/eula/', 'fr' => 'https://www.bitrix24.fr/eula/', 'pl' => 'https://www.bitrix24.pl/eula/', 'it' => 'https://www.bitrix24.it/eula/', 'la' => 'https://www.bitrix24.es/eula/',]; public const URL_RENEWAL_LICENSE=[ 'com' => 'https://store.bitrix24.com/profile/license-keys.php', 'eu' => 'https://store.bitrix24.eu/profile/license-keys.php', 'de' => 'https://store.bitrix24.de/profile/license-keys.php', 'ru' => 'https://www.1c-bitrix.ru/buy/products/b24.php#tab-section-2', 'by' => 'https://www.1c-bitrix.by/buy/products/b24.php#tab-section-2', 'kz' => 'https://www.1c-bitrix.kz/buy/products/b24.php#tab-section-2',]; public function getKey(): string{ if($this->_595460108 === null){ $_1891381360= Loader::getDocumentRoot(). ___867651080(0); $LICENSE_KEY= ___867651080(1); if($GLOBALS['____284200717'][0]($_1891381360)){ include($_1891381360);} $this->_595460108=($LICENSE_KEY == ___867651080(2) || $GLOBALS['____284200717'][1]($LICENSE_KEY) == ___867651080(3)? ___867651080(4): $LICENSE_KEY);} return $this->_595460108;} public function getHashLicenseKey(): string{ return $GLOBALS['____284200717'][2]($this->getKey());} public function getPublicHashKey(): string{ return $GLOBALS['____284200717'][3](___867651080(5). $this->getKey(). ___867651080(6));} public function isDemoKey(): bool{ return $this->getKey() == ___867651080(7);} public function getBuyLink(): string{ return $this->getDomainStoreLicense(). ___867651080(8). $this->getHashLicenseKey(). ___867651080(9). LANGUAGE_ID;} public function getDocumentationLink(): string{ $_543661049= $this->getRegion(); if($GLOBALS['____284200717'][4]($_543661049,[___867651080(10), ___867651080(11), ___867651080(12)])){ return ___867651080(13);} return ___867651080(14);} public function getRenewalLink(): string{ $_543661049= $this->getRegion(); if($GLOBALS['____284200717'][5]($_543661049,[___867651080(15), ___867651080(16), ___867651080(17), ___867651080(18)])){ return self::URL_RENEWAL_LICENSE[$_543661049];} if($GLOBALS['____284200717'][6]($_543661049,[___867651080(19), ___867651080(20), ___867651080(21), ___867651080(22), ___867651080(23)])){ return self::URL_RENEWAL_LICENSE[___867651080(24)];} return self::URL_RENEWAL_LICENSE[___867651080(25)];} public function getDomainStoreLicense(): string{ return self::DOMAINS_STORE_LICENSE[$this->getRegion()] ?? self::DOMAINS_STORE_LICENSE[___867651080(26)];} public function isDemo(): bool{ return $GLOBALS['____284200717'][7](___867651080(27)) && DEMO === ___867651080(28);} public function isTimeBound(): bool{ return $GLOBALS['____284200717'][8](___867651080(29)) && TIMELIMIT_EDITION === ___867651080(30);} public function isEncoded(): bool{ return $GLOBALS['____284200717'][9](___867651080(31)) && ENCODE === ___867651080(32);} public function getExpireDate():?Date{ $_1777305592= (int)($GLOBALS[___867651080(33)] ??(822-2*411)); if($_1777305592> min(246,0,82)){ return Date::createFromTimestamp($_1777305592);} return null;} public function getSupportExpireDate():?Date{ $_1777305592= Option::get(___867651080(34), ___867651080(35)); if(Date::isCorrect($_1777305592, ___867651080(36))){ return new Date($_1777305592, ___867651080(37));} return null;} public function getRegion():?string{ if(Loader::includeModule(___867651080(38))){ return \CBitrix24::getPortalZone();} $_543661049= Option::get(___867651080(39), ___867651080(40)); if(!empty($_543661049)){ return $_543661049;} $_543661049= $this->__1596498740(); if(!empty($_543661049)){ return $_543661049;} return $this->__1949960455();} public function getEulaLink(): string{ if(ModuleManager::isModuleInstalled(___867651080(41))){ return self::URL_CP_EULA[$this->getRegion()] ?? self::URL_CP_EULA[___867651080(42)];} return self::URL_BUS_EULA[$this->getRegion()] ?? self::URL_BUS_EULA[___867651080(43)];} private function __1596498740():?string{ $_138713168= Option::get(___867651080(44), ___867651080(45)); if($_138713168 === ___867651080(46)){ return ___867651080(47);} if($_138713168 === ___867651080(48)){ return ___867651080(49);} return null;} private function __1949960455():?string{ $_171404477= Application::getDocumentRoot(); if($GLOBALS['____284200717'][10]($_171404477. ___867651080(50))){ return ___867651080(51);} if($GLOBALS['____284200717'][11]($_171404477. ___867651080(52))){ return ___867651080(53);} if($GLOBALS['____284200717'][12]($_171404477. ___867651080(54))){ return ___867651080(55);} if($GLOBALS['____284200717'][13]($_171404477. ___867651080(56))){ return ___867651080(57);} return null;} public function getPartnerId(): int{ return (int)Option::get(___867651080(58), ___867651080(59),(1300/2-650));} public function getMaxUsers(): int{ return (int)Option::get(___867651080(60), ___867651080(61), min(142,0,47.333333333333));} public function isExtraCountable(): bool{ return Option::get(___867651080(62), ___867651080(63), ___867651080(64)) === ___867651080(65) && ModuleManager::isModuleInstalled(___867651080(66));} public function getActiveUsersCount(Date $_1500103887= null): int{ $_1740094575= Application::getConnection(); $_375779883=(1176/2-588); if($_1500103887 !== null){  $_892261756= ___867651080(67).$_1740094575->getSqlHelper()->convertToDbDate($_1500103887);} else{  $_892261756= ___867651080(68);} if(ModuleManager::isModuleInstalled(___867651080(69))){ $_1482741351="
				SELECT COUNT(DISTINCT U.ID)
				FROM
					b_user U
					INNER JOIN b_user_field F ON F.ENTITY_ID = 'USER' AND F.FIELD_NAME = 'UF_DEPARTMENT'
					INNER JOIN b_utm_user UF ON
						UF.FIELD_ID = F.ID
						AND UF.VALUE_ID = U.ID
						AND UF.VALUE_INT > 0
				WHERE U.ACTIVE = 'Y'
					{$_892261756}
			"; $_375779883= (int)$_1740094575->queryScalar($_1482741351); $_770771350= (int)Option::get(___867651080(70), ___867651080(71)); if($_770771350>(1472/2-736) && $this->isExtraCountable()){ $_1482741351="
						SELECT COUNT(1)
						FROM
							b_user U
							INNER JOIN b_extranet_user EU ON EU.USER_ID = U.ID AND EU.CHARGEABLE = 'Y'
							INNER JOIN b_user_group UG ON UG.USER_ID = U.ID AND UG.GROUP_ID = {$_770771350}
							LEFT JOIN (
								SELECT UF.VALUE_ID 
								FROM 
									b_user_field F
									INNER JOIN b_utm_user UF ON UF.FIELD_ID = F.ID AND UF.VALUE_INT > 0
								WHERE F.ENTITY_ID = 'USER' AND F.FIELD_NAME = 'UF_DEPARTMENT'
							) D ON D.VALUE_ID = U.ID
						WHERE U.ACTIVE = 'Y'
							{$_892261756}
							AND D.VALUE_ID IS NULL
					"; $_375779883 += (int)$_1740094575->queryScalar($_1482741351);}} return $_375779883;}  public function getName(): string{ return Option::get(___867651080(72), ___867651080(73));}  public function getCodes(): array{ $_276872773= Option::get(___867651080(74), ___867651080(75)); if($_276872773 != ___867651080(76)){ return $GLOBALS['____284200717'][14](___867651080(77), $_276872773);} return[];}}?>