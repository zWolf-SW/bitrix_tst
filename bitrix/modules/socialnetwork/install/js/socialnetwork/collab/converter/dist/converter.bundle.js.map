{"version":3,"file":"converter.bundle.js","sources":["../src/error/error-popup.js","../src/service/mappers.js","../src/service/api.js","../src/wizard/component/loader.js","../src/wizard/component/group-avatar.js","../src/wizard/component/steps/advantage.js","../src/wizard/component/user/user-avatar.js","../src/wizard/component/user/avatars-row.js","../src/wizard/component/user/user-list.js","../src/wizard/component/steps/step.js","../src/wizard/component/steps/step-advantages.js","../src/wizard/component/steps/step-after.js","../src/wizard/component/steps/step-features.js","../src/wizard/component/app.js","../src/wizard/wizard.js","../src/converter.js"],"sourcesContent":["import { Popup } from 'main.popup';\nimport { Tag, Loc, Event } from 'main.core';\nimport { SidePanel } from 'main.sidepanel';\nimport { AirButtonStyle, Button, ButtonSize } from 'ui.buttons';\nimport { Outline } from 'ui.icon-set.api.core';\nimport './error-popup.css';\n\nexport type WarningPopupParams = {\n\tgroupId: number,\n\terrors: Array<Object>,\n};\n\ntype PopupContentConfig = {\n\theader: String,\n\tdescriptionParagraphs: Array<String>,\n\thelperCode: ?Number,\n\tbuttons: Array<Button>,\n};\n\nexport class ErrorPopup\n{\n\tERROR_CODE_HAS_FLOWS = 10002;\n\tERROR_CODE_LANDING_GROUP = 10003;\n\n\t#groupId: number;\n\t#errors: Array<Object>;\n\t#popup: Popup = null;\n\n\tconstructor(params: WarningPopupParams)\n\t{\n\t\tthis.#groupId = params.groupId;\n\t\tthis.#errors = this.#prepareErrors(params.errors);\n\t}\n\n\t#prepareErrors(errors: Array<Object>): Array<Object>\n\t{\n\t\tconst supportedErrors = errors.filter(\n\t\t\t(error) => [this.ERROR_CODE_HAS_FLOWS, this.ERROR_CODE_LANDING_GROUP].includes(error.code),\n\t\t);\n\n\t\tif (errors.length > supportedErrors.length)\n\t\t{\n\t\t\tconst unsupportedErrors = errors.filter(\n\t\t\t\t(error) => ![this.ERROR_CODE_HAS_FLOWS, this.ERROR_CODE_LANDING_GROUP].includes(error.code),\n\t\t\t);\n\t\t\tconsole.error('Unexpected errors', unsupportedErrors);\n\t\t}\n\n\t\treturn supportedErrors;\n\t}\n\n\tshow()\n\t{\n\t\tthis.#getPopup().show();\n\t}\n\n\t#getPopup(): Popup\n\t{\n\t\tif (!this.#popup)\n\t\t{\n\t\t\tthis.#popup = new Popup({\n\t\t\t\tcacheable: false,\n\t\t\t\twidth: 400,\n\t\t\t\tborderRadius: 'var(--ui-border-radius-3xl)',\n\t\t\t\tangle: false,\n\t\t\t\tcloseIcon: false,\n\t\t\t\tcontent: this.#renderPopupContent(),\n\t\t\t\tcloseByEsc: false,\n\t\t\t\tautoHide: false,\n\t\t\t\tpadding: 18,\n\t\t\t\tcontentPadding: 0,\n\t\t\t\toverlay: true,\n\t\t\t\tclassName: 'socialnetwork-collab-converter-error-popup',\n\t\t\t});\n\t\t}\n\n\t\treturn this.#popup;\n\t}\n\n\t#renderPopupContent(): HTMLElement\n\t{\n\t\tconst config = this.#getContentConfig();\n\n\t\treturn Tag.render`\n\t\t\t<div class=\"socialnetwork-collab-converter-error-popup-content\">\n\t\t\t\t${this.#renderHeader(config)}\n\t\t\t\t${this.#renderDescription(config)}\n\t\t\t\t${this.#renderLinkMore(config)}\n\t\t\t\t${this.#renderButtons(config)}\n\t\t\t</div>\n\t\t`;\n\t}\n\n\t#renderHeader(config: PopupContentConfig): HTMLElement\n\t{\n\t\tconst headerText = config.header.length > 0\n\t\t\t? Tag.render`<div class=\"socialnetwork-collab-converter-error-popup-header-text\">${config.header}</div>`\n\t\t\t: ''\n\t\t;\n\n\t\tconst closeIcon = Tag.render`\n\t\t\t<div class=\"ui-icon-set --${Outline.CROSS_L} socialnetwork-collab-converter-error-popup-close-icon\"/>\n\t\t`;\n\n\t\tEvent.bind(closeIcon, 'click', () => this.#popup?.close());\n\n\t\treturn Tag.render`\n\t\t\t<div class=\"socialnetwork-collab-converter-error-popup-header\">\n\t\t\t\t${headerText}\n\t\t\t\t${closeIcon}\n\t\t\t</div>\n\t\t`;\n\t}\n\n\t#renderDescription(config: PopupContentConfig): HTMLElement\n\t{\n\t\tconst nodes = [];\n\n\t\tconfig.descriptionParagraphs.forEach((paragraph) => {\n\t\t\tconst node = Tag.render`\n\t\t\t\t<div class=\"socialnetwork-collab-converter-error-popup-description-paragraph\">\n\t\t\t\t\t${paragraph}\n\t\t\t\t</div>\n\t\t\t`;\n\t\t\tnodes.push(node);\n\t\t});\n\n\t\treturn Tag.render`\n\t\t\t<div class=\"socialnetwork-collab-converter-error-popup-description\">\n\t\t\t\t${nodes}\n\t\t\t</div>\n\t\t`;\n\t}\n\n\t#renderLinkMore(config: PopupContentConfig): ?HTMLElement\n\t{\n\t\tif (!config.helperCode)\n\t\t{\n\t\t\treturn null;\n\t\t}\n\n\t\tconst node = Tag.render`\n\t\t\t<div class=\"socialnetwork-collab-converter-error-popup-link-more\">\n\t\t\t\t<div class=\"ui-icon-set --${Outline.KNOWLEDGE_BASE} socialnetwork-collab-converter-error-popup-link-more-icon\"></div>\n\t\t\t\t<div class=\"socialnetwork-collab-converter-error-popup-link-more-text\">\n\t\t\t\t\t${Loc.getMessage('SN_COLLAB_CONVERTER_LINK_MORE')}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\n\t\tEvent.bind(node, 'click', () => BX.Helper.show(`redirect=detail&code=${config.helperCode}`));\n\n\t\treturn node;\n\t}\n\n\t#renderButtons(config: PopupContentConfig): HTMLElement\n\t{\n\t\treturn Tag.render`\n\t\t\t<div class=\"socialnetwork-collab-converter-error-popup-buttons\">\n\t\t\t\t${config.buttons.map((button: Button) => button.render())}\n\t\t\t</div>\n\t\t`;\n\t}\n\n\t#getContentConfig(): ?PopupContentConfig\n\t{\n\t\tlet config: PopupContentConfig = null;\n\n\t\tif (this.#hasMultipleErrors())\n\t\t{\n\t\t\tconfig = this.#getMultipleErrorsPopupConfig();\n\t\t}\n\t\telse if (this.#hasOnlyFlowError())\n\t\t{\n\t\t\tconfig = this.#getOnlyFlowErrorPopupConfig();\n\t\t}\n\t\telse if (this.#hasOnlyLandingError())\n\t\t{\n\t\t\tconfig = this.#getOnlyLandingErrorPopupConfig();\n\t\t}\n\n\t\treturn config;\n\t}\n\n\t#getMultipleErrorsPopupConfig(): PopupContentConfig\n\t{\n\t\tconst closeButton = new Button({\n\t\t\tuseAirDesign: true,\n\t\t\tnoCaps: true,\n\t\t\tsize: ButtonSize.LARGE,\n\t\t\ttext: Loc.getMessage('SN_COLLAB_CONVERTER_GET_IT'),\n\t\t\tonclick: () => this.#popup?.close(),\n\t\t});\n\n\t\treturn {\n\t\t\theader: '',\n\t\t\tdescriptionParagraphs: [\n\t\t\t\tLoc.getMessage('SN_COLLAB_CONVERTER_ERROR_POPUP_CONTENT_MULTIPLE'),\n\t\t\t],\n\t\t\thelperCode: '25356654#int',\n\t\t\tbuttons: [\n\t\t\t\tcloseButton,\n\t\t\t],\n\t\t};\n\t}\n\n\t#getOnlyFlowErrorPopupConfig(): PopupContentConfig\n\t{\n\t\tconst flowsLink = Loc.getMessage('SN_COLLAB_CONVERTER_FLOW_URL_TEMPLATE', {\n\t\t\t'#groupId#': this.#groupId,\n\t\t});\n\n\t\tconst clickHandler = (event) => {\n\t\t\tSidePanel.Instance.open(flowsLink);\n\t\t\tthis.#popup?.close();\n\t\t};\n\n\t\tconst openFlowsButton = new Button({\n\t\t\tuseAirDesign: true,\n\t\t\tnoCaps: true,\n\t\t\tsize: ButtonSize.LARGE,\n\t\t\ttext: Loc.getMessage('SN_COLLAB_CONVERTER_ERROR_POPUP_BUTTON_CONFIRM_FLOWS'),\n\t\t\tonclick: clickHandler,\n\t\t});\n\n\t\tconst cancelButton = new Button({\n\t\t\tuseAirDesign: true,\n\t\t\tnoCaps: true,\n\t\t\tstyle: AirButtonStyle.OUTLINE,\n\t\t\tsize: ButtonSize.LARGE,\n\t\t\ttext: Loc.getMessage('SN_COLLAB_CONVERTER_CANCEL'),\n\t\t\tonclick: () => this.#popup?.close(),\n\t\t});\n\n\t\treturn {\n\t\t\theader: Loc.getMessage('SN_COLLAB_CONVERTER_ERROR_POPUP_TITLE_FLOWS'),\n\t\t\tdescriptionParagraphs: [\n\t\t\t\tLoc.getMessage('SN_COLLAB_CONVERTER_ERROR_POPUP_CONTENT_FLOWS'),\n\t\t\t],\n\t\t\thelperCode: 21_307_012,\n\t\t\tbuttons: [\n\t\t\t\topenFlowsButton,\n\t\t\t\tcancelButton,\n\t\t\t],\n\t\t};\n\t}\n\n\t#getOnlyLandingErrorPopupConfig(): PopupContentConfig\n\t{\n\t\tconst openSettingsButton = new Button({\n\t\t\tuseAirDesign: true,\n\t\t\tnoCaps: true,\n\t\t\tsize: ButtonSize.LARGE,\n\t\t\ttext: Loc.getMessage('SN_COLLAB_CONVERTER_ERROR_POPUP_BUTTON_CONFIRM_LANDING'),\n\t\t\tlink: `${Loc.getMessage('SN_COLLAB_CONVERTER_GROUP_URL')}group/${this.#groupId}/edit/`,\n\t\t\tonclick: () => this.#popup?.close(),\n\t\t});\n\n\t\tconst cancelButton = new Button({\n\t\t\tuseAirDesign: true,\n\t\t\tnoCaps: true,\n\t\t\tstyle: AirButtonStyle.OUTLINE,\n\t\t\tsize: ButtonSize.LARGE,\n\t\t\ttext: Loc.getMessage('SN_COLLAB_CONVERTER_CANCEL'),\n\t\t\tonclick: () => this.#popup?.close(),\n\t\t});\n\n\t\treturn {\n\t\t\theader: Loc.getMessage('SN_COLLAB_CONVERTER_ERROR_POPUP_TITLE_LANDING'),\n\t\t\tdescriptionParagraphs: [\n\t\t\t\tLoc.getMessage('SN_COLLAB_CONVERTER_ERROR_POPUP_CONTENT_LANDING_1', {\n\t\t\t\t\t'#ACCENT_START#': '<span class=\"socialnetwork-collab-converter-error-popup-description-paragraph-accent\">',\n\t\t\t\t\t'#ACCENT_END#': '</span>',\n\t\t\t\t}),\n\t\t\t\tLoc.getMessage('SN_COLLAB_CONVERTER_ERROR_POPUP_CONTENT_LANDING_2'),\n\t\t\t],\n\t\t\thelperCode: 22_699_004,\n\t\t\tbuttons: [\n\t\t\t\topenSettingsButton,\n\t\t\t\tcancelButton,\n\t\t\t],\n\t\t};\n\t}\n\n\t#hasMultipleErrors(): boolean\n\t{\n\t\treturn this.#errors.length > 1;\n\t}\n\n\t#hasOnlyFlowError(): boolean\n\t{\n\t\treturn this.#errors.length === 1 && this.#errors[0].code === this.ERROR_CODE_HAS_FLOWS;\n\t}\n\n\t#hasOnlyLandingError(): boolean\n\t{\n\t\treturn this.#errors.length === 1 && this.#errors[0].code === this.ERROR_CODE_LANDING_GROUP;\n\t}\n}\n","import type { Group, Member, Feature, MemberDto, FeatureDto } from './types';\n\nexport function mapMemberDtoToModel(memberDto: MemberDto): Member\n{\n\tconst role = {\n\t\ttrue: 'member',\n\t\t[memberDto.isModerator || memberDto.isScrumMaster]: 'moderator',\n\t\t[memberDto.isOwner]: 'owner',\n\t}.true;\n\n\treturn {\n\t\tid: memberDto.id,\n\t\tavatar: memberDto.photo,\n\t\trole,\n\t};\n}\n\nexport function mapFeatureDtoToModel(featureDto: FeatureDto): Feature\n{\n\treturn {\n\t\tname: featureDto.featureName,\n\t\tisActive: featureDto.active,\n\t};\n}\n\nexport function mapGroupDtoToModel(groupDto): Group\n{\n\tconst avatarType = groupDto.AVATAR_TYPE;\n\tconst avatarTypes = groupDto.AVATAR_TYPES;\n\tconst image = groupDto.AVATAR || avatarTypes?.[avatarType]?.entitySelectorUrl || '';\n\n\treturn {\n\t\tid: groupDto.ID,\n\t\tname: groupDto.NAME,\n\t\timage,\n\t\tmembers: groupDto.LIST_OF_MEMBERS.map((memberDto: MemberDto) => mapMemberDtoToModel(memberDto)),\n\t\tfeatures: groupDto.FEATURES.map((featureDto) => mapFeatureDtoToModel(featureDto)),\n\t};\n}\n","import { ajax } from 'main.core';\nimport { mapGroupDtoToModel } from './mappers';\n\nclass Api\n{\n\tasync validateGroup(groupId: number): Promise<boolean>\n\t{\n\t\tconst result = await ajax.runAction('socialnetwork.collab.Converter.validateGroup', {\n\t\t\tdata: {\n\t\t\t\tid: groupId,\n\t\t\t},\n\t\t});\n\n\t\treturn {\n\t\t\tisValid: result.data.isValid,\n\t\t\terrors: result.errors,\n\t\t};\n\t}\n\n\tasync getGroup(groupId: number): Promise<void>\n\t{\n\t\tconst result = await ajax.runAction('socialnetwork.api.workgroup.get', {\n\t\t\tdata: {\n\t\t\t\tparams: {\n\t\t\t\t\tgroupId,\n\t\t\t\t\tselect: [\n\t\t\t\t\t\t'LIST_OF_MEMBERS',\n\t\t\t\t\t\t'AVATAR',\n\t\t\t\t\t\t'AVATAR_TYPES',\n\t\t\t\t\t\t'FEATURES',\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\n\t\treturn mapGroupDtoToModel(result.data);\n\t}\n\n\tasync convertToCollab(groupId: number): Promise<void>\n\t{\n\t\tconst result = await ajax.runAction('socialnetwork.collab.Converter.convertToCollab', {\n\t\t\tdata: {\n\t\t\t\tid: groupId,\n\t\t\t},\n\t\t});\n\n\t\treturn result.data;\n\t}\n}\n\nexport const api = new Api();\n","import { Loader as UILoader } from 'ui.loader';\n\ntype LoaderOptions = {\n\ttarget: HTMLElement,\n\ttype: string,\n\tsize: string,\n}\n\n//TODO: move to ui\n\n// @vue/component\nexport const Loader = {\n\tprops: {\n\t\toptions: {\n\t\t\ttype: Object,\n\t\t\tdefault: null,\n\t\t},\n\t},\n\tmounted(): void\n\t{\n\t\tthis.loader = new UILoader(this.getOptions());\n\t\tthis.loader.render();\n\t\tthis.loader.show();\n\t},\n\tbeforeUnmount(): void\n\t{\n\t\tthis.loader?.hide?.();\n\t\tthis.loader = null;\n\t},\n\tmethods: {\n\t\tgetOptions(): LoaderOptions\n\t\t{\n\t\t\treturn { ...this.getDefaultOptions(), ...this.options };\n\t\t},\n\t\tgetDefaultOptions(): LoaderOptions\n\t\t{\n\t\t\treturn {\n\t\t\t\ttarget: this.$refs.loader,\n\t\t\t\ttype: 'BULLET',\n\t\t\t\tsize: 'xl',\n\t\t\t};\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"socialnetwork-collab-converter-wizard-loader-container\" ref=\"loader\"></div>\n\t`,\n};\n","import { AvatarHexagonGuest } from 'ui.avatar';\nimport type { Group } from '../../service/types';\n\n// @vue/component\nexport const GroupAvatar = {\n\tprops: {\n\t\tgroup: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tsize: {\n\t\t\ttype: Number,\n\t\t\tdefault: 48,\n\t\t},\n\t},\n\tmounted(): void\n\t{\n\t\tconst group: Group = this.group;\n\t\tconst avatar = new AvatarHexagonGuest({\n\t\t\tsize: this.size,\n\t\t\tuserName: group.name,\n\t\t\tuserpicPath: group.image,\n\t\t});\n\n\t\treturn avatar.renderTo(this.$refs.container);\n\t},\n\ttemplate: `\n\t\t<div class=\"socialnetwork-collab-converter-wizard-group-avatar\" ref=\"container\"/>\n\t`,\n};\n","import { BIcon } from 'ui.icon-set.api.vue';\n\nexport const Advantage = {\n\tcomponents: {\n\t\tBIcon,\n\t},\n\tprops: {\n\t\ticon: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\ticonColor: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\ttitle: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\tdescription: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"socialnetwork-collab-converter-wizard-advantage --slide\">\n\t\t\t<BIcon :name=\"icon\" :color=\"iconColor\" :size=\"28\"/>\n\t\t\t<div class=\"socialnetwork-collab-converter-wizard-advantage-content\">\n\t\t\t\t<div class=\"socialnetwork-collab-converter-wizard-advantage-content-title\" v-html=\"title\"/>\n\t\t\t\t<div\n\t\t\t\t\tv-if=\"description.length > 0\"\n\t\t\t\t\tclass=\"socialnetwork-collab-converter-wizard-advantage-content-description\"\n\t\t\t\t\tv-html=\"description\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t`,\n};\n","import { AvatarBase } from 'ui.avatar';\n\n// @vue/component\nexport const UserAvatar = {\n\tprops: {\n\t\tsrc: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t},\n\t\tsize: {\n\t\t\ttype: Number,\n\t\t\tdefault: 14,\n\t\t},\n\t},\n\tcreated(): void\n\t{\n\t\tthis.avatar = new AvatarBase({\n\t\t\tsize: this.size,\n\t\t\tpicPath: this.src,\n\t\t\tbaseColor: '#858D95',\n\t\t});\n\t},\n\tmounted(): void\n\t{\n\t\tif (this.avatar && this.$refs.container)\n\t\t{\n\t\t\tthis.avatar.renderTo(this.$refs.container);\n\t\t}\n\t},\n\ttemplate: `\n\t\t<div class=\"socialnetwork-collab-converter-wizard-user-list-avatar\" ref=\"container\"/>\n\t`,\n};\n","import { UserAvatar } from './user-avatar';\n\n// @vue/component\nexport const AvatarsRow = {\n\tcomponents: {\n\t\tUserAvatar,\n\t},\n\tprops: {\n\t\tusers: {\n\t\t\ttype: Array,\n\t\t\tdefault: () => [],\n\t\t},\n\t\tmaxToShow: {\n\t\t\ttype: Number,\n\t\t\tdefault: 5,\n\t\t},\n\t\tborderColor: {\n\t\t\ttype: String,\n\t\t\tdefault: 'transparent',\n\t\t},\n\t},\n\tcomputed: {\n\t\trowUsers(): Array<Object>\n\t\t{\n\t\t\treturn this.users.slice(0, this.maxToShow);\n\t\t},\n\t\tnotShownAmount(): number\n\t\t{\n\t\t\treturn this.users.length - this.rowUsers.length;\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"socialnetwork-collab-converter-wizard-user-list-pill\" :style=\"{'border-color': borderColor}\">\n\t\t\t<UserAvatar v-for=\"user in rowUsers\" :src=\"user.avatar\"/>\n\t\t\t<div v-if=\"notShownAmount\" class=\"socialnetwork-collab-converter-wizard-user-list-not-shown\">+{{notShownAmount}}</div>\n\t\t</div>\n\t`,\n};\n","import { UserAvatar } from './user-avatar';\nimport { AvatarsRow } from './avatars-row';\n\n// @vue/component\nexport const UserList = {\n\tcomponents: {\n\t\tUserAvatar,\n\t\tAvatarsRow,\n\t},\n\tprops: {\n\t\thostUsers: {\n\t\t\ttype: Array,\n\t\t\tdefault: () => [],\n\t\t},\n\t\tcommonUsers: {\n\t\t\ttype: Array,\n\t\t\tdefault: () => [],\n\t\t},\n\t\tmaxToShow: {\n\t\t\ttype: Number,\n\t\t\tdefault: 5,\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"socialnetwork-collab-converter-wizard-user-list\">\n\t\t\t<AvatarsRow v-if=\"hostUsers.length > 0\" :users=\"hostUsers\" :borderColor=\"'var(--ui-color-accent-main-success, #1BCE7B)'\"/>\n\t\t\t<AvatarsRow v-if=\"commonUsers.length > 0\" :users=\"commonUsers\" :borderColor=\"'var(--ui-color-divider-default, #F0F0F0)'\"/>\n\t\t</div>\n\t`,\n};\n","import { Button as UiButton, AirButtonStyle, ButtonSize } from 'ui.vue3.components.button';\nimport { Outline } from 'ui.icon-set.api.core';\nimport { BIcon } from 'ui.icon-set.api.vue';\nimport 'ui.icon-set.outline';\n\nexport const Step = {\n\tcomponents: {\n\t\tBIcon,\n\t\tUiButton,\n\t},\n\tprops: {\n\t\ttitle: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\tprimaryButtonText: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\talertText: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t},\n\t},\n\tsetup(): Object\n\t{\n\t\treturn {\n\t\t\tAirButtonStyle,\n\t\t\tButtonSize,\n\t\t\tOutline,\n\t\t};\n\t},\n\temits: ['continue', 'close'],\n\ttemplate: `\n\t\t<div class=\"socialnetwork-collab-converter-wizard-step\">\n\t\t\t<div class=\"socialnetwork-collab-converter-wizard-step-content\">\n\t\t\t\t<div class=\"socialnetwork-collab-converter-wizard-step-title\">\n\t\t\t\t\t{{ title }}\n\t\t\t\t</div>\n\t\t\t\t<slot/>\n\t\t\t</div>\n\t\t\t<div class=\"socialnetwork-collab-converter-wizard-step-footer\">\n\t\t\t\t<div v-if=\"alertText.length > 0\" class=\"socialnetwork-collab-converter-wizard-step-footer-alert\">\n\t\t\t\t\t<BIcon :name=\"Outline.ALERT\" :size=\"16\" :color=\"'var(--ui-color-accent-main-warning, #FAA72C)'\"/>\n\t\t\t\t\t<div class=\"socialnetwork-collab-converter-wizard-step-footer-alert-text\" v-html=\"alertText\"/>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"socialnetwork-collab-converter-wizard-step-footer-buttons\">\n\t\t\t\t\t<UiButton\n\t\t\t\t\t\t:text=\"primaryButtonText\"\n\t\t\t\t\t\t:size=\"ButtonSize.LARGE\"\n\t\t\t\t\t\t@click=\"$emit('continue')\"\n\t\t\t\t\t\tdata-test-id=\"socialnetwork-collab-converter-continue-button\"\n\t\t\t\t\t/>\n\t\t\t\t\t<UiButton\n\t\t\t\t\t\t:text=\"loc('SN_COLLAB_CONVERTER_CANCEL')\"\n\t\t\t\t\t\t:size=\"ButtonSize.LARGE\"\n\t\t\t\t\t\t:style=\"AirButtonStyle.OUTLINE\"\n\t\t\t\t\t\t@click=\"$emit('close')\"\n\t\t\t\t\t\tdata-test-id=\"socialnetwork-collab-converter-cancel-button\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t`,\n};\n","import { Outline } from 'ui.icon-set.api.core';\nimport { Button as UiButton, AirButtonStyle, ButtonSize } from 'ui.vue3.components.button';\nimport 'ui.icon-set.outline';\n\nimport { Advantage } from './advantage';\nimport { Step } from './step';\n\nexport const StepAdvantages = {\n\tcomponents: {\n\t\tUiButton,\n\t\tAdvantage,\n\t\tStep,\n\t},\n\tsetup(): Object\n\t{\n\t\treturn {\n\t\t\tAirButtonStyle,\n\t\t\tButtonSize,\n\t\t};\n\t},\n\temits: ['continue', 'close'],\n\tcomputed: {\n\t\tadvantages(): Array<Object>\n\t\t{\n\t\t\treturn [\n\t\t\t\t{\n\t\t\t\t\ticon: Outline.MESSAGES,\n\t\t\t\t\ticonColor: 'var(--ui-color-accent-main-primary, #0075FF)',\n\t\t\t\t\ttitle: this.loc('SN_COLLAB_CONVERTER_STEP_ADVANTAGES_ADVANTAGE_CHAT_TITLE'),\n\t\t\t\t\tdescription: this.loc('SN_COLLAB_CONVERTER_STEP_ADVANTAGES_ADVANTAGE_CHAT_DESCRIPTION'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ticon: Outline.SUITCASE,\n\t\t\t\t\ticonColor: 'var(--ui-color-accent-extra-aqua, #37C5D8)',\n\t\t\t\t\ttitle: this.loc('SN_COLLAB_CONVERTER_STEP_ADVANTAGES_ADVANTAGE_DISCUSSION_TITLE'),\n\t\t\t\t\tdescription: this.loc('SN_COLLAB_CONVERTER_STEP_ADVANTAGES_ADVANTAGE_DISCUSSION_DESCRIPTION'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ticon: Outline.WINDOW_FLAG,\n\t\t\t\t\ticonColor: 'var(--ui-color-accent-soft-element-green, #02BB9A)',\n\t\t\t\t\ttitle: this.loc('SN_COLLAB_CONVERTER_STEP_ADVANTAGES_ADVANTAGE_FAST_TITLE'),\n\t\t\t\t\tdescription: this.loc('SN_COLLAB_CONVERTER_STEP_ADVANTAGES_ADVANTAGE_FAST_DESCRIPTION'),\n\t\t\t\t},\n\t\t\t];\n\t\t},\n\t},\n\ttemplate: `\n\t\t<Step\n\t\t\t:title=\"loc('SN_COLLAB_CONVERTER_STEP_ADVANTAGES_TITLE')\"\n\t\t\t:primaryButtonText=\"loc('SN_COLLAB_CONVERTER_CONTINUE')\"\n\t\t\t@continue=\"$emit('continue')\"\n\t\t\t@close=\"$emit('close')\"\n\t\t>\n\t\t\t<div class=\"socialnetwork-collab-converter-wizard-advantages\">\n\t\t\t\t<Advantage\n\t\t\t\t\tv-for=\"(advantage, index) in advantages\"\n\t\t\t\t\t:icon=\"advantage.icon\"\n\t\t\t\t\t:iconColor=\"advantage.iconColor\"\n\t\t\t\t\t:title=\"advantage.title\"\n\t\t\t\t\t:description=\"advantage.description\"\n\t\t\t\t\t:style=\"{'--i': index}\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</Step>\n\t`,\n};\n","import { Outline } from 'ui.icon-set.api.core';\nimport { Button as UiButton, AirButtonStyle, ButtonSize } from 'ui.vue3.components.button';\nimport 'ui.icon-set.outline';\n\nimport { Advantage } from './advantage';\nimport { Step } from './step';\n\nexport const StepAfter = {\n\tcomponents: {\n\t\tUiButton,\n\t\tAdvantage,\n\t\tStep,\n\t},\n\tsetup(): Object\n\t{\n\t\treturn {\n\t\t\tAirButtonStyle,\n\t\t\tButtonSize,\n\t\t\tOutline,\n\t\t};\n\t},\n\temits: ['continue', 'close'],\n\tcomputed: {\n\t\tadvantages(): Array<Object>\n\t\t{\n\t\t\treturn [\n\t\t\t\t{\n\t\t\t\t\ticon: Outline.SHUFFLE,\n\t\t\t\t\ticonColor: 'var(--ui-color-collab-accent-primary-alt, #00A94E)',\n\t\t\t\t\ttitle: this.loc('SN_COLLAB_CONVERTER_STEP_AFTER_ADVANTAGE_COLLABORATION_TITLE'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ticon: Outline.TASK_LIST,\n\t\t\t\t\ticonColor: 'var(--ui-color-collab-accent-primary-alt, #00A94E)',\n\t\t\t\t\ttitle: this.loc('SN_COLLAB_CONVERTER_STEP_AFTER_ADVANTAGE_DISCUSSION_TITLE'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ticon: Outline.CHATS_WITH_CHECK,\n\t\t\t\t\ticonColor: 'var(--ui-color-collab-accent-primary-alt, #00A94E)',\n\t\t\t\t\ttitle: this.loc('SN_COLLAB_CONVERTER_STEP_AFTER_ADVANTAGE_FAST_TITLE'),\n\t\t\t\t},\n\t\t\t];\n\t\t},\n\t},\n\ttemplate: `\n\t\t<Step\n\t\t\t:title=\"loc('SN_COLLAB_CONVERTER_STEP_AFTER_TITLE')\"\n\t\t\t:primaryButtonText=\"loc('SN_COLLAB_CONVERTER_START')\"\n\t\t\t:alertText=\"loc('SN_COLLAB_CONVERTER_ALERT')\"\n\t\t\t@continue=\"$emit('continue')\"\n\t\t\t@close=\"$emit('close')\"\n\t\t>\n\t\t\t<div class=\"socialnetwork-collab-converter-wizard-advantages\">\n\t\t\t\t<Advantage\n\t\t\t\t\tv-for=\"(advantage, index) in advantages\"\n\t\t\t\t\t:icon=\"advantage.icon\"\n\t\t\t\t\t:iconColor=\"advantage.iconColor\"\n\t\t\t\t\t:title=\"advantage.title\"\n\t\t\t\t\t:description=\"advantage.description\"\n\t\t\t\t\t:style=\"{'--i': index}\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</Step>\n\t`,\n};\n","import { Outline, BIcon } from 'ui.icon-set.api.core';\nimport { Button as UiButton, AirButtonStyle, ButtonSize } from 'ui.vue3.components.button';\nimport 'ui.icon-set.outline';\n\nimport { Advantage } from './advantage';\nimport { Step } from './step';\n\nimport type { Feature } from '../../../service/types';\n\nexport const StepFeatures = {\n\tcomponents: {\n\t\tUiButton,\n\t\tAdvantage,\n\t\tStep,\n\t\tBIcon,\n\t},\n\tprops: {\n\t\tfeatures: {\n\t\t\t/** @type Array<Feature> */\n\t\t\ttype: Array,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tsetup(): Object\n\t{\n\t\treturn {\n\t\t\tAirButtonStyle,\n\t\t\tButtonSize,\n\t\t\tOutline,\n\t\t};\n\t},\n\temits: ['continue', 'close'],\n\tmethods: {\n\t\tgetFeatureName(featureCode: string): string\n\t\t{\n\t\t\tconst phrase = {\n\t\t\t\t[featureCode === 'group_lists']: 'SN_COLLAB_CONVERTER_FEATURE_GROUP_LISTS',\n\t\t\t\t[featureCode === 'forum']: 'SN_COLLAB_CONVERTER_FEATURE_FORUM',\n\t\t\t\t[featureCode === 'photo']: 'SN_COLLAB_CONVERTER_FEATURE_PHOTO',\n\t\t\t\t[featureCode === 'wiki']: 'SN_COLLAB_CONVERTER_FEATURE_WIKI',\n\t\t\t\t[featureCode === 'marketplace']: 'SN_COLLAB_CONVERTER_FEATURE_MARKETPLACE',\n\t\t\t\t[featureCode === 'landing_knowledge']: 'SN_COLLAB_CONVERTER_FEATURE_LANDING_KNOWLEDGE',\n\t\t\t}.true;\n\n\t\t\treturn this.loc(phrase);\n\t\t},\n\t\thandleLinkMoreClick(): void\n\t\t{\n\t\t\tBX.Helper.show('redirect=detail&code=25356654#tool');\n\t\t},\n\t},\n\ttemplate: `\n\t\t<Step\n\t\t\t:title=\"loc('SN_COLLAB_CONVERTER_STEP_FEATURES_TITLE')\"\n\t\t\t:primaryButtonText=\"loc('SN_COLLAB_CONVERTER_START')\"\n\t\t\t:alertText=\"loc('SN_COLLAB_CONVERTER_ALERT')\"\n\t\t\tclass=\"--features\"\n\t\t\t@continue=\"$emit('continue')\"\n\t\t\t@close=\"$emit('close')\"\n\t\t>\n\t\t\t<div class=\"socialnetwork-collab-converter-wizard-step-subtitle\">\n\t\t\t\t<div class=\"socialnetwork-collab-converter-wizard-step-subtitle-text\" v-html=\"loc('SN_COLLAB_CONVERTER_STEP_FEATURES_SUBTITLE')\"/>\n\t\t\t\t<div class=\"socialnetwork-collab-converter-wizard-step-subtitle-link\" @click=\"handleLinkMoreClick\">\n\t\t\t\t\t{{ loc('SN_COLLAB_CONVERTER_LINK_MORE') }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"socialnetwork-collab-converter-wizard-features\">\n\t\t\t\t<div v-for=\"feature in features\" class=\"socialnetwork-collab-converter-wizard-feature\">\n\t\t\t\t\t<BIcon :name=\"Outline.CIRCLE_MINUS\" :color=\"'var(--ui-color-base-6, #DFE0E3)'\" :size=\"20\"/>\n\t\t\t\t\t<div class=\"socialnetwork-collab-converter-wizard-feature-name\">\n\t\t\t\t\t\t{{ getFeatureName(feature.name) }}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</Step>\n\t`,\n};\n","import { Event } from 'main.core';\n\nimport { BIcon } from 'ui.icon-set.api.vue';\nimport { Outline } from 'ui.icon-set.api.core';\nimport { Button as UiButton, AirButtonStyle, ButtonSize } from 'ui.vue3.components.button';\nimport 'ui.icon-set.outline';\n\nimport { Loader } from './loader';\nimport { GroupAvatar } from './group-avatar';\nimport { Advantage } from './steps/advantage';\nimport { UserList } from './user/user-list';\nimport { StepAdvantages } from './steps/step-advantages';\nimport { StepAfter } from './steps/step-after';\nimport { StepFeatures } from './steps/step-features';\nimport { api } from '../../service/api';\n\nimport type { Member, Feature } from '../../service/types';\n\nimport '../wizard.css';\n\n// @vue/component\nexport const App = {\n\tname: 'SocialnetworkCollabConverter',\n\tcomponents: {\n\t\tBIcon,\n\t\tLoader,\n\t\tGroupAvatar,\n\t\tUserList,\n\t\tAdvantage,\n\t\tUiButton,\n\t\tStepAdvantages,\n\t\tStepAfter,\n\t\tStepFeatures,\n\t},\n\tprops: {\n\t\tgroupId: {\n\t\t\ttype: Number,\n\t\t\trequired: true,\n\t\t},\n\t\tredirectAfterSuccess: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t}\n\t},\n\tsetup(): Object\n\t{\n\t\treturn {\n\t\t\tButtonSize,\n\t\t\tAirButtonStyle,\n\t\t\tOutline,\n\t\t};\n\t},\n\tdata(): Object\n\t{\n\t\treturn {\n\t\t\tcollab: null,\n\t\t\tisConversionStarted: false,\n\t\t\tgroup: null,\n\t\t\tstep: 1,\n\t\t};\n\t},\n\tcomputed: {\n\t\tleftTopTitle(): string\n\t\t{\n\t\t\treturn this.loc(\n\t\t\t\t'SN_COLLAB_CONVERTER_TITLE',\n\t\t\t\t{\n\t\t\t\t\t'#ACCENT_START#': '<span class=\"socialnetwork-collab-converter-wizard-left-top-title-accent\">',\n\t\t\t\t\t'#ACCENT_END#': '</span>',\n\t\t\t\t},\n\t\t\t);\n\t\t},\n\t\tgroupManagers(): Member[]\n\t\t{\n\t\t\treturn this.group.members.filter((member: Member) => ['owner', 'moderator'].includes(member.role));\n\t\t},\n\t\tgroupCommonMembers(): Member[]\n\t\t{\n\t\t\treturn this.group.members.filter((member: Member) => ['member'].includes(member.role));\n\t\t},\n\t\tfeaturesToDisable(): boolean\n\t\t{\n\t\t\tconst featuresToDisable = new Set(['forum', 'photo', 'group_lists', 'wiki', 'landing_knowledge', 'marketplace']);\n\n\t\t\treturn this.group.features.filter((feature: Feature) => feature.isActive && featuresToDisable.has(feature.name));\n\t\t},\n\t\tfullScaleTitle(): string\n\t\t{\n\t\t\tif (this.collab)\n\t\t\t{\n\t\t\t\treturn this.loc('SN_COLLAB_CONVERTER_DONE');\n\t\t\t}\n\n\t\t\treturn this.loc('SN_COLLAB_CONVERTER_TITLE_CONVERTING');\n\t\t},\n\t\tfullScaleSubtitle(): string\n\t\t{\n\t\t\treturn this.collab ? '' : this.loc('SN_COLLAB_CONVERTER_SUBTITLE_CONVERTING');\n\t\t},\n\t},\n\tasync created(): Promise<void>\n\t{\n\t\ttry\n\t\t{\n\t\t\tthis.group = await api.getGroup(this.groupId);\n\t\t}\n\t\tcatch (error)\n\t\t{\n\t\t\tconsole.error('Fetch group error', error);\n\t\t\tthis.close();\n\t\t}\n\t},\n\tmethods: {\n\t\thandleStepAdvantagesContinue(): void\n\t\t{\n\t\t\tthis.step++;\n\t\t},\n\t\thandleStepAfterContinue(): void\n\t\t{\n\t\t\tif (this.featuresToDisable.length === 0)\n\t\t\t{\n\t\t\t\tvoid this.convert();\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.step++;\n\t\t},\n\t\thandleStepFeaturesContinue(): void\n\t\t{\n\t\t\tvoid this.convert();\n\t\t},\n\t\tasync convert(): Promise<void>\n\t\t{\n\t\t\tthis.isConversionStarted = true;\n\t\t\ttry\n\t\t\t{\n\t\t\t\tthis.collab = await api.convertToCollab(this.groupId);\n\t\t\t\tEvent.EventEmitter.emit('socialnetwork:collab:converter:success', { collab: this.collab });\n\t\t\t}\n\t\t\tcatch (error)\n\t\t\t{\n\t\t\t\tconsole.error('Conversion error', error);\n\t\t\t\tthis.close();\n\t\t\t}\n\t\t},\n\t\tclose(): void\n\t\t{\n\t\t\tEvent.EventEmitter.emit('socialnetwork:collab:converter:close');\n\t\t},\n\t\topenCollab(): void\n\t\t{\n\t\t\tif (top.BX.Messenger.Public)\n\t\t\t{\n\t\t\t\ttop.BX.Messenger.Public.openChat(this.collab.dialogId);\n\t\t\t}\n\t\t\tthis.close();\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div\n\t\t\tv-if=\"group\"\n\t\t\tclass=\"socialnetwork-collab-converter-wizard\"\n\t\t>\n\t\t\t<template v-if=\"isConversionStarted\">\n\t\t\t\t<div class=\"socialnetwork-collab-converter-wizard-full-scale\">\n\t\t\t\t\t<div class=\"socialnetwork-collab-converter-wizard-full-scale-content\">\n\t\t\t\t\t\t<div class=\"socialnetwork-collab-converter-wizard-full-scale-header\">\n\t\t\t\t\t\t\t<div class=\"socialnetwork-collab-converter-wizard-full-scale-title\">\n\t\t\t\t\t\t\t\t{{ fullScaleTitle }}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"socialnetwork-collab-converter-wizard-full-scale-subtitle\">\n\t\t\t\t\t\t\t\t{{ fullScaleSubtitle }}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"socialnetwork-collab-converter-wizard-full-scale-group\">\n\t\t\t\t\t\t\t<GroupAvatar :group=\"group\" :size=\"72\"/>\n\t\t\t\t\t\t\t<div class=\"socialnetwork-collab-converter-wizard-group-title\">\n\t\t\t\t\t\t\t\t{{ group.name }}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div v-if=\"collab && !redirectAfterSuccess\" class=\"socialnetwork-collab-converter-wizard-full-scale-buttons\">\n\t\t\t\t\t\t<UiButton\n\t\t\t\t\t\t\t:text=\"loc('SN_COLLAB_CONVERTER_OPEN_COLLAB')\"\n\t\t\t\t\t\t\t:size=\"ButtonSize.LARGE\"\n\t\t\t\t\t\t\t@click=\"openCollab\"\n\t\t\t\t\t\t\tdata-test-id=\"socialnetwork-collab-converter-open-collab-button\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<UiButton\n\t\t\t\t\t\t\t:text=\"loc('SN_COLLAB_CONVERTER_GET_IT')\"\n\t\t\t\t\t\t\t:size=\"ButtonSize.LARGE\"\n\t\t\t\t\t\t\t:style=\"AirButtonStyle.OUTLINE\"\n\t\t\t\t\t\t\t@click=\"close\"\n\t\t\t\t\t\t\tdata-test-id=\"socialnetwork-collab-converter-close-button\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t\t<template v-else>\n\t\t\t\t<div class=\"socialnetwork-collab-converter-wizard-left\">\n\t\t\t\t\t<div class=\"socialnetwork-collab-converter-wizard-left-top\">\n\t\t\t\t\t\t<div class=\"socialnetwork-collab-converter-wizard-left-top-title\" v-html=\"leftTopTitle\"/>\n\t\t\t\t\t\t<div class=\"socialnetwork-collab-converter-wizard-group-info\">\n\t\t\t\t\t\t\t<div class=\"socialnetwork-collab-converter-wizard-group-info-main\">\n\t\t\t\t\t\t\t\t<GroupAvatar :group=\"group\"/>\n\t\t\t\t\t\t\t\t<div class=\"socialnetwork-collab-converter-wizard-group-title\">\n\t\t\t\t\t\t\t\t\t{{ group.name }}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<UserList :hostUsers=\"groupManagers\" :commonUsers=\"groupCommonMembers\"/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"socialnetwork-collab-converter-wizard-left-link\">\n\t\t\t\t\t\t<BIcon :name=\"Outline.QUESTION\" :size=\"16\"/>\n\t\t\t\t\t\t<div class=\"socialnetwork-collab-converter-wizard-left-link-text\">\n\t\t\t\t\t\t\t{{ loc('SN_COLLAB_CONVERTER_LINK_MORE') }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"socialnetwork-collab-converter-wizard-right\">\n\t\t\t\t\t<StepAdvantages v-if=\"step === 1\" @continue=\"handleStepAdvantagesContinue\" @close=\"close\"/>\n\t\t\t\t\t<StepAfter v-if=\"step === 2\" @continue=\"handleStepAfterContinue\" @close=\"close\"/>\n\t\t\t\t\t<StepFeatures v-if=\"step === 3\" :features=\"featuresToDisable\" @continue=\"handleStepFeaturesContinue\" @close=\"close\"/>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t</div>\n\t\t<Loader v-else/>\n\t`,\n};\n","import { Event, Tag } from 'main.core';\nimport { Popup } from 'main.popup';\nimport { BitrixVue, VueCreateAppResult } from 'ui.vue3';\nimport { locMixin } from 'ui.vue3.mixins.loc-mixin';\n\nimport { App } from './component/app';\n\nexport type WizardParams = {\n\tgroupId: number,\n\tredirectAfterSuccess: boolean,\n};\n\nexport class Wizard\n{\n\t#params: WizardParams;\n\t#application: ?VueCreateAppResult = null;\n\t#wizardPopup: ?Popup = null;\n\t#layout: {\n\t\tpopupContainer: HTMLElement,\n\t\twizardContainer: HTMLElement,\n\t} = {};\n\n\tconstructor(params: WizardParams)\n\t{\n\t\tthis.#params = params;\n\t}\n\n\tasync show(): Promise<void>\n\t{\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tthis.#showPopup(resolve)\n\t\t\t\t.then(() => {\n\t\t\t\t\tresolve();\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\treject(error);\n\t\t\t\t});\n\t\t});\n\t}\n\n\t#showPopup(): Promise<void>\n\t{\n\t\tconst windowScrollHandler = () => this.#wizardPopup.adjustPosition();\n\n\t\treturn new Promise((resolve) => {\n\t\t\tthis.#wizardPopup = new Popup({\n\t\t\t\tcacheable: false,\n\t\t\t\twidth: 665,\n\t\t\t\theight: 439,\n\t\t\t\tborderRadius: 'var(--ui-border-radius-3xl)',\n\t\t\t\tangle: false,\n\t\t\t\tcontent: this.#renderPopupContent(),\n\t\t\t\tcloseByEsc: false,\n\t\t\t\tautoHide: false,\n\t\t\t\tcloseIcon: false,\n\t\t\t\tpadding: 0,\n\t\t\t\tcontentPadding: 0,\n\t\t\t\tcontentBorderRadius: '18px',\n\t\t\t\tanimation: 'fading-slide',\n\t\t\t\toverlay: true,\n\t\t\t\tclassName: 'socialnetwork-collab-converter-wizard-popup',\n\t\t\t\tevents: {\n\t\t\t\t\tonAfterPopupShow: async (popup: Popup) => {\n\t\t\t\t\t\tEvent.bind(window, 'scroll', windowScrollHandler);\n\t\t\t\t\t\tthis.#layout.popupContainer = popup.getPopupContainer();\n\n\t\t\t\t\t\tawait this.#mountApplication(this.#layout.wizardContainer);\n\n\t\t\t\t\t\tthis.#subscribe();\n\n\t\t\t\t\t\tresolve();\n\t\t\t\t\t},\n\t\t\t\t\tonPopupAfterClose: (popup: Popup) => {\n\t\t\t\t\t\tEvent.unbind(window, 'scroll', windowScrollHandler);\n\t\t\t\t\t\tthis.#unmountApplication();\n\n\t\t\t\t\t\tthis.#unsubscribe();\n\n\t\t\t\t\t\tpopup.destroy();\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t});\n\n\t\t\tthis.#wizardPopup.show();\n\t\t});\n\t}\n\n\t#renderPopupContent(): HTMLElement\n\t{\n\t\tthis.#layout.wizardContainer = Tag.render`\n\t\t\t<div class=\"socialnetwork-collab-converter-wizard-popup-content\"></div>\n\t\t`;\n\n\t\treturn this.#layout.wizardContainer;\n\t}\n\n\tasync #mountApplication(container: HTMLElement): Promise<void>\n\t{\n\t\tconst application = BitrixVue.createApp(App, this.#params);\n\t\tapplication.mixin(locMixin);\n\t\tapplication.mount(container);\n\n\t\tthis.#application = application;\n\t}\n\n\t#unmountApplication(): void\n\t{\n\t\tthis.#application.unmount();\n\t}\n\n\t#subscribe(): void\n\t{\n\t\tEvent.EventEmitter.subscribe('socialnetwork:collab:converter:close', this.#close);\n\t\tEvent.EventEmitter.subscribe('socialnetwork:collab:converter:success', this.#handleSuccess);\n\t}\n\n\t#unsubscribe(): void\n\t{\n\t\tEvent.EventEmitter.unsubscribe('socialnetwork:collab:converter:close', this.#close);\n\t\tEvent.EventEmitter.unsubscribe('socialnetwork:collab:converter:success', this.#handleSuccess);\n\t}\n\n\t#close = (): void => {\n\t\tthis.#wizardPopup.close();\n\t};\n\n\t#handleSuccess = (event): void => {\n\t\tif (this.#params.redirectAfterSuccess)\n\t\t{\n\t\t\tconst collab = event.data.collab;\n\t\t\ttop.document.location.href = collab.url;\n\t\t}\n\t};\n}\n","import { ErrorPopup } from './error/error-popup';\nimport { api } from './service/api';\nimport { Wizard } from './wizard/wizard';\n\nexport type ConverterParams = {\n\tredirectAfterSuccess: boolean,\n};\n\nexport class Converter\n{\n\t#params: ConverterParams;\n\n\tconstructor(params: ConverterParams)\n\t{\n\t\tthis.#params = params;\n\t}\n\n\tconvertToCollab(groupId: number)\n\t{\n\t\tapi.validateGroup(groupId).then((result) => {\n\t\t\tif (!result.isValid)\n\t\t\t{\n\t\t\t\tnew ErrorPopup({ groupId, errors: result.errors }).show();\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvoid new Wizard({ groupId, redirectAfterSuccess: this.#params.redirectAfterSuccess }).show();\n\t\t}).catch((result) => {\n\t\t\tnew ErrorPopup({ groupId, errors: result.errors }).show();\n\t\t});\n\t}\n}\n"],"names":["ErrorPopup","constructor","params","ERROR_CODE_HAS_FLOWS","ERROR_CODE_LANDING_GROUP","groupId","errors","show","supportedErrors","filter","error","includes","code","length","unsupportedErrors","console","Popup","cacheable","width","borderRadius","angle","closeIcon","content","closeByEsc","autoHide","padding","contentPadding","overlay","className","config","Tag","render","headerText","header","Outline","CROSS_L","Event","bind","close","nodes","descriptionParagraphs","forEach","paragraph","node","push","helperCode","KNOWLEDGE_BASE","Loc","getMessage","BX","Helper","buttons","map","button","closeButton","Button","useAirDesign","noCaps","size","ButtonSize","LARGE","text","onclick","flowsLink","clickHandler","event","SidePanel","Instance","open","openFlowsButton","cancelButton","style","AirButtonStyle","OUTLINE","openSettingsButton","link","mapMemberDtoToModel","memberDto","role","true","isModerator","isScrumMaster","isOwner","id","avatar","photo","mapFeatureDtoToModel","featureDto","name","featureName","isActive","active","mapGroupDtoToModel","groupDto","avatarType","AVATAR_TYPE","avatarTypes","AVATAR_TYPES","image","AVATAR","entitySelectorUrl","ID","NAME","members","LIST_OF_MEMBERS","features","FEATURES","Api","validateGroup","result","ajax","runAction","data","isValid","getGroup","select","convertToCollab","api","Loader","props","options","type","Object","default","mounted","loader","UILoader","getOptions","beforeUnmount","hide","methods","getDefaultOptions","target","$refs","template","GroupAvatar","group","required","Number","AvatarHexagonGuest","userName","userpicPath","renderTo","container","Advantage","components","BIcon","icon","String","iconColor","title","description","UserAvatar","src","created","AvatarBase","picPath","baseColor","AvatarsRow","users","Array","maxToShow","borderColor","computed","rowUsers","slice","notShownAmount","UserList","hostUsers","commonUsers","Step","UiButton","primaryButtonText","alertText","setup","emits","StepAdvantages","advantages","MESSAGES","loc","SUITCASE","WINDOW_FLAG","StepAfter","SHUFFLE","TASK_LIST","CHATS_WITH_CHECK","StepFeatures","getFeatureName","featureCode","phrase","handleLinkMoreClick","App","redirectAfterSuccess","Boolean","collab","isConversionStarted","step","leftTopTitle","groupManagers","member","groupCommonMembers","featuresToDisable","Set","feature","has","fullScaleTitle","fullScaleSubtitle","handleStepAdvantagesContinue","handleStepAfterContinue","convert","handleStepFeaturesContinue","EventEmitter","emit","openCollab","top","Messenger","Public","openChat","dialogId","Wizard","document","location","href","url","Promise","resolve","reject","then","catch","windowScrollHandler","adjustPosition","height","contentBorderRadius","animation","events","onAfterPopupShow","popup","window","popupContainer","getPopupContainer","wizardContainer","onPopupAfterClose","unbind","destroy","application","BitrixVue","createApp","mixin","locMixin","mount","unmount","subscribe","unsubscribe","Converter"],"mappings":"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"}