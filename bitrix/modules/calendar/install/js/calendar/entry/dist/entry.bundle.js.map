{"version":3,"file":"entry.bundle.js","sources":["../src/entrymanager.js","../src/entry.js"],"sourcesContent":["import { Entry } from './entry';\nimport { SectionManager } from 'calendar.sectionmanager';\nimport { Util } from 'calendar.util';\nimport { Event, Loc, Tag, Type } from 'main.core';\nimport { EventEmitter } from 'main.core.events';\nimport { CompactEventForm } from 'calendar.compacteventform';\nimport 'ui.notification';\nimport { RoomsManager } from 'calendar.roomsmanager';\nimport { MessageBox } from 'ui.dialogs.messagebox';\n\nexport class EntryManager\n{\n\tstatic newEntryName = '';\n\tstatic userIndex = {};\n\tstatic delayedActionList = [];\n\tstatic DELETE_DELAY_TIMEOUT = 4000;\n\tstatic slidersMap = new WeakMap();\n\n\tstatic getNewEntry(options)\n\t{\n\t\tconst newEntryData = {};\n\t\tconst dateTime = EntryManager.getNewEntryTime(new Date());\n\t\tconst userSettings = Util.getUserSettings();\n\t\tconst userId = Util.getCurrentUserId();\n\n\t\tnewEntryData.ID = null;\n\t\tnewEntryData.NAME = EntryManager.getNewEntryName();\n\t\tnewEntryData.dateFrom = dateTime.from;\n\t\tnewEntryData.dateTo = dateTime.to;\n\n\t\tif (options.type === 'location')\n\t\t{\n\t\t\tnewEntryData.SECT_ID = RoomsManager.getNewEntrySectionId(options.type, parseInt(options.ownerId));\n\t\t}\n\t\telse\n\t\t{\n\t\t\tnewEntryData.SECT_ID = SectionManager.getNewEntrySectionId(options.type, parseInt(options.ownerId));\n\t\t}\n\t\tnewEntryData.REMIND = EntryManager.getNewEntryReminders();\n\n\t\tnewEntryData.attendeesEntityList = [{entityId: 'user', id: userId}];\n\t\tnewEntryData.ATTENDEE_LIST = [{id: Util.getCurrentUserId(), status: \"H\"}];\n\n\t\tif (options.type === 'user' && userId !== options.ownerId)\n\t\t{\n\t\t\tnewEntryData.attendeesEntityList.push({entityId: 'user', id: options.ownerId});\n\t\t\tnewEntryData.ATTENDEE_LIST = [\n\t\t\t\t{ id: options.ownerId, status: 'H' },\n\t\t\t\t{ id: Util.getCurrentUserId(), status: 'Y' }\n\t\t\t];\n\t\t}\n\t\telse if (options.type === 'group')\n\t\t{\n\t\t\tnewEntryData.attendeesEntityList.push({entityId: 'project', id: options.ownerId});\n\t\t}\n\n\t\tnewEntryData.TZ_FROM = userSettings.timezoneName || userSettings.timezoneDefaultName || '';\n\t\tnewEntryData.TZ_TO = userSettings.timezoneName || userSettings.timezoneDefaultName || '';\n\n\t\treturn new Entry({data: newEntryData});\n\t}\n\n\tstatic getNewEntryTime(date, duration)\n\t{\n\t\tdate = Util.getUsableDateTime(date);\n\n\t\tconst calendarContext = Util.getCalendarContext();\n\t\tif (calendarContext)\n\t\t{\n\t\t\tconst displayedViewRange = calendarContext.getDisplayedViewRange();\n\t\t\tif (Type.isDate(displayedViewRange?.start))\n\t\t\t{\n\t\t\t\tconst dateTime = date.getTime();\n\t\t\t\tif (\n\t\t\t\t\tdateTime < displayedViewRange.start.getTime()\n\t\t\t\t\t|| dateTime > displayedViewRange.end.getTime()\n\t\t\t\t)\n\t\t\t\t{\n\t\t\t\t\tconst startDate = new Date(displayedViewRange.start.getTime());\n\t\t\t\t\tconst workTime = calendarContext.util.getWorkTime();\n\t\t\t\t\tstartDate.setHours(workTime.start, 0, 0,0);\n\t\t\t\t\tdate = Util.getUsableDateTime(startDate);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\tfrom : date,\n\t\t\tto : new Date(date.getTime() + (duration || 3600) * 1000)\n\t\t}\n\t}\n\n\tstatic getNewEntryName(): string\n\t{\n\t\treturn (EntryManager.newEntryName || '');\n\t}\n\n\tstatic setNewEntryName(newEntryName)\n\t{\n\t\tEntryManager.newEntryName = newEntryName;\n\t}\n\n\tstatic showEditEntryNotification(entryId)\n\t{\n\t\tUtil.showNotification(\n\t\t\tLoc.getMessage('CALENDAR_SAVE_EVENT_NOTIFICATION'),\n\t\t\t[{\n\t\t\t\ttitle: Loc.getMessage('CALENDAR_EVENT_DO_VIEW'),\n\t\t\t\tevents: {\n\t\t\t\t\tclick: function(event, balloon, action) {\n\n\t\t\t\t\t\tEntryManager.openViewSlider(entryId);\n\t\t\t\t\t\tballoon.close();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}]\n\t\t)\n\t}\n\n\tstatic showNewEntryNotification(entryId)\n\t{\n\t\tUtil.showNotification(\n\t\t\tLoc.getMessage('CALENDAR_NEW_EVENT_NOTIFICATION'),\n\t\t\t[{\n\t\t\t\ttitle: Loc.getMessage('CALENDAR_EVENT_DO_VIEW'),\n\t\t\t\tevents: {\n\t\t\t\t\tclick: (event, balloon, action) => {\n\n\t\t\t\t\t\tEntryManager.openViewSlider(entryId);\n\t\t\t\t\t\tballoon.close();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}]\n\t\t)\n\t}\n\n\tstatic showDeleteEntryNotification(entry)\n\t{\n\t\tif (entry && entry instanceof Entry)\n\t\t{\n\t\t\tBX.UI.Notification.Center.notify({\n\t\t\t\tid: 'calendar' + entry.getUniqueId(),\n\t\t\t\tcontent: Loc.getMessage('CALENDAR_DELETE_EVENT_NOTIFICATION'),\n\t\t\t\tactions: [{\n\t\t\t\t\ttitle: Loc.getMessage('CALENDAR_EVENT_DO_CANCEL'),\n\t\t\t\t\tevents: {\n\t\t\t\t\t\tclick: (event, balloon, action) => {\n\t\t\t\t\t\t\tentry.cancelDelete();\n\t\t\t\t\t\t\tballoon.close();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}]\n\t\t\t});\n\t\t}\n\t}\n\n\tstatic showReleaseLocationNotification()\n\t{\n\t\tBX.UI.Notification.Center.notify({\n\t\t\tcontent: Loc.getMessage('CALENDAR_RELEASE_LOCATION_NOTIFICATION'),\n\t\t});\n\t}\n\n\tstatic closeDeleteNotificationBalloon(entry)\n\t{\n\t\tif (entry && entry instanceof Entry)\n\t\t{\n\t\t\tconst balloon = BX.UI.Notification.Center.getBalloonById('calendar' + entry.getUniqueId());\n\t\t\tif (balloon)\n\t\t\t{\n\t\t\t\tballoon.close();\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic openEditSlider(options = {})\n\t{\n\t\tconst bx = Util.getBX();\n\n\t\tif (bx.Calendar && bx.Calendar.SliderLoader)\n\t\t{\n\t\t\tconst util = BX.Calendar.Util || bx.Calendar.Util;\n\t\t\tconst calendarContext = util.getCalendarContext();\n\n\t\t\tconst roomsManager = options?.isLocationCalendar ? calendarContext.roomsManager : null;\n\t\t\tconst categoryManager = options?.isLocationCalendar ? calendarContext.categoryManager : null;\n\n\t\t\tnew bx.Calendar.SliderLoader(\n\t\t\t\toptions.entry ? `EDIT${options.entry.id}` : 'NEW',\n\t\t\t\t{\n\t\t\t\t\tcalendarContext: options.calendarContext || calendarContext,\n\t\t\t\t\tentry: options.entry || null,\n\t\t\t\t\ttype: options.type,\n\t\t\t\t\tisLocationCalendar: options.isLocationCalendar || false,\n\t\t\t\t\troomsManager,\n\t\t\t\t\tcategoryManager,\n\t\t\t\t\tlocationAccess: options.locationAccess || util.hasLocationAccess(),\n\t\t\t\t\tlocationCapacity: options.locationCapacity || 0,\n\t\t\t\t\townerId: options.ownerId || 0,\n\t\t\t\t\tuserId: options.userId,\n\t\t\t\t\tformDataValue: options.formDataValue || null,\n\t\t\t\t\tjumpToControl: options.jumpToControl,\n\t\t\t\t},\n\t\t\t).show();\n\t\t}\n\t}\n\n\tstatic openViewSlider(eventId = null, options = {})\n\t{\n\t\tif (!Type.isNull(eventId))\n\t\t{\n\t\t\tconst bx = Util.getBX();\n\t\t\tif (bx.Calendar && bx.Calendar.SliderLoader)\n\t\t\t{\n\t\t\t\tnew bx.Calendar.SliderLoader(eventId, {\n\t\t\t\t\tentryDateFrom: options.from,\n\t\t\t\t\ttimezoneOffset: options.timezoneOffset,\n\t\t\t\t\tcalendarContext: options.calendarContext || null,\n\t\t\t\t\tlink: options.link,\n\t\t\t\t}).show();\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic openSettingsSlider()\n\t{\n\t\tconst bx = Util.getBX();\n\t\tconst util = BX.Calendar.Util || bx.Calendar.Util;\n\n\t\t// eslint-disable-next-line promise/catch-or-return\n\t\tEntryManager.getSettingsSlider().then((SettingsInterfaceInstance) => {\n\t\t\tnew SettingsInterfaceInstance({\n\t\t\t\tcalendarContext: util.getCalendarContext(),\n\t\t\t\tshowPersonalSettings: util.userIsOwner(),\n\t\t\t\tshowGeneralSettings: util.hasFullAccess(),\n\t\t\t\tsettings: util.getSettings(),\n\t\t\t\tisExtranet: util.isExtranet(),\n\t\t\t}).show();\n\t\t});\n\t}\n\n\tstatic getSettingsSlider(): Promise\n\t{\n\t\treturn new Promise((resolve) => {\n\t\t\tconst bx = Util.getBX();\n\n\t\t\tif (bx.Calendar.SettingsInterface)\n\t\t\t{\n\t\t\t\tresolve(bx.Calendar.SettingsInterface);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tconst extensionName = 'calendar.settingsinterface';\n\t\t\t\t// eslint-disable-next-line promise/catch-or-return\n\t\t\t\tbx.Runtime.loadExtension(extensionName)\n\t\t\t\t\t.then(() => {\n\t\t\t\t\t\tif (bx.Calendar.SettingsInterface)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tresolve(bx.Calendar.SettingsInterface);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tconsole.error(`Extension ${extensionName} not found`);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t;\n\t\t\t}\n\t\t});\n\t}\n\n\tstatic openSectionsSlider()\n\t{\n\t\tconst bx = Util.getBX();\n\t\tconst util = BX.Calendar.Util || bx.Calendar.Util;\n\t\tconst calendarContext = util.getCalendarContext();\n\n\t\t// eslint-disable-next-line promise/catch-or-return\n\t\tEntryManager.getSectionsSlider().then((SectionInterfaceInstance) => {\n\t\t\tnew SectionInterfaceInstance({\n\t\t\t\tcalendarContext,\n\t\t\t\treadonly: util.isReadOnlyMode(),\n\t\t\t\tsectionManager: calendarContext.sectionManager,\n\t\t\t\tisCollabFeatureEnabled: util.isCollabFeatureEnabled(),\n\t\t\t}).show();\n\t\t});\n\t}\n\n\tstatic getSectionsSlider(): Promise\n\t{\n\t\treturn new Promise((resolve) => {\n\t\t\tconst bx = Util.getBX();\n\n\t\t\tif (bx.Calendar.SectionInterface)\n\t\t\t{\n\t\t\t\tresolve(bx.Calendar.SectionInterface);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tconst extensionName = 'calendar.sectioninterface';\n\t\t\t\t// eslint-disable-next-line promise/catch-or-return\n\t\t\t\tbx.Runtime.loadExtension(extensionName)\n\t\t\t\t\t.then(() => {\n\t\t\t\t\t\tif (bx.Calendar.SectionInterface)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tresolve(bx.Calendar.SectionInterface);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tconsole.error(`Extension ${extensionName} not found`);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t;\n\t\t\t}\n\t\t});\n\t}\n\n\tstatic openRoomsSlider()\n\t{\n\t\tconst bx = Util.getBX();\n\t\tconst util = BX.Calendar.Util || bx.Calendar.Util;\n\t\tconst calendarContext = bx.Calendar.Util.getCalendarContext();\n\n\t\t// eslint-disable-next-line promise/catch-or-return\n\t\tEntryManager.getRoomsSlider().then((RoomsInterfaceInstance) => {\n\t\t\tnew RoomsInterfaceInstance({\n\t\t\t\tcalendarContext,\n\t\t\t\treadonly: util.isReadOnlyMode(),\n\t\t\t\troomsManager: calendarContext.roomsManager,\n\t\t\t\tcategoryManager: calendarContext.categoryManager,\n\t\t\t}).show();\n\t\t});\n\t}\n\n\tstatic getRoomsSlider(): Promise\n\t{\n\t\treturn new Promise((resolve) => {\n\t\t\tconst bx = Util.getBX();\n\n\t\t\tif (bx.Calendar.Rooms.RoomsInterface)\n\t\t\t{\n\t\t\t\tresolve(bx.Calendar.Rooms.RoomsInterface);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tconst extensionName = 'calendar.rooms';\n\t\t\t\t// eslint-disable-next-line promise/catch-or-return\n\t\t\t\tbx.Runtime.loadExtension(extensionName)\n\t\t\t\t\t.then(() => {\n\t\t\t\t\t\tif (bx.Calendar.Rooms.RoomsInterface)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tresolve(bx.Calendar.Rooms.RoomsInterface);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tconsole.error(`Extension ${extensionName} not found`);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t;\n\t\t\t}\n\t\t});\n\t}\n\n\tstatic deleteEntry(entry, calendarContext = null)\n\t{\n\t\tif (entry instanceof Entry)\n\t\t{\n\t\t\tconst slider = Util.getBX().SidePanel.Instance.getTopSlider();\n\t\t\tconst beforeDeleteHandler = () => {\n\t\t\t\tif (slider && slider.getData().get('type') === 'calendar:slider')\n\t\t\t\t{\n\t\t\t\t\tUtil.getBX().SidePanel.Instance.close();\n\t\t\t\t}\n\t\t\t};\n\t\t\tEventEmitter.subscribe('BX.Calendar.Entry:beforeDelete', beforeDeleteHandler);\n\n\t\t\tconst deleteHandler = () => {\n\t\t\t\tconst calendar = Util.getCalendarContext();\n\n\t\t\t\tif (calendar)\n\t\t\t\t{\n\t\t\t\t\tcalendar.reload();\n\t\t\t\t}\n\t\t\t\telse if (calendarContext)\n\t\t\t\t{\n\t\t\t\t\tcalendarContext.reload();\n\t\t\t\t}\n\t\t\t\tEventEmitter.unsubscribe('BX.Calendar.Entry:delete', deleteHandler);\n\t\t\t\tEventEmitter.unsubscribe('BX.Calendar.Entry:beforeDelete', beforeDeleteHandler);\n\t\t\t};\n\n\t\t\tEventEmitter.subscribe('BX.Calendar.Entry:delete', deleteHandler);\n\n\t\t\tentry.delete();\n\t\t}\n\t}\n\n\tstatic setMeetingStatus(entry, status, params = {})\n\t{\n\t\treturn new Promise(resolve => {\n\t\t\tif (!Type.isPlainObject(params))\n\t\t\t{\n\t\t\t\tparams = {};\n\t\t\t}\n\t\t\tparams.recursionMode = params.recursionMode || false;\n\n\t\t\tif (status === 'N' && !params.confirmed)\n\t\t\t{\n\t\t\t\tif (entry.isRecursive() && !entry.isOpenEvent())\n\t\t\t\t{\n\t\t\t\t\tthis.showConfirmStatusDialog(entry, resolve);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tBX.ajax.runAction('calendar.api.calendarajax.setMeetingStatus', {\n\t\t\t\tdata: {\n\t\t\t\t\tentryId: entry.id,\n\t\t\t\t\tentryParentId: entry.parentId,\n\t\t\t\t\tstatus: status,\n\t\t\t\t\trecursionMode: params.recursionMode,\n\t\t\t\t\tcurrentDateFrom: Util.formatDate(entry.from)\n\t\t\t\t}\n\t\t\t}).then(\n\t\t\t\t(response) => {\n\t\t\t\t\tBX.Event.EventEmitter.emit(\n\t\t\t\t\t\t'BX.Calendar.Entry:onChangeMeetingStatus',\n\t\t\t\t\t\tnew Event.BaseEvent({\n\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\tentry: entry,\n\t\t\t\t\t\t\t\tstatus: status,\n\t\t\t\t\t\t\t\trecursionMode: params.recursionMode,\n\t\t\t\t\t\t\t\tcurrentDateFrom: entry.from,\n\t\t\t\t\t\t\t\tcounters: response.data.counters\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t);\n\n\t\t\t\t\tif (entry instanceof Entry)\n\t\t\t\t\t{\n\t\t\t\t\t\tentry.setCurrentStatus(status);\n\t\t\t\t\t}\n\n\t\t\t\t\tresolve({\n\t\t\t\t\t\tentry: entry,\n\t\t\t\t\t\tstatus: status,\n\t\t\t\t\t\trecursionMode: params.recursionMode,\n\t\t\t\t\t\tcurrentDateFrom: entry.from\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t);\n\t\t});\n\t}\n\n\tstatic showConfirmStatusDialog(entry, resolvePromiseCallback = null)\n\t{\n\t\tif (!this.confirmDeclineDialog)\n\t\t{\n\t\t\tthis.confirmDeclineDialog = this.createConfirmStatusDialog();\n\t\t}\n\n\t\tthis.confirmDeclineDialog.show();\n\t\tthis.confirmDeclineDialog.unsubscribeAll('onDecline');\n\t\tthis.confirmDeclineDialog.subscribe('onDecline', function(event)\n\t\t{\n\t\t\tif (event && Type.isFunction(event.getData))\n\t\t\t{\n\t\t\t\tEntryManager.setMeetingStatus(\n\t\t\t\t\tentry,\n\t\t\t\t\t'N',\n\t\t\t\t\t{recursionMode: event.getData().recursionMode, confirmed: true}\n\t\t\t\t).then(() => {\n\t\t\t\t\tif (Type.isFunction(resolvePromiseCallback))\n\t\t\t\t\t{\n\t\t\t\t\t\tresolvePromiseCallback();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\tstatic showConfirmEditDialog(options)\n\t{\n\t\tif (!this.confirmEditDialog)\n\t\t{\n\t\t\tthis.confirmEditDialog = this.createConfirmEditDialog();\n\t\t}\n\n\t\tthis.confirmEditDialog.show(options);\n\n\t\tif (Type.isFunction(options.callback))\n\t\t{\n\t\t\tthis.confirmEditDialog.unsubscribeAll('onEdit');\n\t\t\tthis.confirmEditDialog.subscribe('onEdit', (event) => {\n\t\t\t\tif (event && Type.isFunction(event.getData))\n\t\t\t\t{\n\t\t\t\t\toptions.callback(event.getData());\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\tstatic showReInviteUsersDialog(options)\n\t{\n\t\tif (!this.reinviteUsersDialog)\n\t\t{\n\t\t\tthis.reinviteUsersDialog = this.createReinviteUserDialog();\n\t\t}\n\t\tthis.reinviteUsersDialog.show();\n\n\t\tif (Type.isFunction(options.callback))\n\t\t{\n\t\t\tthis.reinviteUsersDialog.unsubscribeAll('onSelect');\n\t\t\tthis.reinviteUsersDialog.subscribe('onSelect', function(event)\n\t\t\t{\n\t\t\t\tif (event && Type.isFunction(event.getData))\n\t\t\t\t{\n\t\t\t\t\toptions.callback(event.getData());\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\tstatic showConfirmedEmailDialog(options = {})\n\t{\n\t\tif (!this.confirmedEmailDialog)\n\t\t{\n\t\t\tthis.confirmedEmailDialog = this.createConfirmedEmailDialog();\n\t\t}\n\t\tthis.confirmedEmailDialog.show();\n\n\t\tif (Type.isFunction(options.callback))\n\t\t{\n\t\t\tthis.confirmedEmailDialog.unsubscribeAll('onSelect');\n\t\t\tthis.confirmedEmailDialog.subscribe('onSelect', function(event)\n\t\t\t{\n\t\t\t\tif (event && Type.isFunction(event.getData))\n\t\t\t\t{\n\t\t\t\t\toptions.callback(event.getData());\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\tstatic getLocationRepeatBusyErrorPopup(options = {})\n\t{\n\t\treturn new MessageBox({\n\t\t\ttitle: Loc.getMessage('EC_LOCATION_REPEAT_BUSY_POPUP_TITLE'),\n\t\t\tmessage: Tag.render`\n\t\t\t\t<div class=\"calendar-list-slider-messagebox-text-with-title\">\n\t\t\t\t\t${options.message}\n\t\t\t\t</div>\n\t\t\t`,\n\t\t\tminHeight: 100,\n\t\t\tminWidth: 300,\n\t\t\tmaxWidth: 690,\n\t\t\tbuttons: BX.UI.Dialogs.MessageBoxButtons.YES_CANCEL,\n\t\t\tonYes: options.onYesCallback,\n\t\t\tonCancel: options.onCancelCallback,\n\t\t\tyesCaption: Loc.getMessage('EC_LOCATION_REPEAT_BUSY_POPUP_SAVE_WITHOUT_ROOM'),\n\t\t\tcancelCaption: Loc.getMessage('EC_LOCATION_REPEAT_BUSY_POPUP_RETURN_TO_EDIT'),\n\t\t\tmediumButtonSize: false,\n\t\t\tpopupOptions: {\n\t\t\t\tevents: {\n\t\t\t\t\tonPopupClose: options.onPopupCloseCallback,\n\t\t\t\t},\n\t\t\t\tcloseByEsc: true,\n\t\t\t\tpadding: 0,\n\t\t\t\tcontentPadding: 0,\n\t\t\t\tanimation: 'fading-slide',\n\t\t\t},\n\t\t});\n\t}\n\n\tstatic showEmailLimitationDialog(options = {})\n\t{\n\t\tif (!this.limitationEmailDialog)\n\t\t{\n\t\t\tthis.limitationEmailDialog = this.createEmailLimitationDialog();\n\t\t}\n\t\tthis.limitationEmailDialog.subscribe('onSaveWithoutAttendees', () => {\n\t\t\tif (Type.isFunction(options.callback))\n\t\t\t{\n\t\t\t\toptions.callback();\n\t\t\t}\n\t\t});\n\t\tthis.limitationEmailDialog.show();\n\t}\n\n\tstatic getCompactViewForm(create = true)\n\t{\n\t\tif (!EntryManager.compactEntryForm && create)\n\t\t{\n\t\t\tEntryManager.compactEntryForm = new CompactEventForm();\n\t\t}\n\n\t\treturn EntryManager.compactEntryForm;\n\t}\n\n\tstatic openCompactViewForm(options = {})\n\t{\n\t\tconst compactForm = EntryManager.getCompactViewForm();\n\t\tif (!compactForm.isShown())\n\t\t{\n\t\t\tcompactForm.unsubscribeAll('onClose');\n\t\t\tif (Type.isFunction(options.closeCallback))\n\t\t\t{\n\t\t\t\tcompactForm.subscribe('onClose', options.closeCallback);\n\t\t\t}\n\t\t\tcompactForm.showInViewMode(options);\n\t\t}\n\t}\n\n\tstatic openCompactEditForm(options = {})\n\t{\n\t\tconst compactForm = EntryManager.getCompactViewForm();\n\t\tif (!compactForm.isShown())\n\t\t{\n\t\t\tcompactForm.unsubscribeAll('onClose');\n\t\t\tif (Type.isFunction(options.closeCallback))\n\t\t\t{\n\t\t\t\tcompactForm.subscribe('onClose', options.closeCallback);\n\t\t\t}\n\t\t\tcompactForm.showInEditMode(options);\n\t\t}\n\t}\n\n\tstatic getEntryInstance(entry, userIndex, options = {})\n\t{\n\t\tlet entryInstance = null;\n\t\tif (entry instanceof Entry)\n\t\t{\n\t\t\tentryInstance = entry;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (Type.isObject(entry) && Type.isObject(entry.data))\n\t\t\t{\n\t\t\t\tentryInstance = new Entry({data: entry.data, userIndex: userIndex});\n\t\t\t}\n\t\t\telse if (Type.isObject(entry))\n\t\t\t{\n\t\t\t\tentryInstance = new Entry({data: entry, userIndex: userIndex});\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tentryInstance = EntryManager.getNewEntry(options);\n\t\t\t}\n\t\t}\n\n\t\treturn entryInstance;\n\t}\n\n\tstatic getUserIndex(options = {})\n\t{\n\t\treturn EntryManager.userIndex\n\t}\n\n\tstatic setUserIndex(userIndex)\n\t{\n\t\tEntryManager.userIndex = userIndex;\n\t}\n\n\thandlePullChanges(params)\n\t{\n\t\tif (['edit_event_location', 'delete_event_location'].includes(params.command))\n\t\t{\n\t\t\ttop.BX.Calendar?.Controls?.Location?.handlePull(params);\n\n\t\t\treturn;\n\t\t}\n\n\t\tif (!BX.Calendar.Util.checkRequestId(params.requestUid))\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tconst compactForm = EntryManager.getCompactViewForm();\n\t\tif (\n\t\t\tcompactForm\n\t\t\t&& compactForm.isShown()\n\t\t)\n\t\t{\n\t\t\tcompactForm.handlePull(params);\n\t\t}\n\n\t\tBX.SidePanel.Instance.getOpenSliders().forEach(slider =>\n\t\t{\n\t\t\tconst data = EntryManager.slidersMap.get(slider);\n\t\t\tif (\n\t\t\t\tdata\n\t\t\t\t&& data.entry\n\t\t\t\t&& data.entry.parentId === parseInt(params?.fields?.PARENT_ID)\n\t\t\t)\n\t\t\t{\n\t\t\t\tif (\n\t\t\t\t\tparams.command === 'delete_event'\n\t\t\t\t\t&& data.entry.getType() === params?.fields?.CAL_TYPE\n\t\t\t\t)\n\t\t\t\t{\n\t\t\t\t\tslider.close();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tif (params.command === 'set_meeting_status')\n\t\t{\n\t\t\ttop.BX.Event.EventEmitter.emit('BX.Calendar:doReloadCounters');\n\t\t}\n\n\t\tif (params.command === 'delete_event' || params.command === 'edit_event')\n\t\t{\n\t\t\tif (\n\t\t\t\t!params.fields\n\t\t\t\t||\n\t\t\t\t(params?.fields?.IS_MEETING && params?.fields?.MEETING_STATUS === 'Q')\n\t\t\t)\n\t\t\t{\n\t\t\t\ttop.BX.Event.EventEmitter.emit('BX.Calendar:doReloadCounters');\n\t\t\t}\n\t\t}\n\n\t\tconst calendarContext = Util.getCalendarContext();\n\t\tconst entrySectionId = parseInt(params?.fields?.SECTION_ID);\n\t\tlet sectionDisplayed = Type.isArray(params.sections)\n\t\t\t&& params.sections.find(section => {\n\t\t\t\treturn section.id === entrySectionId && section.isShown();\n\t\t\t});\n\n\t\tlet loadedEntry = params?.fields\n\t\t\t? EntryManager.getEntryInstance(\n\t\t\t\tcalendarContext.getView().getEntryById(EntryManager.getEntryUniqueId(params.fields)),\n\t\t\t)\n\t\t\t: null;\n\n\t\tif ((sectionDisplayed || loadedEntry) && calendarContext)\n\t\t{\n\t\t\tcalendarContext.reloadDebounce();\n\t\t}\n\t}\n\n\tstatic registerDeleteTimeout(params)\n\t{\n\t\tEntryManager.delayedActionList.push(params);\n\t}\n\n\tstatic unregisterDeleteTimeout({action, data})\n\t{\n\t\tEntryManager.delayedActionList = EntryManager.delayedActionList.filter((item) => {\n\t\t\treturn item.action !== action\n\t\t\t\t|| item.data.entryId !== data.entryId\n\t\t\t\t|| item.data.recursionMode !== data.recursionMode\n\t\t\t\t|| item.data.excludeDate !== data.excludeDate;\n\t\t});\n\t}\n\n\tstatic doDelayedActions()\n\t{\n\t\tlet requestList = [];\n\t\treturn new Promise(resolve => {\n\t\t\tif(!EntryManager.delayedActionList.length)\n\t\t\t{\n\t\t\t\tresolve();\n\t\t\t}\n\n\t\t\tEntryManager.delayedActionList.forEach(({action, data, params}) => {\n\n\t\t\t\tconst requestUid = parseInt(data.requestUid);\n\t\t\t\trequestList.push(data.requestUid);\n\n\t\t\t\tif (params.entry)\n\t\t\t\t{\n\t\t\t\t\tEntryManager.closeDeleteNotificationBalloon(params.entry);\n\t\t\t\t}\n\n\t\t\t\tBX.ajax.runAction(\n\t\t\t\t\t`calendar.api.calendarajax.${action}`,\n\t\t\t\t\t{data: data}\n\t\t\t\t).then(\n\t\t\t\t\t() => {\n\t\t\t\t\t\tType.isFunction(params.callback)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tparams.callback();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\trequestList = requestList.filter(uid => {return uid !== requestUid});\n\t\t\t\t\t\tif (!requestList.length)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t() => {\n\t\t\t\t\t\trequestList = requestList.filter(uid => {return uid !== requestUid});\n\t\t\t\t\t\tif (!requestList.length)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t\tEntryManager.unregisterDeleteTimeout({action, data, params});\n\t\t\t});\n\t\t});\n\t}\n\n\tstatic getEntryUniqueId(entryData, entry)\n\t{\n\t\tlet sid = entryData.PARENT_ID || entryData.ID;\n\t\tif (entryData.RRULE)\n\t\t{\n\t\t\tsid += '|' + (entry ? Util.formatDate(entry.from) : Util.formatDate(BX.parseDate(entryData.DATE_FROM)));\n\t\t}\n\n\t\tif (entryData['~TYPE'] === 'tasks')\n\t\t{\n\t\t\tsid += '|' + 'task';\n\t\t}\n\t\treturn sid;\n\t}\n\n\tstatic registerEntrySlider(entry, control)\n\t{\n\t\tconst slider = Util.getBX().SidePanel.Instance.getTopSlider();\n\t\tif (slider)\n\t\t{\n\t\t\tEntryManager.slidersMap.set(slider, {entry, control});\n\t\t}\n\t}\n\n\tstatic getNewEntryReminders(type = 'withTime')\n\t{\n\t\tconst userSettings = Util.getUserSettings();\n\t\tif (Type.isObjectLike(userSettings.defaultReminders)\n\t\t\t&& Type.isArray(userSettings.defaultReminders[type])\n\t\t\t&& userSettings.defaultReminders[type].length)\n\t\t{\n\t\t\treturn userSettings.defaultReminders[type];\n\t\t}\n\n\t\treturn type === 'withTime'\n\t\t\t? [{type: 'min', count: 15}]\n\t\t\t: [{type: 'daybefore', before: 0, time: 480}];\n\t}\n\n\tstatic setNewEntryReminders(type = 'withTime', reminders)\n\t{\n\t\tconst userSettings = Util.getUserSettings();\n\t\tif (Type.isObjectLike(userSettings.defaultReminders))\n\t\t{\n\t\t\tuserSettings.defaultReminders[type] = reminders;\n\t\t}\n\t\tUtil.setUserSettings(userSettings);\n\t}\n\n\t// this is because extensions cant be loaded in iframe with import\n\tstatic createConfirmEditDialog()\n\t{\n\t\tconst bx = Util.getBX();\n\n\t\treturn new bx.Calendar.Controls.ConfirmEditDialog();\n\t}\n\n\tstatic createConfirmStatusDialog()\n\t{\n\t\tconst bx = Util.getBX();\n\n\t\treturn new bx.Calendar.Controls.ConfirmStatusDialog();\n\t}\n\n\tstatic createReinviteUserDialog()\n\t{\n\t\tconst bx = Util.getBX();\n\n\t\treturn new bx.Calendar.Controls.ReinviteUserDialog();\n\t}\n\n\tstatic createConfirmedEmailDialog()\n\t{\n\t\tconst bx = Util.getBX();\n\n\t\treturn new bx.Calendar.Controls.ConfirmedEmailDialog();\n\t}\n\n\tstatic createEmailLimitationDialog()\n\t{\n\t\tconst bx = Util.getBX();\n\n\t\treturn new bx.Calendar.Controls.EmailLimitationDialog();\n\t}\n\n\tstatic async downloadIcs(eventId: number): void\n\t{\n\t\tconst { status, data } = await Util.getBX().ajax.runAction('calendar.api.calendarentryajax.getIcsContent', {\n\t\t\tdata: {\n\t\t\t\teventId,\n\t\t\t},\n\t\t});\n\n\t\tif (status !== 'success')\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tUtil.downloadIcsFile(data, 'event');\n\t}\n}\n","import { Util } from 'calendar.util';\nimport { EntryManager } from \"./entrymanager\";\nimport { Type, Loc } from 'main.core';\n\nexport {EntryManager};\n\nexport class Entry\n{\n\tFULL_DAY_LENGTH = 86400;\n\n\tstatic CAL_TYPES = {\n\t\t'user': 'user',\n\t\t'group': 'group',\n\t\t'company': 'company_calendar',\n\t};\n\tconstructor(options = {})\n\t{\n\t\tthis.prepareData(options.data);\n\t\tthis.parts = [];\n\n\t\tif (options.userIndex)\n\t\t{\n\t\t\tthis.setUserIndex(options.userIndex);\n\t\t}\n\n\t\tthis.delayTimeoutMap = new Map();\n\t}\n\n\tprepareData(data)\n\t{\n\t\tthis.data = data;\n\t\tthis.id = parseInt(this.data.ID || 0);\n\t\tthis.parentId = parseInt(this.data.PARENT_ID || 0);\n\n\t\tif (!this.data.DT_SKIP_TIME)\n\t\t{\n\t\t\tthis.data.DT_SKIP_TIME = this.data.SKIP_TIME ? 'Y' : 'N';\n\t\t}\n\t\tif (!Type.isString(this.data.NAME))\n\t\t{\n\t\t\tthis.data.NAME = Loc.getMessage('CALENDAR_DEFAULT_ENTRY_NAME');\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.data.NAME = this.data.NAME.replaceAll(/\\r\\n|\\r|\\n/g, ' ');\n\t\t}\n\n\t\tthis.fullDay = this.data.DT_SKIP_TIME === 'Y';\n\t\tthis.accessibility = this.data.ACCESSIBILITY || 'busy';\n\t\tthis.important = this.data.IMPORTANCE === 'high';\n\t\tthis.private = !!this.data.PRIVATE_EVENT;\n\t\tthis.setSectionId(this.data.SECT_ID);\n\t\tthis.name = this.data.NAME;\n\n\t\tthis.userTimezoneOffsetFrom = parseInt(this.data['~USER_OFFSET_FROM']) || 0;\n\t\tthis.userTimezoneOffsetTo = parseInt(this.data['~USER_OFFSET_TO']) || this.userTimezoneOffsetFrom;\n\n\t\tif (!this.data.DT_LENGTH)\n\t\t{\n\t\t\tthis.data.DT_LENGTH = this.data.DURATION || 0;\n\t\t}\n\t\tif (this.fullDay && !this.data.DT_LENGTH)\n\t\t{\n\t\t\tthis.data.DT_LENGTH = this.FULL_DAY_LENGTH;\n\t\t}\n\n\t\tif (\n\t\t\t!Type.isString(this.data.DATE_FROM) && !Type.isString(this.data.DATE_TO)\n\t\t\t&& Type.isDate(this.data.dateFrom) && Type.isDate(this.data.dateTo)\n\t\t)\n\t\t{\n\t\t\tthis.from = this.data.dateFrom;\n\t\t\tthis.to = this.data.dateTo;\n\n\t\t\tthis.data.DT_LENGTH = Math.round((this.to.getTime() - this.from.getTime()) / 1000);\n\t\t\tthis.data.DURATION = this.data.DT_LENGTH;\n\n\t\t\tif (this.fullDay)\n\t\t\t{\n\t\t\t\tthis.data.DATE_FROM = Util.formatDate(this.from.getTime());\n\t\t\t\tthis.data.DATE_TO = Util.formatDate(this.to.getTime());\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.from = new Date(this.from.getTime() - (parseInt(this.data['~USER_OFFSET_FROM']) || 0) * 1000);\n\t\t\t\tthis.to = new Date(this.to.getTime() - (parseInt(this.data['~USER_OFFSET_TO']) || 0) * 1000);\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (this.isTask())\n\t\t\t{\n\t\t\t\tthis.from = BX.parseDate(this.data.DATE_FROM) || new Date();\n\t\t\t\tthis.to = BX.parseDate(this.data.DATE_TO) || this.from;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.from = BX.parseDate(this.data.DATE_FROM) || new Date();\n\t\t\t\tthis.to = BX.parseDate(this.data.DATE_TO) || this.from;\n\t\t\t}\n\t\t}\n\n\t\tif (this.fullDay)\n\t\t{\n\t\t\tthis.from.setHours(0, 0, 0, 0);\n\t\t\tthis.to.setHours(0, 0, 0, 0);\n\t\t}\n\n\t\tif (!this.data.ATTENDEES_CODES && !this.isTask())\n\t\t{\n\t\t\tif (this.data.CAL_TYPE === 'user' && this.data.OWNER_ID)\n\t\t\t{\n\t\t\t\tthis.data.ATTENDEES_CODES = ['U' + this.data.OWNER_ID];\n\t\t\t}\n\t\t\telse if (this.data.CREATED_BY)\n\t\t\t{\n\t\t\t\tthis.data.ATTENDEES_CODES = ['U' + this.data.CREATED_BY];\n\t\t\t}\n\t\t}\n\n\t\tthis.startDayCode = this.from;\n\t\tthis.endDayCode = this.to;\n\n\t\tif (!Type.isArray(this.data.REMIND) && Type.isArray(this.data.remind))\n\t\t{\n\t\t\tthis.data.REMIND = [];\n\t\t\tthis.data.remind.forEach(function(value)\n\t\t\t{\n\t\t\t\tthis.data.REMIND.push({type: 'min', count: value});\n\t\t\t}, this);\n\t\t\tdelete this.data.remind;\n\t\t}\n\n\t\tif (this.data.permissions)\n\t\t{\n\t\t\tthis.permissions = this.data.permissions;\n\t\t}\n\t}\n\n\tgetAttendeesCodes()\n\t{\n\t\treturn this.data.ATTENDEES_CODES || [];\n\t}\n\n\tgetAttendeesEntityList()\n\t{\n\t\treturn this.data.attendeesEntityList || [];\n\t}\n\n\tgetAttendees()\n\t{\n\t\tif (!this.attendeeList)\n\t\t{\n\t\t\tthis.attendeeList = [];\n\t\t\tif (Type.isArray(this.data['ATTENDEE_LIST']))\n\t\t\t{\n\t\t\t\tconst userIndex = this.getUserIndex();\n\t\t\t\tthis.data['ATTENDEE_LIST'].forEach((user) => {\n\t\t\t\t\tif (userIndex[user.id])\n\t\t\t\t\t{\n\t\t\t\t\t\tlet attendee = BX.clone(userIndex[user.id]);\n\t\t\t\t\t\tattendee.STATUS = user.status;\n\t\t\t\t\t\tattendee.ENTRY_ID = user.entryId || false;\n\t\t\t\t\t\tthis.attendeeList.push(attendee);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\treturn this.attendeeList;\n\t}\n\n\tsetUserIndex(userIndex)\n\t{\n\t\tthis.userIndex = userIndex;\n\t}\n\n\tgetUserIndex()\n\t{\n\t\treturn this.userIndex || EntryManager.getUserIndex();\n\t}\n\n\tcleanParts()\n\t{\n\t\tthis.parts = [];\n\t}\n\n\tstartPart(part)\n\t{\n\t\tpart.partIndex = this.parts.length;\n\t\tthis.parts.push(part);\n\t\treturn this.parts[part.partIndex];\n\t}\n\n\tregisterPartNode(part, params)\n\t{\n\t\tpart.params = params;\n\t}\n\n\tcheckPartIsRegistered(part)\n\t{\n\t\treturn Type.isPlainObject(part.params);\n\t}\n\n\tgetPart(partIndex)\n\t{\n\t\treturn this.parts[partIndex] || false;\n\t}\n\n\tgetWrap(partIndex)\n\t{\n\t\treturn this.parts[partIndex || 0].params.wrapNode;\n\t}\n\n\tgetSectionName()\n\t{\n\t\t//return this.calendar.sectionController.getSection(this.sectionId).name || '';\n\t}\n\n\tgetDescription()\n\t{\n\t\treturn this.data.DESCRIPTION || '';\n\t}\n\n\tapplyViewRange(viewRange)\n\t{\n\t\tlet\n\t\t\tviewRangeStart = viewRange.start.getTime(),\n\t\t\tviewRangeEnd = viewRange.end.getTime(),\n\t\t\tfromTime = this.from.getTime(),\n\t\t\ttoTime = this.to.getTime();\n\n\t\tif (toTime < viewRangeStart || fromTime > viewRangeEnd)\n\t\t\treturn false;\n\n\t\tif (fromTime < viewRangeStart)\n\t\t{\n\t\t\tthis.displayFrom = viewRange.start;\n\t\t\tthis.startDayCode = this.displayFrom;\n\t\t}\n\n\t\tif (toTime > viewRangeEnd)\n\t\t{\n\t\t\tthis.displayTo = viewRange.end;\n\t\t\tthis.endDayCode = this.displayTo;\n\t\t}\n\t\treturn true;\n\t}\n\n\tisPersonal()\n\t{\n\t\t//return (this.data.CAL_TYPE === 'user' && this.data.OWNER_ID == this.calendar.util.userId);\n\t}\n\n\tisMeeting()\n\t{\n\t\treturn !!this.data.IS_MEETING;\n\t}\n\n\tisPrivate()\n\t{\n\t\treturn this.private;\n\t}\n\n\tisResourcebooking()\n\t{\n\t\treturn this.data.EVENT_TYPE === '#resourcebooking#';\n\t}\n\n\tisTask()\n\t{\n\t\treturn this.data['~TYPE'] === 'tasks';\n\t}\n\n\tisSharingEvent()\n\t{\n\t\treturn this.data['EVENT_TYPE'] === '#shared#' || this.data['EVENT_TYPE'] === '#shared_crm#';\n\t}\n\n\tisInvited()\n\t{\n\t\treturn this.getCurrentStatus() === 'Q';\n\t}\n\n\tisLocation()\n\t{\n\t\treturn this.getType() === 'location';\n\t}\n\n\tisFullDay()\n\t{\n\t\treturn this.fullDay;\n\t}\n\n\tisLongWithTime()\n\t{\n\t\treturn !this.fullDay && Util.getDayCode(this.from) !== Util.getDayCode(this.to);\n\t}\n\n\tisExpired()\n\t{\n\t\treturn this.to.getTime() < new Date().getTime();\n\t}\n\n\thasEmailAttendees()\n\t{\n\t\tif (this.emailAttendeesCache === undefined)\n\t\t{\n\t\t\tconst userIndex = EntryManager.getUserIndex();\n\t\t\tfor (let i = 0; i < this.data['ATTENDEE_LIST'].length; i++)\n\t\t\t{\n\t\t\t\tlet user = this.data['ATTENDEE_LIST'][i];\n\t\t\t\tif ((user.status === 'Y' || user.status === 'Q')\n\t\t\t\t\t&& userIndex[user.id]\n\t\t\t\t\t&& userIndex[user.id].EMAIL_USER\n\t\t\t\t)\n\t\t\t\t{\n\t\t\t\t\tthis.emailAttendeesCache = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn this.emailAttendeesCache;\n\t}\n\n\townerIsEmailUser()\n\t{\n\t\tif (this.ownerIsEmailUserCache === undefined)\n\t\t{\n\t\t\tconst userIndex = EntryManager.getUserIndex();\n\t\t\tthis.ownerIsEmailUserCache = userIndex[parseInt(this.data.MEETING_HOST)]\n\t\t\t\t&& userIndex[parseInt(this.data.MEETING_HOST)].EMAIL_USER;\n\t\t}\n\t\treturn this.ownerIsEmailUserCache;\n\t}\n\n\tisSelected()\n\t{\n\t\treturn !!this.selected;\n\t}\n\n\tisCrm()\n\t{\n\t\treturn !!this.data.UF_CRM_CAL_EVENT;\n\t}\n\n\tisFirstReccurentEntry()\n\t{\n\t\treturn (this.data.DATE_FROM_TS_UTC === Math.floor(BX.parseDate(this.data['~DATE_FROM']).getTime() / 1000) * 1000\n\t\t\t||\n\t\t\tBX.parseDate(this.data['DATE_FROM']).getTime() === BX.parseDate(this.data['~DATE_FROM']).getTime()\n\t\t) && !this.data.RECURRENCE_ID;\n\t}\n\n\tisRecursive()\n\t{\n\t\treturn !!this.data.RRULE;\n\t}\n\n\tisFirstInstance()\n\t{\n\t\treturn this.data.RRULE && this.data.RINDEX === 0;\n\t}\n\n\tgetMeetingHost()\n\t{\n\t\treturn parseInt(this.data.MEETING_HOST);\n\t}\n\n\tgetMeetingNotify()\n\t{\n\t\treturn this.data.MEETING.NOTIFY;\n\t}\n\n\tgetHideGuests()\n\t{\n\t\treturn this.data.MEETING && BX.Type.isBoolean(this.data.MEETING.HIDE_GUESTS)\n\t\t\t? this.data.MEETING.HIDE_GUESTS\n\t\t\t: true;\n\t}\n\n\tgetRrule()\n\t{\n\t\treturn this.data.RRULE;\n\t}\n\n\tgetRRuleDescription()\n\t{\n\t\treturn this.data['~RRULE_DESCRIPTION'];\n\t}\n\n\thasRecurrenceId()\n\t{\n\t\treturn this.data.RECURRENCE_ID;\n\t}\n\n\twasEverRecursive()\n\t{\n\t\treturn this.data.RRULE || this.data.RECURRENCE_ID;\n\t}\n\n\tdeselect()\n\t{\n\t\tthis.selected = false;\n\t}\n\n\tselect()\n\t{\n\t\tthis.selected = true;\n\t}\n\n\tdeleteParts(recursionMode)\n\t{\n\t\tconst calendarContext = Util.getCalendarContext();\n\t\tif (calendarContext)\n\t\t{\n\t\t\tconst wrap = calendarContext.getView().getContainer();\n\n\t\t\tif (recursionMode === 'all')\n\t\t\t{\n\t\t\t\tcalendarContext.getView().entries.forEach((entry) => {\n\t\t\t\t\tconst entryRecurrenceId = parseInt(entry.data.RECURRENCE_ID);\n\n\t\t\t\t\tif (parseInt(entry.id) === this.id\n\t\t\t\t\t\t|| (entryRecurrenceId > 0 && entryRecurrenceId === this.id)\n\t\t\t\t\t\t|| (entryRecurrenceId > 0 && entryRecurrenceId === parseInt(this.data.RECURRENCE_ID))\n\t\t\t\t\t\t|| (entryRecurrenceId > 0 && parseInt(entry.id) === parseInt(this.data.RECURRENCE_ID))\n\t\t\t\t\t)\n\t\t\t\t\t{\n\t\t\t\t\t\tconst entryPart = wrap.querySelector('div[data-bx-calendar-entry=\"' + entry.uid + '\"]');\n\t\t\t\t\t\tif (entryPart)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tentryPart.style.opacity = 0;\n\t\t\t\t\t\t\tsetTimeout(()=>{entryPart.style.display = 'none';}, 200);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\telse if (recursionMode === 'next')\n\t\t\t{\n\t\t\t\tcalendarContext.getView().entries.forEach((entry) => {\n\t\t\t\t\tif ((parseInt(entry.id) === this.id\n\t\t\t\t\t\t|| parseInt(entry.data.RECURRENCE_ID) === this.id\n\t\t\t\t\t\t|| parseInt(entry.data.RECURRENCE_ID) === parseInt(this.data.RECURRENCE_ID)\n\t\t\t\t\t\t|| parseInt(entry.id) === parseInt(this.data.RECURRENCE_ID))\n\t\t\t\t\t\t&& entry.from.getTime() > this.from.getTime()\n\t\t\t\t\t)\n\t\t\t\t\t{\n\t\t\t\t\t\tconst entryPart = wrap.querySelector('div[data-bx-calendar-entry=\"' + entry.uid + '\"]');\n\t\t\t\t\t\tif (entryPart)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tentryPart.style.opacity = 0;\n\t\t\t\t\t\t\tsetTimeout(()=>{entryPart.style.display = 'none';}, 200);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\telse if (recursionMode === 'this' || !recursionMode)\n\t\t\t{\n\t\t\t\tconst parts = wrap.querySelectorAll('div[data-bx-calendar-entry=\"' + this.getUniqueId() + '\"]');\n\t\t\t\tparts.forEach((entryPart)=>{\n\t\t\t\t\tentryPart.style.opacity = 0;\n\t\t\t\t\tsetTimeout(()=>{entryPart.style.display = 'none';}, 200);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\tgetUniqueId()\n\t{\n\t\treturn EntryManager.getEntryUniqueId(this.data, this);\n\t}\n\n\tgetCurrentStatus()\n\t{\n\t\tlet\n\t\t\tuserId = Util.getCurrentUserId(),\n\t\t\tstatus = false,\n\t\t\ti, user;\n\n\t\tif (this.isMeeting())\n\t\t{\n\t\t\tif (userId === parseInt(this.data.CREATED_BY))\n\t\t\t{\n\t\t\t\tstatus = this.data.MEETING_STATUS || 'Q';\n\t\t\t}\n\t\t\telse if (userId === parseInt(this.data.MEETING_HOST))\n\t\t\t{\n\t\t\t\tstatus = 'H';\n\t\t\t\t//status = this.data.MEETING_STATUS || 'H';\n\t\t\t}\n\t\t\telse if (Type.isArray(this.data['ATTENDEE_LIST']))\n\t\t\t{\n\t\t\t\tfor (i = 0; i < this.data['ATTENDEE_LIST'].length; i++)\n\t\t\t\t{\n\t\t\t\t\tuser = this.data['ATTENDEE_LIST'][i];\n\t\t\t\t\tif (parseInt(user.id) === userId)\n\t\t\t\t\t{\n\t\t\t\t\t\tstatus = user.status;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse if (userId === parseInt(this.data.CREATED_BY))\n\t\t{\n\t\t\tstatus = this.data.MEETING_STATUS || 'H';\n\t\t}\n\n\t\treturn Util.getMeetingStatusList().includes(status) ? status : false;\n\t}\n\n\tsetCurrentStatus(status)\n\t{\n\t\tif (this.isMeeting() && Util.getMeetingStatusList().includes(status))\n\t\t{\n\t\t\tthis.data.MEETING_STATUS = status;\n\n\t\t\tconst userId = Util.getCurrentUserId();\n\t\t\tif (Type.isArray(this.data['ATTENDEE_LIST']))\n\t\t\t{\n\t\t\t\tfor (let i = 0; i < this.data['ATTENDEE_LIST'].length; i++)\n\t\t\t\t{\n\t\t\t\t\tif (parseInt(this.data['ATTENDEE_LIST'][i].id) === userId)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.data['ATTENDEE_LIST'][i].status = status;\n\t\t\t\t\t\tthis.attendeeList = null;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tgetReminders()\n\t{\n\t\tlet res = [];\n\t\tif (this.data && this.data.REMIND)\n\t\t{\n\t\t\tthis.data.REMIND.forEach(function (remind)\n\t\t\t{\n\t\t\t\tswitch(remind.type)\n\t\t\t\t{\n\t\t\t\t\tcase 'min':\n\t\t\t\t\t\tres.push(remind.count);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'hour':\n\t\t\t\t\t\tres.push(parseInt(remind.count) * 60);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'day':\n\t\t\t\t\t\tres.push(parseInt(remind.count) * 60 * 24);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'daybefore':\n\t\t\t\t\t\tres.push(remind);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'date':\n\t\t\t\t\t\tif (!Type.isDate(remind.value))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tremind.value = Util.parseDate(remind.value);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (Type.isDate(remind.value))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tres.push(remind);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\treturn res;\n\t}\n\n\tgetLengthInDays()\n\t{\n\t\tlet\n\t\t\tfrom = new Date(this.from.getFullYear(), this.from.getMonth(), this.from.getDate(), 0, 0, 0),\n\t\t\tto = new Date(this.to.getFullYear(), this.to.getMonth(), this.to.getDate(), 0, 0, 0);\n\n\t\treturn Math.round((to.getTime() - from.getTime()) / Util.getDayLength()) + 1;\n\t}\n\n\tgetName(): string\n\t{\n\t\treturn (this.name || '');\n\t}\n\n\tgetColor()\n\t{\n\t\treturn this.data.COLOR;\n\t}\n\n\tgetType()\n\t{\n\t\treturn this.data.CAL_TYPE;\n\t}\n\n\tgetOwnerId()\n\t{\n\t\treturn this.data.OWNER_ID;\n\t}\n\n\tdelete(params)\n\t{\n\t\tparams = Type.isPlainObject(params) ? params : {};\n\t\tlet recursionMode = params.recursionMode || false;\n\n\t\tif (this.wasEverRecursive() && !params.confirmed)\n\t\t{\n\t\t\treturn this.showConfirmDeleteDialog({entry: this});\n\t\t}\n\t\telse\n\t\t{\n\t\t\t// Broadcast event\n\t\t\tBX.onCustomEvent('BX.Calendar.Entry:beforeDelete', [{entryId: this.id, recursionMode: recursionMode, entryData: this.data}]);\n\n\t\t\tEntryManager.showDeleteEntryNotification(this);\n\t\t\tthis.deleteParts(recursionMode);\n\n\t\t\tconst action = 'deleteCalendarEntry';\n\t\t\tconst data = {\n\t\t\t\tentryId: this.parentId,\n\t\t\t\trecursionMode: params.recursionMode || false,\n\t\t\t\trequestUid: Util.registerRequestId(),\n\t\t\t};\n\n\t\t\tEntryManager.registerDeleteTimeout({\n\t\t\t\taction,\n\t\t\t\tdata,\n\t\t\t\tparams: {\n\t\t\t\t\tentry: this,\n\t\t\t\t\tcallback: () => {\n\t\t\t\t\t\tBX.onCustomEvent('BX.Calendar.Entry:delete', [{entryId: this.id, recursionMode: recursionMode}]);\n\t\t\t\t\t}\n\t\t\t\t}});\n\n\t\t\tthis.deleteTimeout = setTimeout(EntryManager.doDelayedActions, EntryManager.DELETE_DELAY_TIMEOUT);\n\t\t\tthis.delayTimeoutMap.set(this.deleteTimeout, {action, data});\n\t\t}\n\t}\n\n\tdeleteThis()\n\t{\n\t\tlet recursionMode = 'this';\n\t\tif (this.isRecursive())\n\t\t{\n\t\t\tBX.onCustomEvent('BX.Calendar.Entry:beforeDelete', [{entryId: this.id, recursionMode: recursionMode, entryData: this.data}]);\n\n\t\t\tEntryManager.showDeleteEntryNotification(this);\n\t\t\tthis.deleteParts(recursionMode);\n\n\t\t\tconst action = 'excludeRecursionDate';\n\t\t\tconst data = {\n\t\t\t\tentryId: this.parentId,\n\t\t\t\trecursionMode: recursionMode,\n\t\t\t\texcludeDate: this.data.DATE_FROM,\n\t\t\t};\n\n\t\t\tEntryManager.registerDeleteTimeout({\n\t\t\t\taction,\n\t\t\t\tdata,\n\t\t\t\tparams: {\n\t\t\t\t\tentry: this,\n\t\t\t\t\tcallback: () => {\n\t\t\t\t\t\tBX.onCustomEvent('BX.Calendar.Entry:delete', [data]);\n\t\t\t\t\t}\n\t\t\t\t}});\n\n\t\t\tthis.deleteTimeout = setTimeout(EntryManager.doDelayedActions, EntryManager.DELETE_DELAY_TIMEOUT);\n\t\t\tthis.delayTimeoutMap.set(this.deleteTimeout, {action, data});\n\t\t}\n\t\telse if (this.hasRecurrenceId())\n\t\t{\n\t\t\tthis.delete({confirmed: true, recursionMode: 'this'});\n\t\t}\n\t}\n\n\tdeleteNext()\n\t{\n\t\tlet recursionMode = 'next';\n\t\tif (this.isRecursive() && this.isFirstReccurentEntry())\n\t\t{\n\t\t\tthis.deleteAll();\n\t\t}\n\t\telse\n\t\t{\n\t\t\tBX.onCustomEvent('BX.Calendar.Entry:beforeDelete', [{entryId: this.id, recursionMode: recursionMode}]);\n\n\t\t\tEntryManager.showDeleteEntryNotification(this);\n\t\t\tthis.deleteParts(recursionMode);\n\n\t\t\tconst action = 'changeRecurciveEntryUntil';\n\t\t\tconst data = {\n\t\t\t\tentryId: this.parentId,\n\t\t\t\trecursionMode: recursionMode,\n\t\t\t\tuntilDate: Util.formatDate(this.from.getTime() - Util.getDayLength()),\n\t\t\t};\n\t\t\tEntryManager.registerDeleteTimeout({\n\t\t\t\taction,\n\t\t\t\tdata,\n\t\t\t\tparams: {\n\t\t\t\t\tentry: this,\n\t\t\t\t\tcallback: () => {\n\t\t\t\t\t\tBX.onCustomEvent('BX.Calendar.Entry:delete', [data]);\n\t\t\t\t\t}\n\t\t\t\t}});\n\n\t\t\tthis.deleteTimeout = setTimeout(EntryManager.doDelayedActions, EntryManager.DELETE_DELAY_TIMEOUT);\n\t\t\tthis.delayTimeoutMap.set(this.deleteTimeout, {action, data});\n\t\t}\n\t}\n\n\tdeleteAll()\n\t{\n\t\treturn this.delete({confirmed: true, recursionMode: 'all'});\n\t}\n\n\tcancelDelete()\n\t{\n\t\tif (this.deleteTimeout)\n\t\t{\n\t\t\tconst deleteTimeoutData = this.delayTimeoutMap.get(this.deleteTimeout);\n\t\t\tif (deleteTimeoutData)\n\t\t\t{\n\t\t\t\tEntryManager.unregisterDeleteTimeout(deleteTimeoutData);\n\t\t\t\tBX.onCustomEvent('BX.Calendar.Entry:cancelDelete', [{entryId: this.id, entryData: this.data}]);\n\t\t\t\tthis.delayTimeoutMap.delete(this.delayTimeoutMap);\n\t\t\t}\n\t\t\tclearTimeout(this.deleteTimeout);\n\t\t\tthis.deleteTimeout = null;\n\t\t}\n\n\t\tconst calendarContext = Util.getCalendarContext();\n\t\tif (calendarContext)\n\t\t{\n\t\t\tcalendarContext.reload();\n\t\t}\n\t}\n\n\tshowConfirmDeleteDialog(params)\n\t{\n\t\tif (!this.confirmDeleteDialog)\n\t\t{\n\t\t\tthis.confirmDeleteDialog = new (window.BX || window.top.BX).Calendar.Controls\n\t\t\t\t.ConfirmDeleteDialog({entry: params.entry});\n\t\t}\n\t\tthis.confirmDeleteDialog.show();\n\t}\n\n\tsave()\n\t{\n\t}\n\n\tgetLocation()\n\t{\n\t\treturn this.data.LOCATION;\n\t}\n\n\tsetTimezone(timezoneFrom, timezoneTo = null)\n\t{\n\t\tif(Type.isString(timezoneFrom))\n\t\t{\n\t\t\tthis.data.TZ_FROM = timezoneFrom;\n\t\t\tif (Type.isNull(timezoneTo))\n\t\t\t{\n\t\t\t\tthis.data.TZ_TO = timezoneFrom;\n\t\t\t}\n\t\t}\n\t\tif(Type.isString(timezoneTo))\n\t\t{\n\t\t\tthis.data.TZ_TO = timezoneTo;\n\t\t}\n\t}\n\n\tgetTimezoneFrom()\n\t{\n\t\treturn this.data.TZ_FROM || '';\n\t}\n\n\tgetTimezoneTo()\n\t{\n\t\treturn this.data.TZ_TO || '';\n\t}\n\n\tsetSectionId(value)\n\t{\n\t\tthis.data.SECT_ID = this.sectionId = this.isTask() ? 'tasks' : parseInt(value);\n\t}\n\n\tsetDateTimeValue({from, to})\n\t{\n\t\tif (Type.isDate(from) && Type.isDate(to))\n\t\t{\n\t\t\tthis.from = this.data.dateFrom = from;\n\t\t\tthis.to = this.data.dateTo = to;\n\n\t\t\tthis.data.DT_LENGTH = Math.round((this.to.getTime() - this.from.getTime()) / 1000);\n\t\t\tthis.data.DURATION = this.data.DT_LENGTH;\n\n\t\t\tif (this.fullDay)\n\t\t\t{\n\t\t\t\tthis.data.DATE_FROM = Util.formatDate(this.from.getTime());\n\t\t\t\tthis.data.DATE_TO = Util.formatDate(this.to.getTime());\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.data.DATE_FROM = Util.formatDateTime(this.from.getTime());\n\t\t\t\tthis.data.DATE_TO = Util.formatDateTime(this.to.getTime());\n\t\t\t}\n\t\t}\n\t}\n\n\tisOpenEvent(): boolean\n\t{\n\t\treturn this.getType() === 'open_event';\n\t}\n}\n"],"names":["EntryManager","getNewEntry","options","newEntryData","dateTime","getNewEntryTime","Date","userSettings","Util","getUserSettings","userId","getCurrentUserId","ID","NAME","getNewEntryName","dateFrom","from","dateTo","to","type","SECT_ID","RoomsManager","getNewEntrySectionId","parseInt","ownerId","SectionManager","REMIND","getNewEntryReminders","attendeesEntityList","entityId","id","ATTENDEE_LIST","status","push","TZ_FROM","timezoneName","timezoneDefaultName","TZ_TO","Entry","data","date","duration","getUsableDateTime","calendarContext","getCalendarContext","displayedViewRange","getDisplayedViewRange","Type","isDate","start","getTime","end","startDate","workTime","util","getWorkTime","setHours","newEntryName","setNewEntryName","showEditEntryNotification","entryId","showNotification","Loc","getMessage","title","events","click","event","balloon","action","openViewSlider","close","showNewEntryNotification","showDeleteEntryNotification","entry","BX","UI","Notification","Center","notify","getUniqueId","content","actions","cancelDelete","showReleaseLocationNotification","closeDeleteNotificationBalloon","getBalloonById","openEditSlider","bx","getBX","Calendar","SliderLoader","roomsManager","isLocationCalendar","categoryManager","locationAccess","hasLocationAccess","locationCapacity","formDataValue","jumpToControl","show","eventId","isNull","entryDateFrom","timezoneOffset","link","openSettingsSlider","getSettingsSlider","then","SettingsInterfaceInstance","showPersonalSettings","userIsOwner","showGeneralSettings","hasFullAccess","settings","getSettings","isExtranet","Promise","resolve","SettingsInterface","extensionName","Runtime","loadExtension","console","error","openSectionsSlider","getSectionsSlider","SectionInterfaceInstance","readonly","isReadOnlyMode","sectionManager","isCollabFeatureEnabled","SectionInterface","openRoomsSlider","getRoomsSlider","RoomsInterfaceInstance","Rooms","RoomsInterface","deleteEntry","slider","SidePanel","Instance","getTopSlider","beforeDeleteHandler","getData","get","EventEmitter","subscribe","deleteHandler","calendar","reload","unsubscribe","delete","setMeetingStatus","params","isPlainObject","recursionMode","confirmed","isRecursive","isOpenEvent","showConfirmStatusDialog","ajax","runAction","entryParentId","parentId","currentDateFrom","formatDate","response","Event","emit","BaseEvent","counters","setCurrentStatus","resolvePromiseCallback","confirmDeclineDialog","createConfirmStatusDialog","unsubscribeAll","isFunction","showConfirmEditDialog","confirmEditDialog","createConfirmEditDialog","callback","showReInviteUsersDialog","reinviteUsersDialog","createReinviteUserDialog","showConfirmedEmailDialog","confirmedEmailDialog","createConfirmedEmailDialog","getLocationRepeatBusyErrorPopup","MessageBox","message","Tag","render","minHeight","minWidth","maxWidth","buttons","Dialogs","MessageBoxButtons","YES_CANCEL","onYes","onYesCallback","onCancel","onCancelCallback","yesCaption","cancelCaption","mediumButtonSize","popupOptions","onPopupClose","onPopupCloseCallback","closeByEsc","padding","contentPadding","animation","showEmailLimitationDialog","limitationEmailDialog","createEmailLimitationDialog","getCompactViewForm","create","compactEntryForm","CompactEventForm","openCompactViewForm","compactForm","isShown","closeCallback","showInViewMode","openCompactEditForm","showInEditMode","getEntryInstance","userIndex","entryInstance","isObject","getUserIndex","setUserIndex","handlePullChanges","includes","command","top","Controls","Location","handlePull","checkRequestId","requestUid","getOpenSliders","forEach","slidersMap","fields","PARENT_ID","getType","CAL_TYPE","IS_MEETING","MEETING_STATUS","entrySectionId","SECTION_ID","sectionDisplayed","isArray","sections","find","section","loadedEntry","getView","getEntryById","getEntryUniqueId","reloadDebounce","registerDeleteTimeout","delayedActionList","unregisterDeleteTimeout","filter","item","excludeDate","doDelayedActions","requestList","length","uid","entryData","sid","RRULE","parseDate","DATE_FROM","registerEntrySlider","control","set","isObjectLike","defaultReminders","count","before","time","setNewEntryReminders","reminders","setUserSettings","ConfirmEditDialog","ConfirmStatusDialog","ReinviteUserDialog","ConfirmedEmailDialog","EmailLimitationDialog","downloadIcs","downloadIcsFile","DELETE_DELAY_TIMEOUT","WeakMap","constructor","FULL_DAY_LENGTH","prepareData","parts","delayTimeoutMap","Map","DT_SKIP_TIME","SKIP_TIME","isString","replaceAll","fullDay","accessibility","ACCESSIBILITY","important","IMPORTANCE","private","PRIVATE_EVENT","setSectionId","name","userTimezoneOffsetFrom","userTimezoneOffsetTo","DT_LENGTH","DURATION","DATE_TO","Math","round","isTask","ATTENDEES_CODES","OWNER_ID","CREATED_BY","startDayCode","endDayCode","remind","value","permissions","getAttendeesCodes","getAttendeesEntityList","getAttendees","attendeeList","user","attendee","clone","STATUS","ENTRY_ID","cleanParts","startPart","part","partIndex","registerPartNode","checkPartIsRegistered","getPart","getWrap","wrapNode","getSectionName","getDescription","DESCRIPTION","applyViewRange","viewRange","viewRangeStart","viewRangeEnd","fromTime","toTime","displayFrom","displayTo","isPersonal","isMeeting","isPrivate","isResourcebooking","EVENT_TYPE","isSharingEvent","isInvited","getCurrentStatus","isLocation","isFullDay","isLongWithTime","getDayCode","isExpired","hasEmailAttendees","emailAttendeesCache","undefined","i","EMAIL_USER","ownerIsEmailUser","ownerIsEmailUserCache","MEETING_HOST","isSelected","selected","isCrm","UF_CRM_CAL_EVENT","isFirstReccurentEntry","DATE_FROM_TS_UTC","floor","RECURRENCE_ID","isFirstInstance","RINDEX","getMeetingHost","getMeetingNotify","MEETING","NOTIFY","getHideGuests","isBoolean","HIDE_GUESTS","getRrule","getRRuleDescription","hasRecurrenceId","wasEverRecursive","deselect","select","deleteParts","wrap","getContainer","entries","entryRecurrenceId","entryPart","querySelector","style","opacity","setTimeout","display","querySelectorAll","getMeetingStatusList","getReminders","res","getLengthInDays","getFullYear","getMonth","getDate","getDayLength","getName","getColor","COLOR","getOwnerId","showConfirmDeleteDialog","onCustomEvent","registerRequestId","deleteTimeout","deleteThis","deleteNext","deleteAll","untilDate","deleteTimeoutData","clearTimeout","confirmDeleteDialog","window","ConfirmDeleteDialog","save","getLocation","LOCATION","setTimezone","timezoneFrom","timezoneTo","getTimezoneFrom","getTimezoneTo","sectionId","setDateTimeValue","formatDateTime","CAL_TYPES"],"mappings":"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"}